/*! For license information please see 3.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[3],{"../../assets/icon_black.svg":(e,t,s)=>{e.exports=s.p+"icon_black.svg?5136879a03a13f9fb18f241b081f38cb"},"./api/devices/index.tsx":(e,t,s)=>{"use strict";s.d(t,{i:()=>l});var n=s("../../node_modules/tslib/tslib.es6.js"),a=s("../../node_modules/lodash/lodash.js"),o=s("./api/callAPI.tsx");const l={fetchHeatingDevices:()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=yield(0,o.Z)("GET","/devices"),t=(0,a.sortBy)(e,"name").reduce(((e,t,s)=>(e[s]=t,e[t.id]=t,e)),{});return t.length=e.length,t}))}},"./api/hooks.tsx":(e,t,s)=>{"use strict";s.d(t,{Ls:()=>p,yU:()=>v,xn:()=>u,Si:()=>g,rV:()=>x,HT:()=>h});var n=s("./api/devices/index.tsx"),a=s("./api/heating/index.tsx"),o=s("./api/settings/index.tsx"),l=s("../../node_modules/tslib/tslib.es6.js"),r=s("../../node_modules/react/index.js");const i=new Map,c="Loading...";function d(e,t){return(s=!1,n=!1)=>{const a=i.get(e);let[o,d]=[null,null];s&&([o,d]=r.useState(a!==c?a:null));const[m,u]=r.useState(!1);function p(s=!1){if(null==i.get(e)||s)throw i.set(e,c),function(e,t){return(0,l.mG)(this,void 0,void 0,(function*(){try{t(yield e())}catch(e){t((()=>{throw e}))}}))}(t,(t=>{"function"==typeof t?i.set(e,t(i.get(e))):i.set(e,t)})).catch((e=>{u(!!n||(()=>{throw e}))}))}return p(),(0,r.useEffect)((()=>()=>{i.delete(e)}),[]),{[e]:s?o:a,[`set${e.charAt(0).toUpperCase()+e.slice(1)}`]:s?d:function(){},[`load${e.charAt(0).toUpperCase()+e.slice(1)}`]:p,[`load${e.charAt(0).toUpperCase()+e.slice(1)}Failed`]:m}}}var m=s("./api/zones/index.tsx");const u=d("plans",a.M.fetchPlans),p=d("devices",n.i.fetchHeatingDevices),h=d("zones",m.v.fetchHeatingZones),g=d("scheduleInformation",a.M.fetchSchedule),x=d("settings",o.w.fetchSettings),v=d("mode",a.X.fetchMode)},"./api/settings/index.tsx":(e,t,s)=>{"use strict";s.d(t,{w:()=>o});var n=s("../../node_modules/tslib/tslib.es6.js"),a=s("./api/callAPI.tsx");const o={fetchSettings:()=>(0,n.mG)(void 0,void 0,void 0,(function*(){return yield(0,a.Z)("GET","/settings")})),updateSettings:e=>(0,n.mG)(void 0,void 0,void 0,(function*(){return yield(0,a.Z)("PUT","/settings",e)}))}},"./api/zones/index.tsx":(e,t,s)=>{"use strict";s.d(t,{v:()=>l});var n=s("../../node_modules/tslib/tslib.es6.js"),a=s("../../node_modules/lodash/lodash.js"),o=s("./api/callAPI.tsx");const l={fetchHeatingZones:()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=yield(0,o.Z)("GET","/zones"),t=(0,a.sortBy)(e,"name").reduce(((e,t,s)=>(e[s]=t,e[t.id]=t,e)),{});return t.length=e.length,t}))}},"./components/FormTextField.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s("../../node_modules/tslib/tslib.es6.js"),a=s("../../node_modules/@material-ui/core/esm/TextField/TextField.js"),o=s("../../node_modules/react/index.js"),l=s("./components/InputContainer.tsx");const r=e=>{var{classes:t}=e,s=(0,n._T)(e,["classes"]);return o.createElement(l.Z,null,o.createElement(a.Z,Object.assign({fullWidth:!0,margin:"normal"},s)))}},"./components/InputContainer.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),a=s("../../node_modules/react/index.js");const o=(0,n.Z)((e=>({inputContainer:{width:"100%",paddingLeft:e.spacing(2),paddingRight:e.spacing(3)}})))((e=>a.createElement("div",{className:e.classes.inputContainer},e.children)))},"./components/TemperatureAvatar.tsx":(e,t,s)=>{"use strict";s.d(t,{lt:()=>g,xj:()=>h});var n=s("../../node_modules/@material-ui/core/esm/Typography/Typography.js"),a=s("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),o=s("../../node_modules/@material-ui/core/esm/Avatar/Avatar.js"),l=s("../../node_modules/@material-ui/core/colors/deepOrange.js"),r=s("../../node_modules/@material-ui/core/colors/lightBlue.js"),i=s("../../node_modules/react/index.js"),c=s("./components/temperatureToColor.tsx");const d=s("../../assets/icon_black.svg"),m=35,u=e=>({root:{fontSize:"1em",float:"left",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",width:45},avatar:{width:m,height:m,lineHeight:m,position:"relative",overflow:"hidden"},img:{width:m,height:m,zIndex:2,position:"absolute",left:0,bottom:0},fill:{display:"block",width:m,height:33,zIndex:1,position:"absolute",left:0,bottom:1}});function p(e,t){return(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)}const h=(0,a.Z)(u)((e=>{const{value:t,classes:s,fill:a}=e;let{digits:o}=e;const c=(100===a?r.Z:l.Z)[500];return null==o&&(o=2),i.createElement("div",{className:s.root},i.createElement("div",{className:s.avatar},i.createElement("object",{className:s.img,data:d,type:"image/svg+xml"}),i.createElement("span",{style:{height:`calc(${a}% - 5px)`,background:c},className:s.fill})),i.createElement(n.Z,{variant:"body1",color:"textSecondary",component:"div"},p(t,o),"°"))})),g=(0,a.Z)(u)((e=>{const{value:t}=e;return i.createElement(o.Z,{style:{padding:"25px",background:(0,c.h)(t),fontSize:"1em"}},p(t,1),"°")}))},"./components/temperatureToColor.tsx":(e,t,s)=>{"use strict";s.d(t,{h:()=>r});var n=s("../../node_modules/@material-ui/core/colors/amber.js"),a=s("../../node_modules/@material-ui/core/colors/blue.js"),o=s("../../node_modules/@material-ui/core/colors/deepOrange.js"),l=s("../../node_modules/@material-ui/core/colors/green.js");const r=e=>{const t=Math.round(100*(s=Math.min(Math.max(16,e),24),16,24,1,8,Math.floor(7*(s-16)/8+1))+100);var s;return e<=16?a.Z[t]:e<=18.5?l.Z[t]:e<=20.5?n.Z[t]:o.Z[t]}},"./pages/temperatures.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var n=s("../../node_modules/@material-ui/core/esm/FormControl/FormControl.js"),a=s("../../node_modules/@material-ui/core/esm/InputLabel/InputLabel.js"),o=s("../../node_modules/@material-ui/core/esm/Select/Select.js"),l=s("../../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js"),r=s("../../node_modules/@material-ui/core/esm/ListItemAvatar/ListItemAvatar.js"),i=s("../../node_modules/@material-ui/core/esm/Divider/Divider.js"),c=s("../../node_modules/@material-ui/core/esm/List/List.js"),d=s("../../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),m=s("../../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js"),u=s("../../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),p=s("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),h=s("../../node_modules/react/index.js"),g=s("../app/model/heating.ts"),x=s("./api/hooks.tsx"),v=s("./components/AppHeader.tsx"),f=s("./components/BodyText.tsx"),Z=s("./components/FormTextField.tsx"),y=s("./components/InputContainer.tsx"),b=s("./components/Menu.tsx"),j=s("./components/SubHeader.tsx"),_=s("./components/TemperatureAvatar.tsx"),E=s("./i18n/Translation.tsx"),T=s("./layouts/Page.tsx");const I=(0,p.Z)((e=>({list:{marginTop:0,marginBottom:e.spacing(2)}})))((e=>{const{classes:t}=e,{scheduleInformation:s}=(0,x.Si)();function p(e){if(e.thermostatMode!==g.bc.Automatic)return(0,E.Z)(`ThermostatMode.${e.thermostatMode}`);if(e.conflictingPlans.length>1){const t=e.conflictingPlans.filter((t=>e.plan.id!==t.id)).map((e=>e.name)).join(", ");return`${e.plan.name} (${t})`}return e.plan.name}return h.createElement(T.Z,null,{header:h.createElement(v.Z,null,{title:(0,E.Z)("temperatures.title"),button:h.createElement(b.T2,null)}),paddingTop:50,body:h.createElement(h.Fragment,null,h.createElement(j.Z,{text:(0,E.Z)("temperatures.schedule")}),h.createElement(y.Z,null,h.createElement(n.Z,{className:t.formControl,fullWidth:!0},h.createElement(a.Z,null,(0,E.Z)("temperatures.mode")),h.createElement(o.Z,{fullWidth:!0,disabled:!0,value:s.mode},[0,1,2,3,4,5].map((e=>h.createElement(l.Z,{key:e,value:e},(0,E.Z)(`Modes.${e}`))))))),s.nextDate&&h.createElement(Z.Z,{label:(0,E.Z)("temperatures.next"),type:"datetime-local",value:(e=>{if(null==e)return"";const t=new Date(e),s=e=>(e<10?"0":"")+e;return t.getFullYear()+"-"+s(t.getMonth()+1)+"-"+s(t.getDate())+"T"+s(t.getHours())+":"+s(t.getMinutes())+":"+s(t.getSeconds())})(s.nextDate),disabled:!0}),h.createElement(j.Z,{text:(0,E.Z)("temperatures.list.title")}),h.createElement(f.Z,{text:(0,E.Z)("temperatures.list.text")}),0===s.temperatures.length?h.createElement(f.Z,{style:{paddingTop:16},text:(0,E.Z)("temperatures.list.empty")}):h.createElement(c.Z,{className:t.list},s.temperatures.length>0&&h.createElement(i.Z,null),s.temperatures.map((e=>{return h.createElement(h.Fragment,{key:e.device.id+e.plan.id},h.createElement(d.Z,null,h.createElement(r.Z,null,h.createElement(_.lt,{value:e.targetTemperature})),h.createElement(u.Z,{primary:e.device.name,secondary:p(e)}),h.createElement(m.Z,{style:{paddingRight:16}},h.createElement(_.xj,{value:e.temperature||e.targetTemperature,fill:(t=e.temperature||e.targetTemperature,s=e.targetTemperature,t>s?100:Math.round(t/s*100))}))),h.createElement(i.Z,null));var t,s}))))})}))}}]);
//# sourceMappingURL=https://raw.githubusercontent.com/mskg/homey-heating/release/v2.0.0-rc11/settings/3.js.map