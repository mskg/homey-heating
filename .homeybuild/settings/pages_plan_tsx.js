/*! For license information please see pages_plan_tsx.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["pages_plan_tsx"],{"./api/devices/index.tsx":(e,t,a)=>{a.r(t),a.d(t,{deviceAPI:()=>o});var l=a("../../node_modules/tslib/tslib.es6.js"),n=a("../../node_modules/lodash/lodash.js"),s=a("./api/callAPI.tsx");const o={fetchHeatingDevices:()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield(0,s.default)("GET","/devices"),t=(0,n.sortBy)(e,"name").reduce(((e,t,a)=>(e[a]=t,e[t.id]=t,e)),{});return t.length=e.length,t}))}},"./api/zones/index.tsx":(e,t,a)=>{a.r(t),a.d(t,{zoneAPI:()=>o});var l=a("../../node_modules/tslib/tslib.es6.js"),n=a("../../node_modules/lodash/lodash.js"),s=a("./api/callAPI.tsx");const o={fetchHeatingZones:()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield(0,s.default)("GET","/zones"),t=(0,n.sortBy)(e,"name").reduce(((e,t,a)=>(e[a]=t,e[t.id]=t,e)),{});return t.length=e.length,t}))}},"./components/ConfirmDialog.tsx":(e,t,a)=>{a.r(t),a.d(t,{useConfirmDialog:()=>f});var l=a("../../node_modules/tslib/tslib.es6.js"),n=a("../../node_modules/@material-ui/core/esm/Button/Button.js"),s=a("../../node_modules/@material-ui/core/esm/Dialog/Dialog.js"),o=a("../../node_modules/@material-ui/core/esm/DialogActions/DialogActions.js"),i=a("../../node_modules/@material-ui/core/esm/DialogContent/DialogContent.js"),d=a("../../node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js"),r=a("../../node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js"),c=a("../../node_modules/react/index.js"),u=a("./i18n/Translation.tsx"),m=a("./components/Transition.tsx");const p=e=>{const{open:t,title:a,content:p,onOK:f,onCancel:h}=e,v=(0,l.__rest)(e,["open","title","content","onOK","onCancel"]);return c.createElement(s.default,Object.assign({open:t,onClose:()=>{h()},TransitionComponent:m.default},v),c.createElement(r.default,null,a||(0,u.default)("confirm.title")),c.createElement(i.default,null,c.createElement(d.default,null,p)),c.createElement(o.default,null,c.createElement(n.default,{onClick:()=>{h()},color:"primary"},(0,u.default)("confirm.cancel")),c.createElement(n.default,{onClick:()=>{f()},color:"primary"},(0,u.default)("confirm.ok"))))},f=e=>{const{onConfirm:t}=e,a=(0,l.__rest)(e,["onConfirm"]),[n,s]=(0,c.useState)(!1);return{dialog:c.createElement(p,Object.assign({open:n,onCancel:()=>{s(!1)},onOK:t},a)),isOpen:n,open:()=>{s(!0)}}}},"./components/FormTextField.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var l=a("../../node_modules/tslib/tslib.es6.js"),n=a("../../node_modules/@material-ui/core/esm/TextField/TextField.js"),s=a("../../node_modules/react/index.js"),o=a("./components/InputContainer.tsx");const i=e=>{var{classes:t}=e,a=(0,l.__rest)(e,["classes"]);return s.createElement(o.default,null,s.createElement(n.default,Object.assign({fullWidth:!0,margin:"normal"},a)))}},"./components/Icons.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var l=a("../../node_modules/@material-ui/icons/esm/Home.js"),n=a("../../node_modules/@material-ui/icons/esm/Hotel.js"),s=a("../../node_modules/@material-ui/icons/esm/People.js"),o=a("../../node_modules/@material-ui/icons/esm/HotTub.js"),i=a("../../node_modules/@material-ui/icons/esm/BusinessCenter.js"),d=a("../../node_modules/@material-ui/icons/esm/FreeBreakfast.js"),r=a("../../node_modules/@material-ui/icons/esm/DirectionsWalk.js"),c=a("../../node_modules/react/index.js");function u(e){switch(e.name){case"home":return c.createElement(l.default,null);case"bed":return c.createElement(n.default,null);case"living":return c.createElement(s.default,null);case"toilet":case"shower":return c.createElement(o.default,null);case"books":case"study":return c.createElement(i.default,null);case"kitchen":return c.createElement(d.default,null);default:return c.createElement(r.default,null)}}},"./components/InputContainer.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var l=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),n=a("../../node_modules/react/index.js");const s=(0,l.default)((e=>({inputContainer:{width:"100%",paddingLeft:e.spacing(2),paddingRight:e.spacing(3)}})))((e=>n.createElement("div",{className:e.classes.inputContainer},e.children)))},"./components/Transition.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var l=a("../../node_modules/@material-ui/core/esm/Zoom/Zoom.js"),n=a("../../node_modules/react/index.js");function s(e){return n.createElement(l.default,Object.assign({},e))}},"./pages/plan.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var l=a("../../node_modules/@material-ui/core/esm/LinearProgress/LinearProgress.js"),n=a("../../node_modules/@material-ui/core/esm/Button/Button.js"),s=a("../../node_modules/@material-ui/core/esm/Tabs/Tabs.js"),o=a("../../node_modules/@material-ui/core/esm/Tab/Tab.js"),i=a("../../node_modules/@material-ui/core/esm/Avatar/Avatar.js"),d=a("../../node_modules/@material-ui/core/esm/Checkbox/Checkbox.js"),r=a("../../node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js"),c=a("../../node_modules/@material-ui/core/esm/List/List.js"),u=a("../../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),m=a("../../node_modules/@material-ui/core/esm/ListItemAvatar/ListItemAvatar.js"),p=a("../../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js"),f=a("../../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),h=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),v=a("../../node_modules/@material-ui/core/esm/Switch/Switch.js"),b=a("../../node_modules/@material-ui/icons/ArrowBackIos.js"),g=a("../../node_modules/@material-ui/icons/Cancel.js"),x=a("../../node_modules/@material-ui/icons/Delete.js"),E=a("../../node_modules/@material-ui/icons/FileCopy.js"),y=a("../../node_modules/lodash/lodash.js"),_=a("../../node_modules/notistack/dist/notistack.esm.js"),C=a("../../node_modules/react/index.js"),j=a("../../node_modules/react-router-dom/esm/react-router-dom.js"),P=a("../../node_modules/react-router/esm/react-router.js"),k=a("../../node_modules/react-scroll-locky/dist/es2015/component.js"),D=a("../../node_modules/uuid/v1.js"),T=a("./api/heating/index.tsx"),S=a("./components/AppHeader.tsx"),w=a("./components/BodyText.tsx"),I=a("./components/ConfirmDialog.tsx"),A=a("./components/FormTextField.tsx"),z=a("./components/Icons.tsx"),L=a("./components/Menu.tsx"),B=a("./components/SubHeader.tsx"),O=a("./i18n/Translation.tsx"),H=a("./layouts/Page.tsx"),F=a("./state/deviceHooks.tsx"),G=a("./state/planHooks.tsx"),Z=a("./state/zoneHooks.tsx");const M=C.lazy((()=>a.e("dialogs_CloneDialog_tsx").then(a.bind(a,"./dialogs/CloneDialog.tsx")))),N=C.lazy((()=>Promise.all([a.e("vendors-node_modules_material-ui_core_colors_amber_js-node_modules_material-ui_core_colors_gr-05f7ff"),a.e("components_TemperatureChart_index_tsx")]).then(a.bind(a,"./components/TemperatureChart/index.tsx")))),R=e=>{const{children:t,id:a,activeTab:n}=e;return C.createElement(C.Suspense,{fallback:C.createElement(l.default,{style:{margin:16},color:"secondary"})},a===n&&t)},$=(0,_.withSnackbar)((0,P.withRouter)((0,h.default)((e=>({button:{margin:e.spacing(2)},divider:{marginTop:e.spacing(3),marginBottom:e.spacing(1)},avatar:{width:"24px",height:"24px"}})))((e=>{const{classes:t}=e,[a,l]=C.useState(0),{plan:h,isDirty:_}=(0,G.usePlan)(e.match.params.id,!0===e.location.state),{setName:P,setDescription:$,toggleState:q,toggleZone:K,toggleDevice:W}=(0,G.useModifyPlan)(),J=(0,Z.useZones)(!0===e.location.state),Q=(0,F.useDevices)(!0===e.location.state);(0,C.useEffect)((()=>{V(!1),l(!0===e.location.state?1:0)}),[e.location]);const[U,V]=(0,C.useState)(!1),{dialog:X,open:Y,isOpen:ee}=(0,I.useConfirmDialog)({title:(0,O.default)("plan.confirm.title"),content:(0,O.default)("plan.confirm.content"),onConfirm:()=>{te()}}),te=()=>{T.planAPI.removePlan(h.id).then((t=>{e.history.push({pathname:"/",state:!1}),e.enqueueSnackbar((0,O.default)("plan.removed",{name:h.name}))}))};return C.createElement(C.Fragment,null,X,C.createElement(M,{open:U,name:h.name,onConfirm:t=>{const a=Object.assign(Object.assign({},h),{enabled:!1,id:D(),name:t});T.planAPI.updatePlan(a).then((t=>{e.history.push({pathname:`/plans/${a.id}`,state:!1}),e.enqueueSnackbar((0,O.default)("plan.duplicated",{name:h.name}))})).catch((e=>{throw e}))},onCancel:()=>{V(!1)}}),C.createElement(H.default,null,{header:C.createElement(S.default,null,{title:h.name||(0,O.default)("plan.unnamed"),button:C.createElement(L.MenuButton,Object.assign({first:!0},{to:"/"},{component:j.Link,icon:_?C.createElement(g.default,null):C.createElement(b.default,null)})),actions:C.createElement(C.Fragment,null,"new"!==h.id&&!_&&C.createElement(L.MenuButton,{onClick:()=>{V(!0)},icon:C.createElement(E.default,null)}),"new"!==h.id&&C.createElement(L.MenuButton,{onClick:Y,icon:C.createElement(x.default,null)}),_&&C.createElement(n.default,{color:"inherit",onClick:()=>{T.planAPI.updatePlan(h).then((t=>{e.history.push({pathname:"/",state:!1}),e.enqueueSnackbar((0,O.default)("plan.saved",{name:h.name}))}))}},(0,O.default)("plan.save"))),subBar:C.createElement(s.default,{value:a,onChange:(e,t)=>l(t),variant:"scrollable",scrollButtons:"off"},C.createElement(o.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,O.default)("plan.tabs.overview")}),C.createElement(o.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,O.default)("plan.tabs.schedule")}),C.createElement(o.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,O.default)("plan.tabs.zones",{n:h.zones.length})}),C.createElement(o.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,O.default)("plan.tabs.devices",{n:h.devices.length})}))}),paddingTop:100,body:C.createElement(k.ScrollLocky,{enabled:U||ee,isolation:!1},C.createElement(C.Fragment,null,C.createElement(R,{id:0,activeTab:a},C.createElement(B.default,{text:(0,O.default)("plan.overview.section")}),C.createElement(w.default,{text:(0,O.default)("plan.overview.text")}),C.createElement(A.default,{label:(0,O.default)("plan.overview.name.label"),placeholder:(0,O.default)("plan.overview.name.placeholder"),value:h.name,onChange:P}),C.createElement(w.default,{style:{paddingTop:16},text:(0,O.default)("plan.overview.text_enable")}),C.createElement(r.default,{control:C.createElement(v.default,{onChange:q,checked:h.enabled}),label:(0,O.default)("plan.overview.enabled.label"),labelPlacement:"start"}),C.createElement(w.default,{style:{paddingTop:16},text:(0,O.default)("plan.overview.text_description")}),C.createElement(A.default,{label:(0,O.default)("plan.overview.description.label"),placeholder:(0,O.default)("plan.overview.description.placeholder"),multiline:!0,value:h.description,onChange:$})),C.createElement(R,{id:1,activeTab:a},C.createElement(B.default,{text:(0,O.default)("plan.schedules.section")}),C.createElement(w.default,{text:(0,O.default)("plan.schedules.text")}),C.createElement("div",{style:{paddingTop:16,display:"flex",flexDirection:"row"}},C.createElement(j.Link,{style:{textDecoration:"none"},to:{pathname:`/plans/${h.id}/schedule`,state:h},replace:!0},C.createElement(n.default,{variant:"contained",color:"primary",className:t.button},(0,O.default)("plan.schedules.edit"))),C.createElement(j.Link,{style:{textDecoration:"none"},to:{pathname:`/plans/${h.id}/exceptions`,state:h},replace:!0},C.createElement(n.default,{variant:"contained",color:"primary",className:t.button},(0,O.default)("plan.schedules.exceptions")))),0!==h.schedule.length&&C.createElement(B.default,{text:(0,O.default)("plan.schedules.section_summary")}),0!==h.schedule.length&&C.createElement(N,{plan:h})),C.createElement(R,{id:2,activeTab:a},C.createElement(B.default,{text:(0,O.default)("plan.zones.section")}),C.createElement(w.default,{text:(0,O.default)("plan.zones.text")}),0===J.length?C.createElement(w.default,{style:{paddingTop:16},text:(0,O.default)("plan.zones.empty")}):C.createElement(c.default,null,(0,y.map)(J,(e=>C.createElement(u.default,{key:e.id,button:!0,onClick:()=>K(e.id)},null!=e.icon&&C.createElement(m.default,null,C.createElement(z.default,{name:e.icon})),C.createElement(f.default,{primary:e.name}),C.createElement(p.default,null,C.createElement(d.default,{onChange:()=>K(e.id),checked:null!=h.zones.find((t=>t===e.id))}))))))),C.createElement(R,{id:3,activeTab:a},C.createElement(B.default,{text:(0,O.default)("plan.devices.section")}),C.createElement(w.default,{text:(0,O.default)("plan.devices.text")}),0===Q.length?C.createElement(w.default,{style:{paddingTop:16},text:(0,O.default)("plan.devices.empty")}):C.createElement(c.default,null,(0,y.map)(Q,(e=>C.createElement(u.default,{key:e.id,button:!0,onClick:()=>W(e.id)},null!=e.icon&&C.createElement(m.default,null,C.createElement(i.default,{className:t.avatar,src:`http://homey-pro.iot.home.arpa${e.icon}`})),C.createElement(f.default,{primary:e.name}),C.createElement(p.default,null,C.createElement(d.default,{onChange:()=>W(e.id),checked:null!=h.devices.find((t=>t===e.id))})))))))))}))}))))},"./state/deviceHooks.tsx":(e,t,a)=>{a.r(t),a.d(t,{useDevices:()=>i});var l=a("../../node_modules/react/index.js"),n=a("./api/devices/index.tsx"),s=a("./state/PlanProvider.tsx");let o=!1;const i=e=>{const t=(0,s.usePlanDispatch)(),a=(0,s.usePlanGlobalState)("devices");if(!e&&!o)throw o=!0,n.deviceAPI.fetchHeatingDevices().then((e=>{t({type:"loadDevices",devices:e})}));return(0,l.useEffect)((()=>()=>{o=!1}),[e]),a}},"./state/planHooks.tsx":(e,t,a)=>{a.r(t),a.d(t,{useHistory:()=>i,useModifyExceptions:()=>r,useModifyPlan:()=>d,useModifySetPoints:()=>c,usePlan:()=>m});var l=a("../../node_modules/react/index.js"),n=a("../../node_modules/uuid/v1.js"),s=a("./api/heating/index.tsx"),o=a("./state/PlanProvider.tsx");const i=()=>{const e=(0,o.usePlanDispatch)(),t=(0,o.usePlanGlobalState)("loaded"),a=(0,l.useCallback)((()=>e({type:"savePoint"})),[e]),n=(0,l.useCallback)((()=>e({type:"undo"})),[e]),s=(0,l.useCallback)((()=>e({type:"commit"})),[e]);return(0,l.useEffect)((()=>{a()}),[t]),{savePoint:a,undo:n,commit:s}},d=()=>{const e=(0,o.usePlanDispatch)();return{setName:(0,l.useCallback)((t=>e({type:"setName",name:t.target.value})),[e]),setDescription:(0,l.useCallback)((t=>e({type:"setDescription",description:t.target.value})),[e]),toggleState:(0,l.useCallback)((()=>e({type:"toggleEnabled"})),[e]),toggleZone:(0,l.useCallback)((t=>e({type:"toggleZone",zone:t})),[e]),toggleDevice:(0,l.useCallback)((t=>e({type:"toggleDevice",device:t})),[e])}},r=()=>{const e=(0,o.usePlanDispatch)(),[t,a]=(0,l.useState)(!1),n=(0,l.useCallback)(((t,l)=>{e({type:"setOverride",mode:t,temperature:l}),a(!0)}),[e]),s=(0,l.useCallback)((t=>{e({type:"clearOverride",mode:t}),a(!0)}),[e]),i=(0,l.useCallback)(((e,t)=>{0===t?s(e):n(e,t)}),[e]);return(0,l.useEffect)((()=>{a(!1)}),[]),{isDirty:t,setOverride:n,clearOverride:s,updateOverride:i}},c=()=>{const[e,t]=(0,l.useState)(!1),a=(0,o.usePlanDispatch)(),n=(0,l.useCallback)((e=>{a({type:"selectDay",day:e})}),[a]),s=(0,o.usePlanGlobalState)("selectedDay"),i=(0,o.usePlanGlobalState)("setPoint"),d=(0,l.useCallback)(((e,l)=>{null!=l&&l.length>0&&(t(!0),a({type:"copyDays",source:e,targets:l}))}),[a]),r=(0,l.useCallback)((e=>{t(!0),a({type:"removeSetPoint",index:e})}),[a]),c=(0,l.useCallback)((e=>{a({type:"loadSetPoint",setPoint:e})}),[a]),u=(0,l.useCallback)((e=>{a({type:"newSetPoint",day:e})}),[a]),m=(0,l.useCallback)((e=>{-1===e.index?a({type:"addSetPoint",setPoint:e}):a({type:"updateSetPoint",setPoint:e})}),[a]),p=(0,l.useCallback)((e=>a({type:"setStart",start:e})),[a]),f=(0,l.useCallback)((e=>a({type:"setTargetTemperature",temperature:parseFloat(e.target.value)})),[a]);return(0,l.useEffect)((()=>{t(!1)}),[]),{setDirty:t,isDirty:e,selectedDay:s,setPoint:i,copyDays:d,removeSetPoint:r,loadSetPoint:c,newSetPoint:u,selectDay:n,saveSetPoint:m,setStart:p,setTargetTemperature:f}};let u=!1;const m=(e,t=!0)=>{const a=(0,o.usePlanDispatch)(),i=(0,o.usePlanGlobalState)("plan"),d=(0,o.usePlanGlobalState)("loaded"),r=(0,o.usePlanGlobalState)("dirty");if(!d||!t)if(null!=e&&"new"!==e||u){if(!u)throw s.planAPI.fetchPlanById(e).then((e=>{u=!0,a({type:"loadPlan",plan:e})}))}else u=!0,a({type:"loadPlan",plan:{id:n(),enabled:!1,name:"",zones:[],devices:[],schedule:[],overrides:void 0}});return(0,l.useEffect)((()=>()=>{u=!1}),[e,t]),{plan:i,isDirty:r,loaded:d}}},"./state/zoneHooks.tsx":(e,t,a)=>{a.r(t),a.d(t,{useZones:()=>i});var l=a("../../node_modules/react/index.js"),n=a("./api/zones/index.tsx"),s=a("./state/PlanProvider.tsx");let o=!1;const i=e=>{const t=(0,s.usePlanDispatch)(),a=(0,s.usePlanGlobalState)("zones");if(!e&&!o)throw o=!0,n.zoneAPI.fetchHeatingZones().then((e=>{t({type:"loadZones",zones:e})}));return(0,l.useEffect)((()=>()=>{o=!1}),[e]),a}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3JCLE1BQU1DLEdBQVcsSUFBQUMsbUJBQ1hsSSxHQUFRLElBQUFtSSxvQkFBbUIsU0FFakMsSUFBS0gsSUFBUytDLEVBRVYsTUFEQUEsR0FBZSxFQUNULEVBQUFqTCxRQUFBLG9CQUE0QjJFLE1BQU11RyxJQUNwQy9DLEVBQVMsQ0FBRUksS0FBTSxZQUFhckksTUFBT2dMLEdBQUksSUFVakQsT0FOQSxJQUFBL0csWUFBVSxJQUNDLEtBQ0g4RyxHQUFlLENBQUssR0FFekIsQ0FBQy9DLElBRUdoSSxDQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBpL2RldmljZXMvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL2FwaS96b25lcy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9Db25maXJtRGlhbG9nLnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0Zvcm1UZXh0RmllbGQudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvSWNvbnMudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvSW5wdXRDb250YWluZXIudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvVHJhbnNpdGlvbi50c3giLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvcGxhbi50c3giLCJ3ZWJwYWNrOi8vLy4vc3RhdGUvZGV2aWNlSG9va3MudHN4Iiwid2VicGFjazovLy8uL3N0YXRlL3BsYW5Ib29rcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3RhdGUvem9uZUhvb2tzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IHNvcnRCeSB9IGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IElIZWF0aW5nRGV2aWNlIH0gZnJvbSBcIi4uLy4uLy4uL2FwcC9tb2RlbFwiO1xuaW1wb3J0IGNhbGxBUEkgZnJvbSBcIi4uL2NhbGxBUElcIjtcblxuZXhwb3J0IHR5cGUgSGFzaFR5cGUgPSB7XG4gIFtrZXk6IHN0cmluZ106IElIZWF0aW5nRGV2aWNlO1xufSAmIEFycmF5TGlrZTxJSGVhdGluZ0RldmljZT47XG5cbi8vIEhvbWV5LmFwaSggU3RyaW5nIG1ldGhvZCwgU3RyaW5nIHBhdGgsIE1peGVkIGJvZHksIEZ1bmN0aW9uIGNhbGxiYWNrIClcbmNvbnN0IGZldGNoSGVhdGluZ0RldmljZXMgPSBhc3luYyAoKTogUHJvbWlzZTxIYXNoVHlwZT4gPT4ge1xuICBjb25zdCBkZXZpY2VzID0gYXdhaXQgY2FsbEFQSTxhbnlbXT4oXCJHRVRcIiwgXCIvZGV2aWNlc1wiKTtcblxuICBjb25zdCByZXN1bHQgPSBzb3J0QnkoZGV2aWNlcywgXCJuYW1lXCIpLnJlZHVjZSgobWFwLCBvYmosIGlkeCkgPT4ge1xuICAgIG1hcFtpZHhdID0gb2JqO1xuICAgIG1hcFtvYmouaWRdID0gb2JqO1xuICAgIHJldHVybiBtYXA7XG4gIH0sIHt9KTtcbiAgcmVzdWx0Lmxlbmd0aCA9IGRldmljZXMubGVuZ3RoO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZGV2aWNlQVBJID0ge1xuICBmZXRjaEhlYXRpbmdEZXZpY2VzLFxufTtcbiIsImltcG9ydCB7IHNvcnRCeSB9IGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IElIZWF0aW5nWm9uZSB9IGZyb20gXCIuLi8uLi8uLi9hcHAvbW9kZWxcIjtcbmltcG9ydCBjYWxsQVBJIGZyb20gXCIuLi9jYWxsQVBJXCI7XG5cbmV4cG9ydCB0eXBlIEhhc2hUeXBlID0ge1xuICBba2V5OiBzdHJpbmddOiBJSGVhdGluZ1pvbmU7XG59ICYgQXJyYXlMaWtlPElIZWF0aW5nWm9uZT47XG5cbmNvbnN0IGZldGNoSGVhdGluZ1pvbmVzID0gYXN5bmMgKCk6IFByb21pc2U8SGFzaFR5cGU+ID0+IHtcbiAgY29uc3Qgem9uZXMgPSBhd2FpdCBjYWxsQVBJPGFueVtdPihcIkdFVFwiLCBcIi96b25lc1wiKTtcblxuICBjb25zdCByZXN1bHQgPSBzb3J0Qnkoem9uZXMsIFwibmFtZVwiKS5yZWR1Y2UoKG1hcCwgb2JqLCBpZHgpID0+IHtcbiAgICBtYXBbaWR4XSA9IG9iajtcbiAgICBtYXBbb2JqLmlkXSA9IG9iajtcbiAgICByZXR1cm4gbWFwO1xuICB9LCB7fSk7XG5cbiAgcmVzdWx0Lmxlbmd0aCA9IHpvbmVzLmxlbmd0aDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCB6b25lQVBJID0ge1xuICBmZXRjaEhlYXRpbmdab25lcyxcbn07XG4iLCJpbXBvcnQgQnV0dG9uIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b25cIjtcbmltcG9ydCBEaWFsb2cgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1wiO1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0FjdGlvbnNcIjtcbmltcG9ydCBEaWFsb2dDb250ZW50IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9EaWFsb2dDb250ZW50XCI7XG5pbXBvcnQgRGlhbG9nQ29udGVudFRleHQgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0NvbnRlbnRUZXh0XCI7XG5pbXBvcnQgRGlhbG9nVGl0bGUgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1RpdGxlXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB0cmFuc2xhdGUgZnJvbSBcIi4uL2kxOG4vVHJhbnNsYXRpb25cIjtcbmltcG9ydCBUcmFuc2l0aW9uIGZyb20gXCIuL1RyYW5zaXRpb25cIjtcblxudHlwZSBFeHRlcm5hbFByb3BzID0ge1xuICB0aXRsZT86IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xufTtcblxudHlwZSBQcm9wcyA9IHtcbiAgb3BlbjogYm9vbGVhbjtcblxuICBvbk9LOiAoKSA9PiB2b2lkO1xuICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcbn0gJiBFeHRlcm5hbFByb3BzO1xuXG5jb25zdCBDb25maXJtRGlhbG9nOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAocHJvcHM6IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgb3BlbiwgdGl0bGUsIGNvbnRlbnQsIG9uT0ssIG9uQ2FuY2VsLCAuLi5vdGhlcnMgfSA9IHByb3BzO1xuXG4gIHJldHVybiAoXG4gICAgPERpYWxvZyBvcGVuPXtvcGVufSBvbkNsb3NlPXsoKSA9PiB7IG9uQ2FuY2VsKCk7IH19IFRyYW5zaXRpb25Db21wb25lbnQ9e1RyYW5zaXRpb259ICB7Li4ub3RoZXJzfT5cbiAgICAgIDxEaWFsb2dUaXRsZT57dGl0bGUgfHwgdHJhbnNsYXRlKFwiY29uZmlybS50aXRsZVwiKX08L0RpYWxvZ1RpdGxlPlxuICAgICAgPERpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDxEaWFsb2dDb250ZW50VGV4dD5cbiAgICAgICAgICB7Y29udGVudH1cbiAgICAgICAgPC9EaWFsb2dDb250ZW50VGV4dD5cblxuICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgPERpYWxvZ0FjdGlvbnM+XG4gICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4geyBvbkNhbmNlbCgpOyB9fSBjb2xvcj1cInByaW1hcnlcIj5cbiAgICAgICAgICB7dHJhbnNsYXRlKFwiY29uZmlybS5jYW5jZWxcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4geyBvbk9LKCk7IH19IGNvbG9yPVwicHJpbWFyeVwiPlxuICAgICAgICAgIHt0cmFuc2xhdGUoXCJjb25maXJtLm9rXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvRGlhbG9nQWN0aW9ucz5cbiAgICA8L0RpYWxvZz5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VDb25maXJtRGlhbG9nID0gKHByb3BzOiB7IG9uQ29uZmlybTogKCkgPT4gdm9pZCB9ICYgRXh0ZXJuYWxQcm9wcykgPT4ge1xuICBjb25zdCB7IG9uQ29uZmlybSwgLi4ub3RoZXJzIH0gPSBwcm9wcztcbiAgY29uc3QgW29wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgZGlhbG9nID0gKFxuICAgIDxDb25maXJtRGlhbG9nIG9wZW49e29wZW59IG9uQ2FuY2VsPXsoKSA9PiB7IHNldElzT3BlbihmYWxzZSk7IH19IG9uT0s9e29uQ29uZmlybX0gey4uLm90aGVyc30gLz5cbiAgKTtcblxuICByZXR1cm4ge1xuICAgIGRpYWxvZywgaXNPcGVuOiBvcGVuLCBvcGVuOiAoKSA9PiB7XG4gICAgICBzZXRJc09wZW4odHJ1ZSk7XG4gICAgfSxcbiAgfTtcbn07XG4iLCJpbXBvcnQgVGV4dEZpZWxkLCB7IFRleHRGaWVsZFByb3BzIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1RleHRGaWVsZFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IElucHV0Q29udGFpbmVyIGZyb20gXCIuL0lucHV0Q29udGFpbmVyXCI7XG5cbmNvbnN0IEZvcm1UZXh0RmllbGQgPSAoeyBjbGFzc2VzLCAuLi5vdGhlclByb3BzIH06IFRleHRGaWVsZFByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPElucHV0Q29udGFpbmVyPlxuICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgIGZ1bGxXaWR0aD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBtYXJnaW49XCJub3JtYWxcIlxuICAgICAgICAgICAgICAgIHsuLi5vdGhlclByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9JbnB1dENvbnRhaW5lcj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRm9ybVRleHRGaWVsZDtcbiIsImltcG9ydCB7IEJ1c2luZXNzQ2VudGVyLCBEaXJlY3Rpb25zV2FsaywgRnJlZUJyZWFrZmFzdCwgSG9tZSwgSG90ZWwsIEhvdFR1YiwgUGVvcGxlIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29uc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIFByb3BzID0ge1xuICAgIG5hbWU6IHN0cmluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFpvbmVJY29uKHByb3BzOiBQcm9wcykge1xuICAgIHN3aXRjaCAocHJvcHMubmFtZSkge1xuICAgICAgICBjYXNlIFwiaG9tZVwiOlxuICAgICAgICAgICAgcmV0dXJuICg8SG9tZSAvPik7XG5cbiAgICAgICAgY2FzZSBcImJlZFwiOlxuICAgICAgICAgICAgcmV0dXJuICg8SG90ZWwgLz4pO1xuXG4gICAgICAgIGNhc2UgXCJsaXZpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiAoPFBlb3BsZSAvPik7XG5cbiAgICAgICAgY2FzZSBcInRvaWxldFwiOlxuICAgICAgICBjYXNlIFwic2hvd2VyXCI6XG4gICAgICAgICAgICByZXR1cm4gKDxIb3RUdWIgLz4pO1xuXG4gICAgICAgIGNhc2UgXCJib29rc1wiOlxuICAgICAgICBjYXNlIFwic3R1ZHlcIjpcbiAgICAgICAgICAgIHJldHVybiAoPEJ1c2luZXNzQ2VudGVyIC8+KTtcblxuICAgICAgICBjYXNlIFwia2l0Y2hlblwiOlxuICAgICAgICAgICAgcmV0dXJuICg8RnJlZUJyZWFrZmFzdCAvPik7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAoPERpcmVjdGlvbnNXYWxrIC8+KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdHlsZVJ1bGVzQ2FsbGJhY2ssIHdpdGhTdHlsZXMsIFdpdGhTdHlsZXMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IHN0eWxlczogU3R5bGVSdWxlc0NhbGxiYWNrPGFueSwgYW55PiA9ICh0aGVtZSkgPT4gKHtcbiAgICBpbnB1dENvbnRhaW5lcjoge1xuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMyksXG4gICAgfSxcbn0pO1xuXG50eXBlIFByb3BzID0ge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdEVsZW1lbnQ8YW55Pixcbn0gJiBXaXRoU3R5bGVzPHR5cGVvZiBzdHlsZXM+O1xuXG5jb25zdCBJbnB1dENvbnRhaW5lcjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3Nlcy5pbnB1dENvbnRhaW5lcn0+e3Byb3BzLmNoaWxkcmVufTwvZGl2Pik7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoSW5wdXRDb250YWluZXIpO1xuIiwiaW1wb3J0IHsgWm9vbSB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUcmFuc2l0aW9uKHByb3BzOiBhbnkpIHtcbiAgICByZXR1cm4gPFpvb20gey4uLnByb3BzfSAvPjtcbn1cbiIsImltcG9ydCB7IElIZWF0aW5nUGxhbiB9IGZyb20gXCJAYXBwL21vZGVsXCI7XG5pbXBvcnQgeyBCdXR0b24sIExpbmVhclByb2dyZXNzLCBUYWIsIFRhYnMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmVcIjtcbmltcG9ydCBBdmF0YXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0F2YXRhclwiO1xuaW1wb3J0IENoZWNrYm94IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9DaGVja2JveFwiO1xuaW1wb3J0IEZvcm1Db250cm9sTGFiZWwgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0Zvcm1Db250cm9sTGFiZWxcIjtcbmltcG9ydCBMaXN0IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9MaXN0XCI7XG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0xpc3RJdGVtXCI7XG5pbXBvcnQgTGlzdEl0ZW1BdmF0YXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0xpc3RJdGVtQXZhdGFyXCI7XG5pbXBvcnQgTGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0xpc3RJdGVtU2Vjb25kYXJ5QWN0aW9uXCI7XG5pbXBvcnQgTGlzdEl0ZW1UZXh0IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9MaXN0SXRlbVRleHRcIjtcbmltcG9ydCB7IFN0eWxlUnVsZXNDYWxsYmFjaywgd2l0aFN0eWxlcywgV2l0aFN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBTd2l0Y2ggZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL1N3aXRjaFwiO1xuaW1wb3J0IEJhY2tJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvQXJyb3dCYWNrSW9zXCI7XG5pbXBvcnQgQ2FuY2VsSWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL0NhbmNlbFwiO1xuaW1wb3J0IFJlbW92ZUljb24gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9EZWxldGVcIjtcbmltcG9ydCBDb3B5SWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL0ZpbGVDb3B5XCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyB3aXRoU25hY2tiYXIsIFdpdGhTbmFja2JhclByb3BzIH0gZnJvbSBcIm5vdGlzdGFja1wiO1xuaW1wb3J0IFJlYWN0LCB7IEZyYWdtZW50LCBSZWFjdE5vZGUsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IExpbmssIFJvdXRlQ29tcG9uZW50UHJvcHMsIHdpdGhSb3V0ZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgU2Nyb2xsTG9ja3kgfSBmcm9tIFwicmVhY3Qtc2Nyb2xsLWxvY2t5XCI7XG5pbXBvcnQgKiBhcyB1dWlkdjEgZnJvbSBcInV1aWQvdjFcIjtcbmltcG9ydCB7IHBsYW5BUEkgfSBmcm9tIFwiLi4vYXBpL2hlYXRpbmdcIjtcbmltcG9ydCBBcHBIZWFkZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBwSGVhZGVyXCI7XG5pbXBvcnQgQm9keVRleHQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQm9keVRleHRcIjtcbmltcG9ydCB7IHVzZUNvbmZpcm1EaWFsb2cgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Db25maXJtRGlhbG9nXCI7XG5pbXBvcnQgRm9ybVRleHRGaWVsZCBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVGV4dEZpZWxkXCI7XG5pbXBvcnQgWm9uZUljb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvSWNvbnNcIjtcbmltcG9ydCB7IE1lbnVCdXR0b24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9NZW51XCI7XG5pbXBvcnQgU3ViSGVhZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL1N1YkhlYWRlclwiO1xuaW1wb3J0IHRyYW5zbGF0ZSBmcm9tIFwiLi4vaTE4bi9UcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBhZ2UgZnJvbSBcIi4uL2xheW91dHMvUGFnZVwiO1xuaW1wb3J0IHsgdXNlRGV2aWNlcyB9IGZyb20gXCIuLi9zdGF0ZS9kZXZpY2VIb29rc1wiO1xuaW1wb3J0IHsgdXNlTW9kaWZ5UGxhbiwgdXNlUGxhbiB9IGZyb20gXCIuLi9zdGF0ZS9wbGFuSG9va3NcIjtcbmltcG9ydCB7IHVzZVpvbmVzIH0gZnJvbSBcIi4uL3N0YXRlL3pvbmVIb29rc1wiO1xuXG5jb25zdCBDbG9uZURpYWxvZyA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KFwiLi4vZGlhbG9ncy9DbG9uZURpYWxvZ1wiKSk7XG5jb25zdCBDaGFydCA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KFwiLi4vY29tcG9uZW50cy9UZW1wZXJhdHVyZUNoYXJ0XCIpKTtcblxuY29uc3Qgc3R5bGVzOiBTdHlsZVJ1bGVzQ2FsbGJhY2s8YW55LCBhbnk+ID0gKHRoZW1lKSA9PiAoe1xuICAgIGJ1dHRvbjoge1xuICAgICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgfSxcblxuICAgIGRpdmlkZXI6IHtcbiAgICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgfSxcblxuICAgIGF2YXRhcjoge1xuICAgICAgICAvLyBwYWRkaW5nOiBcIjNweFwiLFxuICAgICAgICB3aWR0aDogXCIyNHB4XCIsXG4gICAgICAgIGhlaWdodDogXCIyNHB4XCIsXG4gICAgfSxcbn0pO1xuXG50eXBlIFBhcmFtcyA9IHtcbiAgICBpZDogc3RyaW5nO1xufTtcblxudHlwZSBQcm9wcyA9IFdpdGhTdHlsZXM8dHlwZW9mIHN0eWxlcz5cbiAgICAmIFJvdXRlQ29tcG9uZW50UHJvcHM8UGFyYW1zLCBhbnksIGJvb2xlYW4+XG4gICAgJiBXaXRoU25hY2tiYXJQcm9wcztcblxudHlwZSBUYWJQcm9wcyA9IHtcbiAgICBpZDogbnVtYmVyLFxuICAgIGFjdGl2ZVRhYjogbnVtYmVyLFxuICAgIGNoaWxkcmVuPzogUmVhY3ROb2RlLFxufTtcblxuY29uc3QgVGFiQ29udGFpbmVyOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxUYWJQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBpZCwgYWN0aXZlVGFiIH0gPSBwcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxSZWFjdC5TdXNwZW5zZSBmYWxsYmFjaz17PExpbmVhclByb2dyZXNzIHN0eWxlPXt7bWFyZ2luOiAxNn19IGNvbG9yPVwic2Vjb25kYXJ5XCIgLz59PlxuICAgICAgICAgICAge2lkID09PSBhY3RpdmVUYWIgJiYgY2hpbGRyZW59XG4gICAgICAgIDwvUmVhY3QuU3VzcGVuc2U+XG4gICAgKTtcbn07XG5cbmNvbnN0IFBsYW5PdmVydmlld1BhZ2U6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtzZWxlY3RlZFRhYiwgc2VsZWN0VGFiXSA9IFJlYWN0LnVzZVN0YXRlKDApO1xuXG4gICAgY29uc3QgeyBwbGFuLCBpc0RpcnR5IH0gPSB1c2VQbGFuKFxuICAgICAgICBwcm9wcy5tYXRjaC5wYXJhbXMuaWQsXG4gICAgICAgIHByb3BzLmxvY2F0aW9uLnN0YXRlID09PSB0cnVlLFxuICAgICk7XG5cbiAgICBjb25zdCB7IHNldE5hbWUsIHNldERlc2NyaXB0aW9uLCB0b2dnbGVTdGF0ZSwgdG9nZ2xlWm9uZSwgdG9nZ2xlRGV2aWNlIH0gPSB1c2VNb2RpZnlQbGFuKCk7XG5cbiAgICBjb25zdCB6b25lcyA9IHVzZVpvbmVzKHByb3BzLmxvY2F0aW9uLnN0YXRlID09PSB0cnVlKTtcbiAgICBjb25zdCBkZXZpY2VzID0gdXNlRGV2aWNlcyhwcm9wcy5sb2NhdGlvbi5zdGF0ZSA9PT0gdHJ1ZSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRJc0Nsb25lRGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICAgIC8vIHdlIHVzZSAxIGFzIHRhYiAod2hpY2ggaXMgdHJ1ZSlcbiAgICAgICAgc2VsZWN0VGFiKHByb3BzLmxvY2F0aW9uLnN0YXRlID09PSB0cnVlID8gMSA6IDApO1xuICAgIH0sIFtwcm9wcy5sb2NhdGlvbl0pO1xuXG4gICAgY29uc3QgW2lzQ2xvbmVEaWFsb2dPcGVuLCBzZXRJc0Nsb25lRGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCB7IGRpYWxvZzogY29uZmlybVJlbW92ZURpYWxvZywgb3Blbjogb3BlbkNvbmZpcm1SZW1vdmUsIGlzT3BlbjogaXNDb25maXJtUmVtb3ZlT3BlbiB9ID0gdXNlQ29uZmlybURpYWxvZyh7XG4gICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoXCJwbGFuLmNvbmZpcm0udGl0bGVcIiksXG4gICAgICAgIGNvbnRlbnQ6IHRyYW5zbGF0ZShcInBsYW4uY29uZmlybS5jb250ZW50XCIpLFxuICAgICAgICBvbkNvbmZpcm06ICgpID0+IHsgcmVtb3ZlUGxhbigpOyB9LFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc2F2ZSA9ICgpID0+IHtcbiAgICAgICAgcGxhbkFQSS51cGRhdGVQbGFuKHBsYW4gYXMgSUhlYXRpbmdQbGFuKS50aGVuKChfcCkgPT4ge1xuICAgICAgICAgICAgcHJvcHMuaGlzdG9yeS5wdXNoKHtcbiAgICAgICAgICAgICAgICBwYXRobmFtZTogYC9gLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcm9wcy5lbnF1ZXVlU25hY2tiYXIodHJhbnNsYXRlKFwicGxhbi5zYXZlZFwiLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogcGxhbi5uYW1lLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVtb3ZlUGxhbiA9ICgpID0+IHtcbiAgICAgICAgcGxhbkFQSS5yZW1vdmVQbGFuKHBsYW4uaWQpLnRoZW4oKF9wKSA9PiB7XG4gICAgICAgICAgICBwcm9wcy5oaXN0b3J5LnB1c2goe1xuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiBgL2AsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHByb3BzLmVucXVldWVTbmFja2Jhcih0cmFuc2xhdGUoXCJwbGFuLnJlbW92ZWRcIiwge1xuICAgICAgICAgICAgICAgIG5hbWU6IHBsYW4ubmFtZSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGR1cGxpY2F0ZVBsYW4gPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BsYW4gPSB7IC4uLnBsYW4sIGVuYWJsZWQ6IGZhbHNlLCBpZDogdXVpZHYxKCksIG5hbWUgfSBhcyBJSGVhdGluZ1BsYW47XG5cbiAgICAgICAgcGxhbkFQSS51cGRhdGVQbGFuKG5ld1BsYW4pLnRoZW4oKF9wKSA9PiB7XG4gICAgICAgICAgICBwcm9wcy5oaXN0b3J5LnB1c2goe1xuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiBgL3BsYW5zLyR7bmV3UGxhbi5pZH1gLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcm9wcy5lbnF1ZXVlU25hY2tiYXIodHJhbnNsYXRlKFwicGxhbi5kdXBsaWNhdGVkXCIsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBwbGFuLm5hbWUsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pLmNhdGNoKChyOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRocm93IHI7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICB7Y29uZmlybVJlbW92ZURpYWxvZ31cblxuICAgICAgICAgICAgPENsb25lRGlhbG9nXG4gICAgICAgICAgICAgICAgb3Blbj17aXNDbG9uZURpYWxvZ09wZW59XG4gICAgICAgICAgICAgICAgbmFtZT17cGxhbi5uYW1lfVxuICAgICAgICAgICAgICAgIG9uQ29uZmlybT17ZHVwbGljYXRlUGxhbn1cbiAgICAgICAgICAgICAgICBvbkNhbmNlbD17KCkgPT4geyBzZXRJc0Nsb25lRGlhbG9nT3BlbihmYWxzZSk7IH19XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8UGFnZT5cbiAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcHBIZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBsYW4ubmFtZSB8fCB0cmFuc2xhdGUoXCJwbGFuLnVubmFtZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVCdXR0b24gZmlyc3Q9e3RydWV9IHsuLi57IHRvOiBgL2AgfX0gY29tcG9uZW50PXtMaW5rIGFzIHVua25vd24gYXMgXCJhXCJ9IGljb249e2lzRGlydHkgPyA8Q2FuY2VsSWNvbiAvPiA6IDxCYWNrSWNvbiAvPn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwbGFuLmlkICE9PSBcIm5ld1wiICYmICFpc0RpcnR5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51QnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0SXNDbG9uZURpYWxvZ09wZW4odHJ1ZSk7IH19IGljb249ezxDb3B5SWNvbiAvPn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGxhbi5pZCAhPT0gXCJuZXdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUJ1dHRvbiBvbkNsaWNrPXtvcGVuQ29uZmlybVJlbW92ZX0gaWNvbj17PFJlbW92ZUljb24gLz59IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRGlydHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjb2xvcj1cImluaGVyaXRcIiBvbkNsaWNrPXtzYXZlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0cmFuc2xhdGUoXCJwbGFuLnNhdmVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkJhcjogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYnMgdmFsdWU9e3NlbGVjdGVkVGFifSBvbkNoYW5nZT17KF9lLCB2KSA9PiBzZWxlY3RUYWIodil9IHZhcmlhbnQ9XCJzY3JvbGxhYmxlXCIgc2Nyb2xsQnV0dG9ucz1cIm9mZlwiID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGNsYXNzZXM9e3sgcm9vdDogcHJvcHMuY2xhc3Nlcy50YWIgfX0gZGlzYWJsZVJpcHBsZT17dHJ1ZX0gbGFiZWw9e3RyYW5zbGF0ZShcInBsYW4udGFicy5vdmVydmlld1wiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGNsYXNzZXM9e3sgcm9vdDogcHJvcHMuY2xhc3Nlcy50YWIgfX0gZGlzYWJsZVJpcHBsZT17dHJ1ZX0gbGFiZWw9e3RyYW5zbGF0ZShcInBsYW4udGFicy5zY2hlZHVsZVwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGNsYXNzZXM9e3sgcm9vdDogcHJvcHMuY2xhc3Nlcy50YWIgfX0gZGlzYWJsZVJpcHBsZT17dHJ1ZX0gbGFiZWw9e3RyYW5zbGF0ZShcInBsYW4udGFicy56b25lc1wiLCB7IG46IHBsYW4uem9uZXMubGVuZ3RoIH0pfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyByb290OiBwcm9wcy5jbGFzc2VzLnRhYiB9fSBkaXNhYmxlUmlwcGxlPXt0cnVlfSBsYWJlbD17dHJhbnNsYXRlKFwicGxhbi50YWJzLmRldmljZXNcIiwgeyBuOiBwbGFuLmRldmljZXMubGVuZ3RoIH0pfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0FwcEhlYWRlcj5cblxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTY3JvbGxMb2NreSBlbmFibGVkPXtpc0Nsb25lRGlhbG9nT3BlbiB8fCBpc0NvbmZpcm1SZW1vdmVPcGVufSBpc29sYXRpb249e2ZhbHNlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJDb250YWluZXIgaWQ9ezB9IGFjdGl2ZVRhYj17c2VsZWN0ZWRUYWJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN1YkhlYWRlciB0ZXh0PXt0cmFuc2xhdGUoXCJwbGFuLm92ZXJ2aWV3LnNlY3Rpb25cIil9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm9keVRleHQgdGV4dD17dHJhbnNsYXRlKFwicGxhbi5vdmVydmlldy50ZXh0XCIpfSAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybVRleHRGaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0cmFuc2xhdGUoXCJwbGFuLm92ZXJ2aWV3Lm5hbWUubGFiZWxcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RyYW5zbGF0ZShcInBsYW4ub3ZlcnZpZXcubmFtZS5wbGFjZWhvbGRlclwiKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwbGFuLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldE5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm9keVRleHQgc3R5bGU9e3sgcGFkZGluZ1RvcDogMTYgfX0gdGV4dD17dHJhbnNsYXRlKFwicGxhbi5vdmVydmlldy50ZXh0X2VuYWJsZVwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbExhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0b2dnbGVTdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3BsYW4uZW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3RyYW5zbGF0ZShcInBsYW4ub3ZlcnZpZXcuZW5hYmxlZC5sYWJlbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBsYWNlbWVudD1cInN0YXJ0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb2R5VGV4dCBzdHlsZT17eyBwYWRkaW5nVG9wOiAxNiB9fSB0ZXh0PXt0cmFuc2xhdGUoXCJwbGFuLm92ZXJ2aWV3LnRleHRfZGVzY3JpcHRpb25cIil9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybVRleHRGaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0cmFuc2xhdGUoXCJwbGFuLm92ZXJ2aWV3LmRlc2NyaXB0aW9uLmxhYmVsXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0cmFuc2xhdGUoXCJwbGFuLm92ZXJ2aWV3LmRlc2NyaXB0aW9uLnBsYWNlaG9sZGVyXCIpfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwbGFuLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXREZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiQ29udGFpbmVyPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJDb250YWluZXIgaWQ9ezF9IGFjdGl2ZVRhYj17c2VsZWN0ZWRUYWJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN1YkhlYWRlciB0ZXh0PXt0cmFuc2xhdGUoXCJwbGFuLnNjaGVkdWxlcy5zZWN0aW9uXCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJvZHlUZXh0IHRleHQ9e3RyYW5zbGF0ZShcInBsYW4uc2NoZWR1bGVzLnRleHRcIil9IC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZ1RvcDogMTYsIGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcInJvd1wiIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHN0eWxlPXt7IHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIiB9fSB0bz17eyBwYXRobmFtZTogYC9wbGFucy8ke3BsYW4uaWR9L3NjaGVkdWxlYCwgc3RhdGU6IHBsYW4gfX0gcmVwbGFjZT17dHJ1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImNvbnRhaW5lZFwiIGNvbG9yPVwicHJpbWFyeVwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RyYW5zbGF0ZShcInBsYW4uc2NoZWR1bGVzLmVkaXRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHN0eWxlPXt7IHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIiB9fSB0bz17eyBwYXRobmFtZTogYC9wbGFucy8ke3BsYW4uaWR9L2V4Y2VwdGlvbnNgLCBzdGF0ZTogcGxhbiB9fSByZXBsYWNlPXt0cnVlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiY29udGFpbmVkXCIgY29sb3I9XCJwcmltYXJ5XCIgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvbn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNsYXRlKFwicGxhbi5zY2hlZHVsZXMuZXhjZXB0aW9uc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwbGFuLnNjaGVkdWxlLmxlbmd0aCAhPT0gMCAmJiA8U3ViSGVhZGVyIHRleHQ9e3RyYW5zbGF0ZShcInBsYW4uc2NoZWR1bGVzLnNlY3Rpb25fc3VtbWFyeVwiKX0gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGxhbi5zY2hlZHVsZS5sZW5ndGggIT09IDAgJiYgPENoYXJ0IHBsYW49e3BsYW4gYXMgSUhlYXRpbmdQbGFufSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJDb250YWluZXI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYkNvbnRhaW5lciBpZD17Mn0gYWN0aXZlVGFiPXtzZWxlY3RlZFRhYn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3ViSGVhZGVyIHRleHQ9e3RyYW5zbGF0ZShcInBsYW4uem9uZXMuc2VjdGlvblwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb2R5VGV4dCB0ZXh0PXt0cmFuc2xhdGUoXCJwbGFuLnpvbmVzLnRleHRcIil9IC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt6b25lcy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDxCb2R5VGV4dCBzdHlsZT17eyBwYWRkaW5nVG9wOiAxNiB9fSB0ZXh0PXt0cmFuc2xhdGUoXCJwbGFuLnpvbmVzLmVtcHR5XCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogPExpc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttYXAoem9uZXMsICh6b25lKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW0ga2V5PXt6b25lLmlkfSBidXR0b249e3RydWV9IG9uQ2xpY2s9eygpID0+IHRvZ2dsZVpvbmUoem9uZS5pZCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt6b25lLmljb24gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1BdmF0YXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Wm9uZUljb24gbmFtZT17em9uZS5pY29ufSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtQXZhdGFyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1UZXh0IHByaW1hcnk9e3pvbmUubmFtZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlWm9uZSh6b25lLmlkKX0gY2hlY2tlZD17cGxhbi56b25lcy5maW5kKChjKSA9PiBjID09PSB6b25lLmlkKSAhPSBudWxsfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiQ29udGFpbmVyPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJDb250YWluZXIgaWQ9ezN9IGFjdGl2ZVRhYj17c2VsZWN0ZWRUYWJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN1YkhlYWRlciB0ZXh0PXt0cmFuc2xhdGUoXCJwbGFuLmRldmljZXMuc2VjdGlvblwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb2R5VGV4dCB0ZXh0PXt0cmFuc2xhdGUoXCJwbGFuLmRldmljZXMudGV4dFwiKX0gLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RldmljZXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyA8Qm9keVRleHQgc3R5bGU9e3sgcGFkZGluZ1RvcDogMTYgfX0gdGV4dD17dHJhbnNsYXRlKFwicGxhbi5kZXZpY2VzLmVtcHR5XCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogPExpc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttYXAoZGV2aWNlcywgKGRldmljZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtIGtleT17ZGV2aWNlLmlkfSBidXR0b249e3RydWV9IG9uQ2xpY2s9eygpID0+IHRvZ2dsZURldmljZShkZXZpY2UuaWQpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGV2aWNlLmljb24gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1BdmF0YXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT17Y2xhc3Nlcy5hdmF0YXJ9IHNyYz17YCR7X19QUk9EVUNUSU9OX18gPyBcIlwiIDogX19IT01FWV9ERVZfVVJMfSR7ZGV2aWNlLmljb259YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaXN0SXRlbUF2YXRhcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtVGV4dCBwcmltYXJ5PXtkZXZpY2UubmFtZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveCBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlRGV2aWNlKGRldmljZS5pZCl9IGNoZWNrZWQ9e3BsYW4uZGV2aWNlcy5maW5kKChjKSA9PiBjID09PSBkZXZpY2UuaWQpICE9IG51bGx9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaXN0SXRlbVNlY29uZGFyeUFjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGlzdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGlzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJDb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2Nyb2xsTG9ja3k+XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIDwvUGFnZT5cbiAgICAgICAgPC9GcmFnbWVudD5cbiAgICApO1xufTtcblxuLy8gQHRzLWlnbm9yZVxuZXhwb3J0IGRlZmF1bHQgd2l0aFNuYWNrYmFyKHdpdGhSb3V0ZXIod2l0aFN0eWxlcyhzdHlsZXMpKFBsYW5PdmVydmlld1BhZ2UpKSk7XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGRldmljZUFQSSB9IGZyb20gXCIuLi9hcGkvZGV2aWNlc1wiO1xuaW1wb3J0IHsgdXNlUGxhbkRpc3BhdGNoLCB1c2VQbGFuR2xvYmFsU3RhdGUgfSBmcm9tIFwiLi9QbGFuUHJvdmlkZXJcIjtcblxubGV0IGxvYWRpbmdEZXZpY2VzID0gZmFsc2U7XG5leHBvcnQgY29uc3QgdXNlRGV2aWNlcyA9IChrZWVwPzogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlUGxhbkRpc3BhdGNoKCk7XG4gICAgY29uc3QgZGV2aWNlcyA9IHVzZVBsYW5HbG9iYWxTdGF0ZShcImRldmljZXNcIik7XG5cbiAgICBpZiAoIWtlZXAgJiYgIWxvYWRpbmdEZXZpY2VzKSB7XG4gICAgICAgIGxvYWRpbmdEZXZpY2VzID0gdHJ1ZTtcbiAgICAgICAgdGhyb3cgZGV2aWNlQVBJLmZldGNoSGVhdGluZ0RldmljZXMoKS50aGVuKChkKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwibG9hZERldmljZXNcIiwgZGV2aWNlczogZCB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGxvYWRpbmdEZXZpY2VzID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW2tlZXBdKTtcblxuICAgIHJldHVybiBkZXZpY2VzO1xufTtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyB1dWlkdjEgZnJvbSBcInV1aWQvdjFcIjtcbmltcG9ydCB7IE92ZXJyaWRlTW9kZSB9IGZyb20gXCIuLi8uLi9hcHAvbW9kZWxcIjtcbmltcG9ydCB7IHBsYW5BUEkgfSBmcm9tIFwiLi4vYXBpL2hlYXRpbmdcIjtcbmltcG9ydCB7IHVzZVBsYW5EaXNwYXRjaCwgdXNlUGxhbkdsb2JhbFN0YXRlIH0gZnJvbSBcIi4vUGxhblByb3ZpZGVyXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VIaXN0b3J5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlUGxhbkRpc3BhdGNoKCk7XG4gICAgY29uc3QgbG9hZGVkID0gdXNlUGxhbkdsb2JhbFN0YXRlKFwibG9hZGVkXCIpO1xuXG4gICAgY29uc3Qgc2F2ZVBvaW50ID0gdXNlQ2FsbGJhY2soKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInNhdmVQb2ludFwiIH0pLCBbZGlzcGF0Y2hdKTtcbiAgICBjb25zdCB1bmRvID0gdXNlQ2FsbGJhY2soKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInVuZG9cIiB9KSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3QgY29tbWl0ID0gdXNlQ2FsbGJhY2soKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcImNvbW1pdFwiIH0pLCBbZGlzcGF0Y2hdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNhdmVQb2ludCgpO1xuICAgIH0sIFtsb2FkZWRdKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNhdmVQb2ludCwgdW5kbywgY29tbWl0LFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgdXNlTW9kaWZ5UGxhbiA9ICgpID0+IHtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZVBsYW5EaXNwYXRjaCgpO1xuXG4gICAgY29uc3Qgc2V0TmFtZSA9IHVzZUNhbGxiYWNrKChldnQpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJzZXROYW1lXCIsIG5hbWU6IGV2dC50YXJnZXQudmFsdWUgfSksIFtkaXNwYXRjaF0pO1xuICAgIGNvbnN0IHNldERlc2NyaXB0aW9uID0gdXNlQ2FsbGJhY2soKGV2dCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInNldERlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uOiBldnQudGFyZ2V0LnZhbHVlIH0pLCBbZGlzcGF0Y2hdKTtcblxuICAgIGNvbnN0IHRvZ2dsZVN0YXRlID0gdXNlQ2FsbGJhY2soKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInRvZ2dsZUVuYWJsZWRcIiB9KSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3QgdG9nZ2xlWm9uZSA9IHVzZUNhbGxiYWNrKChpZCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInRvZ2dsZVpvbmVcIiwgem9uZTogaWQgfSksIFtkaXNwYXRjaF0pO1xuICAgIGNvbnN0IHRvZ2dsZURldmljZSA9IHVzZUNhbGxiYWNrKChpZCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInRvZ2dsZURldmljZVwiLCBkZXZpY2U6IGlkIH0pLCBbZGlzcGF0Y2hdKTtcblxuICAgIHJldHVybiB7IHNldE5hbWUsIHNldERlc2NyaXB0aW9uLCB0b2dnbGVTdGF0ZSwgdG9nZ2xlWm9uZSwgdG9nZ2xlRGV2aWNlIH07XG59O1xuXG5leHBvcnQgY29uc3QgdXNlTW9kaWZ5RXhjZXB0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZVBsYW5EaXNwYXRjaCgpO1xuICAgIGNvbnN0IFtpc0RpcnR5LCBzZXREaXJ0eV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgICBjb25zdCBzZXRPdmVycmlkZSA9IHVzZUNhbGxiYWNrKChtb2RlLCB0ZW1wKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJzZXRPdmVycmlkZVwiLCBtb2RlLCB0ZW1wZXJhdHVyZTogdGVtcCB9KTtcbiAgICAgICAgc2V0RGlydHkodHJ1ZSk7XG4gICAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgICBjb25zdCBjbGVhck92ZXJyaWRlID0gdXNlQ2FsbGJhY2soKG1vZGUpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcImNsZWFyT3ZlcnJpZGVcIiwgbW9kZSB9KTtcbiAgICAgICAgc2V0RGlydHkodHJ1ZSk7XG4gICAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgICBjb25zdCB1cGRhdGVPdmVycmlkZSA9IHVzZUNhbGxiYWNrKChtb2RlOiBPdmVycmlkZU1vZGUsIHRhcmdldDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IDApIHsgY2xlYXJPdmVycmlkZShtb2RlKTsgfSBlbHNlIHsgc2V0T3ZlcnJpZGUobW9kZSwgdGFyZ2V0KTsgfVxuICAgIH0sIFtkaXNwYXRjaF0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0RGlydHkoZmFsc2UpO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiB7IGlzRGlydHksIHNldE92ZXJyaWRlLCBjbGVhck92ZXJyaWRlLCB1cGRhdGVPdmVycmlkZSB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZU1vZGlmeVNldFBvaW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBbaXNEaXJ0eSwgc2V0RGlydHldID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VQbGFuRGlzcGF0Y2goKTtcblxuICAgIGNvbnN0IHNlbGVjdERheSA9IHVzZUNhbGxiYWNrKChkYXkpID0+IHsgZGlzcGF0Y2goeyB0eXBlOiBcInNlbGVjdERheVwiLCBkYXkgfSk7IH0sIFtkaXNwYXRjaF0pO1xuICAgIGNvbnN0IHNlbGVjdGVkRGF5ID0gdXNlUGxhbkdsb2JhbFN0YXRlKFwic2VsZWN0ZWREYXlcIik7XG4gICAgY29uc3Qgc2V0UG9pbnQgPSB1c2VQbGFuR2xvYmFsU3RhdGUoXCJzZXRQb2ludFwiKTtcblxuICAgIGNvbnN0IGNvcHlEYXlzID0gdXNlQ2FsbGJhY2soKHNvdXJjZSwgZGF5cykgPT4ge1xuICAgICAgICBpZiAoZGF5cyAhPSBudWxsICYmIGRheXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0RGlydHkodHJ1ZSk7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiY29weURheXNcIiwgc291cmNlLCB0YXJnZXRzOiBkYXlzIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgICBjb25zdCByZW1vdmVTZXRQb2ludCA9IHVzZUNhbGxiYWNrKChpZHgpID0+IHsgc2V0RGlydHkodHJ1ZSk7IGRpc3BhdGNoKHsgdHlwZTogXCJyZW1vdmVTZXRQb2ludFwiLCBpbmRleDogaWR4IH0pOyB9LCBbZGlzcGF0Y2hdKTtcblxuICAgIGNvbnN0IGxvYWRTZXRQb2ludCA9IHVzZUNhbGxiYWNrKChwb2ludCkgPT4geyBkaXNwYXRjaCh7IHR5cGU6IFwibG9hZFNldFBvaW50XCIsIHNldFBvaW50OiBwb2ludCB9KTsgfSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3QgbmV3U2V0UG9pbnQgPSB1c2VDYWxsYmFjaygoZGF5KSA9PiB7IGRpc3BhdGNoKHsgdHlwZTogXCJuZXdTZXRQb2ludFwiLCBkYXkgfSk7IH0sIFtkaXNwYXRjaF0pO1xuXG4gICAgY29uc3Qgc2F2ZVNldFBvaW50ID0gdXNlQ2FsbGJhY2soKHMpID0+IHtcbiAgICAgICAgaWYgKHMuaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiYWRkU2V0UG9pbnRcIiwgc2V0UG9pbnQ6IHMgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwidXBkYXRlU2V0UG9pbnRcIiwgc2V0UG9pbnQ6IHMgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbZGlzcGF0Y2hdKTtcblxuICAgIGNvbnN0IHNldFN0YXJ0ID0gdXNlQ2FsbGJhY2soKGRhdGU6IERhdGUgfCBzdHJpbmcpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJzZXRTdGFydFwiLCBzdGFydDogZGF0ZSB9KSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3Qgc2V0VGFyZ2V0VGVtcGVyYXR1cmUgPSB1c2VDYWxsYmFjaygoZXZ0KSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwic2V0VGFyZ2V0VGVtcGVyYXR1cmVcIiwgdGVtcGVyYXR1cmU6IHBhcnNlRmxvYXQoZXZ0LnRhcmdldC52YWx1ZSkgfSksIFtkaXNwYXRjaF0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0RGlydHkoZmFsc2UpO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiB7IHNldERpcnR5LCBpc0RpcnR5LCBzZWxlY3RlZERheSwgc2V0UG9pbnQsIGNvcHlEYXlzLCByZW1vdmVTZXRQb2ludCwgbG9hZFNldFBvaW50LCBuZXdTZXRQb2ludCwgc2VsZWN0RGF5LCBzYXZlU2V0UG9pbnQsIHNldFN0YXJ0LCBzZXRUYXJnZXRUZW1wZXJhdHVyZSB9O1xufTtcblxubGV0IGNhY2hlZFBsYW4gPSBmYWxzZTtcbmV4cG9ydCBjb25zdCB1c2VQbGFuID0gKGlkOiBzdHJpbmcsIGtlZXA6IGJvb2xlYW4gPSB0cnVlKSA9PiB7XG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VQbGFuRGlzcGF0Y2goKTtcblxuICAgIGNvbnN0IHBsYW4gPSB1c2VQbGFuR2xvYmFsU3RhdGUoXCJwbGFuXCIpO1xuICAgIGNvbnN0IGxvYWRlZCA9IHVzZVBsYW5HbG9iYWxTdGF0ZShcImxvYWRlZFwiKTtcbiAgICBjb25zdCBpc0RpcnR5ID0gdXNlUGxhbkdsb2JhbFN0YXRlKFwiZGlydHlcIik7XG5cbiAgICBpZiAoIWxvYWRlZCB8fCAha2VlcCkge1xuICAgICAgICBpZiAoKGlkID09IG51bGwgfHwgaWQgPT09IFwibmV3XCIpICYmICFjYWNoZWRQbGFuKSB7XG4gICAgICAgICAgICBjYWNoZWRQbGFuID0gdHJ1ZTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImxvYWRQbGFuXCIsIHBsYW46IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHV1aWR2MSgpLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgem9uZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGU6IFtdLFxuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlZFBsYW4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBwbGFuQVBJLmZldGNoUGxhbkJ5SWQoaWQpLnRoZW4oKHApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkUGxhbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJsb2FkUGxhblwiLCBwbGFuOiBwIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNhY2hlZFBsYW4gPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9LCBbaWQsIGtlZXBdKTtcblxuICAgIHJldHVybiB7IHBsYW4sIGlzRGlydHksIGxvYWRlZCB9O1xufTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgem9uZUFQSSB9IGZyb20gXCIuLi9hcGkvem9uZXNcIjtcbmltcG9ydCB7IHVzZVBsYW5EaXNwYXRjaCwgdXNlUGxhbkdsb2JhbFN0YXRlIH0gZnJvbSBcIi4vUGxhblByb3ZpZGVyXCI7XG5cbmxldCBsb2FkaW5nWm9uZXMgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCB1c2Vab25lcyA9IChrZWVwPzogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlUGxhbkRpc3BhdGNoKCk7XG4gICAgY29uc3Qgem9uZXMgPSB1c2VQbGFuR2xvYmFsU3RhdGUoXCJ6b25lc1wiKTtcblxuICAgIGlmICgha2VlcCAmJiAhbG9hZGluZ1pvbmVzKSB7XG4gICAgICAgIGxvYWRpbmdab25lcyA9IHRydWU7XG4gICAgICAgIHRocm93IHpvbmVBUEkuZmV0Y2hIZWF0aW5nWm9uZXMoKS50aGVuKCh6KSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwibG9hZFpvbmVzXCIsIHpvbmVzOiB6IH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgbG9hZGluZ1pvbmVzID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW2tlZXBdKTtcblxuICAgIHJldHVybiB6b25lcztcbn07XG4iXSwibmFtZXMiOlsiZGV2aWNlQVBJIiwiZmV0Y2hIZWF0aW5nRGV2aWNlcyIsImRldmljZXMiLCJyZXN1bHQiLCJzb3J0QnkiLCJyZWR1Y2UiLCJtYXAiLCJvYmoiLCJpZHgiLCJpZCIsImxlbmd0aCIsInpvbmVBUEkiLCJmZXRjaEhlYXRpbmdab25lcyIsInpvbmVzIiwiQ29uZmlybURpYWxvZyIsInByb3BzIiwib3BlbiIsInRpdGxlIiwiY29udGVudCIsIm9uT0siLCJvbkNhbmNlbCIsIm90aGVycyIsIm9uQ2xvc2UiLCJUcmFuc2l0aW9uQ29tcG9uZW50Iiwib25DbGljayIsImNvbG9yIiwidXNlQ29uZmlybURpYWxvZyIsIm9uQ29uZmlybSIsInNldElzT3BlbiIsInVzZVN0YXRlIiwiZGlhbG9nIiwiaXNPcGVuIiwiY2xhc3NlcyIsIm90aGVyUHJvcHMiLCJmdWxsV2lkdGgiLCJtYXJnaW4iLCJab25lSWNvbiIsIm5hbWUiLCJ0aGVtZSIsImlucHV0Q29udGFpbmVyIiwid2lkdGgiLCJwYWRkaW5nTGVmdCIsInNwYWNpbmciLCJwYWRkaW5nUmlnaHQiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsIlRyYW5zaXRpb24iLCJDbG9uZURpYWxvZyIsIkNoYXJ0IiwiVGFiQ29udGFpbmVyIiwiYWN0aXZlVGFiIiwiZmFsbGJhY2siLCJzdHlsZSIsIndpdGhTbmFja2JhciIsIndpdGhSb3V0ZXIiLCJidXR0b24iLCJkaXZpZGVyIiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwiYXZhdGFyIiwiaGVpZ2h0Iiwic2VsZWN0ZWRUYWIiLCJzZWxlY3RUYWIiLCJwbGFuIiwiaXNEaXJ0eSIsInVzZVBsYW4iLCJtYXRjaCIsInBhcmFtcyIsImxvY2F0aW9uIiwic3RhdGUiLCJzZXROYW1lIiwic2V0RGVzY3JpcHRpb24iLCJ0b2dnbGVTdGF0ZSIsInRvZ2dsZVpvbmUiLCJ0b2dnbGVEZXZpY2UiLCJ1c2VNb2RpZnlQbGFuIiwidXNlWm9uZXMiLCJ1c2VEZXZpY2VzIiwidXNlRWZmZWN0Iiwic2V0SXNDbG9uZURpYWxvZ09wZW4iLCJpc0Nsb25lRGlhbG9nT3BlbiIsImNvbmZpcm1SZW1vdmVEaWFsb2ciLCJvcGVuQ29uZmlybVJlbW92ZSIsImlzQ29uZmlybVJlbW92ZU9wZW4iLCJyZW1vdmVQbGFuIiwicGxhbkFQSSIsInRoZW4iLCJfcCIsImhpc3RvcnkiLCJwdXNoIiwicGF0aG5hbWUiLCJlbnF1ZXVlU25hY2tiYXIiLCJGcmFnbWVudCIsIm5ld1BsYW4iLCJlbmFibGVkIiwiY2F0Y2giLCJyIiwiaGVhZGVyIiwiTWVudUJ1dHRvbiIsImZpcnN0IiwidG8iLCJjb21wb25lbnQiLCJMaW5rIiwiaWNvbiIsImFjdGlvbnMiLCJzdWJCYXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiX2UiLCJ2IiwidmFyaWFudCIsInNjcm9sbEJ1dHRvbnMiLCJyb290IiwidGFiIiwiZGlzYWJsZVJpcHBsZSIsImxhYmVsIiwibiIsInBhZGRpbmdUb3AiLCJib2R5IiwiU2Nyb2xsTG9ja3kiLCJpc29sYXRpb24iLCJ0ZXh0IiwicGxhY2Vob2xkZXIiLCJjb250cm9sIiwiY2hlY2tlZCIsImxhYmVsUGxhY2VtZW50IiwibXVsdGlsaW5lIiwiZGVzY3JpcHRpb24iLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsInRleHREZWNvcmF0aW9uIiwicmVwbGFjZSIsInNjaGVkdWxlIiwiem9uZSIsImtleSIsInByaW1hcnkiLCJmaW5kIiwiYyIsImRldmljZSIsInNyYyIsImxvYWRpbmdEZXZpY2VzIiwia2VlcCIsImRpc3BhdGNoIiwidXNlUGxhbkRpc3BhdGNoIiwidXNlUGxhbkdsb2JhbFN0YXRlIiwiZCIsInR5cGUiLCJ1c2VIaXN0b3J5IiwibG9hZGVkIiwic2F2ZVBvaW50IiwidXNlQ2FsbGJhY2siLCJ1bmRvIiwiY29tbWl0IiwiZXZ0IiwidGFyZ2V0IiwidXNlTW9kaWZ5RXhjZXB0aW9ucyIsInNldERpcnR5Iiwic2V0T3ZlcnJpZGUiLCJtb2RlIiwidGVtcCIsInRlbXBlcmF0dXJlIiwiY2xlYXJPdmVycmlkZSIsInVwZGF0ZU92ZXJyaWRlIiwidXNlTW9kaWZ5U2V0UG9pbnRzIiwic2VsZWN0RGF5IiwiZGF5Iiwic2VsZWN0ZWREYXkiLCJzZXRQb2ludCIsImNvcHlEYXlzIiwic291cmNlIiwiZGF5cyIsInRhcmdldHMiLCJyZW1vdmVTZXRQb2ludCIsImluZGV4IiwibG9hZFNldFBvaW50IiwicG9pbnQiLCJuZXdTZXRQb2ludCIsInNhdmVTZXRQb2ludCIsInMiLCJzZXRTdGFydCIsImRhdGUiLCJzdGFydCIsInNldFRhcmdldFRlbXBlcmF0dXJlIiwicGFyc2VGbG9hdCIsImNhY2hlZFBsYW4iLCJwIiwib3ZlcnJpZGVzIiwidW5kZWZpbmVkIiwibG9hZGluZ1pvbmVzIiwieiJdLCJzb3VyY2VSb290IjoiIn0=