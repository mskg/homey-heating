/*! For license information please see pages_plan-schedule_tsx.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([["pages_plan-schedule_tsx"],{"../../node_modules/@material-ui/core/colors/amber.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"}},"../../node_modules/@material-ui/core/colors/green.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},"../../node_modules/@material-ui/core/colors/lightBlue.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},"../../node_modules/@material-ui/core/esm/Fab/Fab.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b,styles:()=>p});var o=a("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),l=a("../../node_modules/@babel/runtime/helpers/esm/extends.js"),s=a("../../node_modules/react/index.js"),n=a("../../node_modules/prop-types/index.js"),r=a.n(n),i=a("../../node_modules/clsx/dist/clsx.m.js"),d=a("../../node_modules/@material-ui/utils/esm/chainPropTypes.js"),u=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),c=a("../../node_modules/@material-ui/core/esm/ButtonBase/ButtonBase.js"),m=a("../../node_modules/@material-ui/core/esm/utils/capitalize.js"),p=function(e){return{root:(0,l.default)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},f=s.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,d=e.color,u=void 0===d?"default":d,p=e.component,f=void 0===p?"button":p,b=e.disabled,h=void 0!==b&&b,y=e.disableFocusRipple,_=void 0!==y&&y,g=e.focusVisibleClassName,v=e.size,x=void 0===v?"large":v,j=e.variant,E=void 0===j?"circular":j,k=(0,o.default)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return s.createElement(c.default,(0,l.default)({className:(0,i.default)(n.root,r,"large"!==x&&n["size".concat((0,m.default)(x))],h&&n.disabled,"extended"===E&&n.extended,{primary:n.primary,secondary:n.secondary,inherit:n.colorInherit}[u]),component:f,disabled:h,focusRipple:!_,focusVisibleClassName:(0,i.default)(n.focusVisible,g),ref:t},k),s.createElement("span",{className:n.label},a))}));f.propTypes={children:r().node.isRequired,classes:r().object,className:r().string,color:r().oneOf(["default","inherit","primary","secondary"]),component:r().elementType,disabled:r().bool,disableFocusRipple:r().bool,disableRipple:r().bool,focusVisibleClassName:r().string,href:r().string,size:r().oneOf(["large","medium","small"]),variant:(0,d.default)(r().oneOf(["extended","circular","round"]),(function(e){if("round"===e.variant)throw new Error('Material-UI: variant="round" was renamed variant="circular" for consistency.');return null}))};const b=(0,u.default)(p,{name:"MuiFab"})(f)},"../../node_modules/@material-ui/icons/Add.js":(e,t,a)=>{"use strict";var o=a("../../node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=a("../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(a("../../node_modules/react/index.js")),n=(0,o(a("../../node_modules/@material-ui/icons/utils/createSvgIcon.js")).default)(s.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=n},"../../assets/icon_black.svg":(e,t,a)=>{e.exports=a.p+"icon_black.svg?5136879a03a13f9fb18f241b081f38cb"},"./api/callAPI.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var o=a("../../node_modules/tslib/tslib.es6.js");function l(e,t,a=null){return(0,o.__awaiter)(this,void 0,void 0,(function*(){const o={method:e,headers:{"Content-Type":"application/json"},cache:"no-store"};null!=a&&(o.body=JSON.stringify(a));const l=yield fetch(`http://homey-pro.iot.home.arpa/api/app/app.mskg.homey-heating${t}`,o);return yield l.json()}))}},"./api/heating/index.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{modeAPI:()=>i,planAPI:()=>r});var o=a("../../node_modules/tslib/tslib.es6.js"),l=a("../../node_modules/lodash/lodash.js"),s=a("./api/callAPI.tsx");const n=e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){const t=Object.assign({},e);return t.zones&&0!==t.zones.length||(t.zones=void 0),t.devices&&0!==t.devices.length||(t.devices=void 0),yield(0,s.default)("PUT",`/plans/${e.id}`,t)})),r={fetchPlans:()=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield(0,s.default)("GET","/plans");return(0,l.sortBy)((0,l.map)(e,(e=>(e.zones=e.zones||[],e.devices=e.devices||[],e))),(e=>e.name))})),fetchPlanById:e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){const t=yield(0,s.default)("GET",`/plans/${e}`);if(null==t)throw new Error(`Plan ${e} not found.`);return t.zones=t.zones||[],t.devices=t.devices||[],t})),fetchSchedule:()=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield(0,s.default)("GET","/schedule");return e.temperatures=(0,l.sortBy)(e.temperatures,[e=>e.device.name]),e})),updatePlan:n,removePlan:e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return yield(0,s.default)("DELETE",`/plans/${e}`)})),togglePlanState:e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return e.enabled=!e.enabled,yield n(e),!0}))},i={fetchMode:()=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return(yield(0,s.default)("GET","/mode")).mode})),setMode:e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return yield(0,s.default)("PUT","/mode",{mode:e})}))}},"./components/AddFab.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var o=a("../../node_modules/@material-ui/core/esm/Fab/Fab.js"),l=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),s=a("../../node_modules/@material-ui/icons/Add.js"),n=a("../../node_modules/react/index.js");const r=(0,l.default)((e=>({fabButton:{zIndex:1,margin:"0 auto",position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})))((e=>{const{classes:t}=e;return n.createElement(o.default,{color:"secondary","aria-label":"Add",className:t.fabButton,onClick:()=>e.onClick()},n.createElement(s.default,null))}))},"./components/AppHeader.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var o=a("../../node_modules/@material-ui/core/esm/AppBar/AppBar.js"),l=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),s=a("../../node_modules/@material-ui/core/esm/Toolbar/Toolbar.js"),n=a("../../node_modules/@material-ui/core/esm/Typography/Typography.js"),r=a("../../node_modules/react/index.js");const i=(0,l.default)((e=>({appBar:{},grow:{flexGrow:1},buttons:{display:"flex"},toolbar:{alignItems:"center",justifyContent:"space-between"}})))((e=>{const{classes:t}=e,{button:a,title:l,actions:i,subBar:d}=e.children||{button:null,title:null,actions:null,subBar:null};return r.createElement(r.Fragment,null,r.createElement(o.default,{position:"absolute",color:"primary",className:t.appBar},r.createElement(s.default,{className:t.toolbar},e.button||a,r.createElement(n.default,{variant:"h6",color:"inherit",noWrap:!0},e.title||l),r.createElement("div",{className:t.grow}),null!=i&&r.createElement("div",{className:t.buttons},i)),null!=d&&d))}))},"./components/ListItemLink.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var o=a("../../node_modules/tslib/tslib.es6.js"),l=a("../../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),s=a("../../node_modules/react/index.js"),n=a("../../node_modules/react-router-dom/esm/react-router-dom.js");function r(e){var{innerRef:t}=e,a=(0,o.__rest)(e,["innerRef"]);return a.to.toString().match(/https/)?s.createElement("a",Object.assign({onClick:()=>Homey.openURL(a.to.toString())},a),a.children):s.createElement(n.Link,Object.assign({},a))}const i=e=>s.createElement(l.default,Object.assign({},e,{component:r}),e.children)},"./components/Menu.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppMenuButton:()=>y,MenuButton:()=>g,default:()=>v});var o=a("../../node_modules/tslib/tslib.es6.js"),l=a("../../node_modules/@material-ui/core/esm/Typography/Typography.js"),s=a("../../node_modules/@material-ui/core/esm/Divider/Divider.js"),n=a("../../node_modules/@material-ui/core/esm/List/List.js"),r=a("../../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),i=a("../../node_modules/@material-ui/core/esm/IconButton/IconButton.js"),d=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),u=a("../../node_modules/@material-ui/core/esm/Drawer/Drawer.js"),c=a("../../node_modules/@material-ui/icons/Menu.js"),m=a("../../node_modules/react/index.js"),p=a("../../node_modules/react-router/esm/react-router.js"),f=a("./i18n/Translation.tsx"),b=a("./components/ListItemLink.tsx");const h=e=>({text:{padding:e.spacing(2),paddingBottom:0},version:{padding:e.spacing(2),paddingTop:0},normal:{},selected:{color:e.palette.primary.main},otherButton:{},firstButton:{marginLeft:-12}}),y=e=>{const[t,a]=m.useState(!1);return m.createElement(m.Fragment,null,m.createElement(_,{open:t,onClose:()=>{a(!1)}}),m.createElement(g,{first:!0,onClick:()=>{a(!0)},icon:m.createElement(c.default,null)}))},_=(0,p.withRouter)((0,d.default)(h)((e=>{const{classes:t}=e,a=[{type:"entry",to:"/",text:(0,f.default)("menu.plans")},{to:"/temperatures",text:(0,f.default)("menu.temperatures")},{to:"/schedules",text:(0,f.default)("menu.schedules")},{to:"/settings",text:(0,f.default)("menu.settings")},{to:"https://homey-heating.mskg.app",text:(0,f.default)("menu.help")}];return m.createElement(u.default,{open:e.open,onClose:e.onClose},m.createElement(l.default,{className:t.text,variant:"h5",gutterBottom:!0},(0,f.default)("menu.title")),m.createElement(l.default,{className:t.version,variant:"body2",color:"textSecondary",gutterBottom:!0},"Version ","2.0.0-rc10"," (","v2.0.0-rc10",")"),m.createElement(s.default,null),m.createElement(n.default,null,a.map((a=>"Divider"===a.type?m.createElement(s.default,null):m.createElement(b.default,{key:a.to,to:a.to,disabled:e.match.url===a.to,button:!0},m.createElement(r.default,{primary:a.text,classes:{primary:e.match.url!==a.to?t.normal:t.selected}}))))))}))),g=(0,d.default)(h)((e=>{const{classes:t,first:a,icon:l}=e,s=(0,o.__rest)(e,["classes","first","icon"]);return m.createElement(i.default,Object.assign({className:a?t.firstButton:t.otherButton,color:"inherit"},s),l)})),v=_},"./components/TemperatureAvatar.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{FilledTemperatureAvatar:()=>b,TemperatureAvatar:()=>h,normalize:()=>f});var o=a("../../node_modules/@material-ui/core/esm/Typography/Typography.js"),l=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),s=a("../../node_modules/@material-ui/core/esm/Avatar/Avatar.js"),n=a("../../node_modules/@material-ui/core/colors/deepOrange.js"),r=a("../../node_modules/@material-ui/core/colors/lightBlue.js"),i=a("../../node_modules/react/index.js"),d=a("./components/temperatureToColor.tsx");const u=a("../../assets/icon_black.svg"),c=35,m=e=>({root:{fontSize:"1em",float:"left",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",width:45},avatar:{width:c,height:c,lineHeight:c,position:"relative",overflow:"hidden"},img:{width:c,height:c,zIndex:2,position:"absolute",left:0,bottom:0},fill:{display:"block",width:c,height:33,zIndex:1,position:"absolute",left:0,bottom:1}});function p(e,t){return(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)}function f(e,t,a){return(a-e)/(t-e)}const b=(0,l.default)(m)((e=>{const{value:t,classes:a,fill:l}=e;let{digits:s}=e;const d=(100===l?r.default:n.default)[500];return null==s&&(s=2),i.createElement("div",{className:a.root},i.createElement("div",{className:a.avatar},i.createElement("object",{className:a.img,data:u,type:"image/svg+xml"}),i.createElement("span",{style:{height:`calc(${l}% - 5px)`,background:d},className:a.fill})),i.createElement(o.default,{variant:"body1",color:"textSecondary",component:"div"},p(t,s),"°"))})),h=(0,l.default)(m)((e=>{const{value:t}=e;return i.createElement(s.default,{style:{padding:"25px",background:(0,d.temperatureToColor)(t),fontSize:"1em"}},p(t,1),"°")}))},"./components/temperatureToColor.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{slotTemperature:()=>r,temperatureToColor:()=>i});var o=a("../../node_modules/@material-ui/core/colors/amber.js"),l=a("../../node_modules/@material-ui/core/colors/blue.js"),s=a("../../node_modules/@material-ui/core/colors/deepOrange.js"),n=a("../../node_modules/@material-ui/core/colors/green.js");function r(e,t,a,o,l){return Math.floor((l-o)*(e-t)/(a-t)+o)}const i=e=>{const t=Math.round(100*r(Math.min(Math.max(16,e),24),16,24,1,8)+100);return e<=16?l.default[t]:e<=18.5?n.default[t]:e<=20.5?o.default[t]:s.default[t]}},"./layouts/Page.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var o=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),l=a("../../node_modules/react/index.js");const s=(0,o.default)((e=>({root:{webkitOverflowScrolling:"touch",display:"flex",flexFlow:"column",height:"100vh",width:"100vw",backgroundColor:"#fff"},body:{flex:"1 0 100%",margin:0,maxWidth:"100%",overflowY:"scroll"}})))((e=>{const{classes:t}=e,{header:a,body:o,paddingTop:s,paddingBottom:n}=e.children,r=n||"auto";return l.createElement(l.Fragment,null,l.createElement("div",{className:t.root},a,l.createElement("div",{className:t.body,style:{paddingTop:s,paddingBottom:r}},o)))}))},"./pages/plan-schedule.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var o=a("../../node_modules/@material-ui/core/esm/Button/Button.js"),l=a("../../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js"),s=a("../../node_modules/@material-ui/core/esm/Divider/Divider.js"),n=a("../../node_modules/@material-ui/core/esm/IconButton/IconButton.js"),r=a("../../node_modules/@material-ui/core/esm/List/List.js"),i=a("../../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),d=a("../../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),u=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),c=a("../../node_modules/@material-ui/core/esm/Tab/Tab.js"),m=a("../../node_modules/@material-ui/core/esm/Tabs/Tabs.js"),p=a("../../node_modules/@material-ui/icons/ArrowBackIos.js"),f=a("../../node_modules/@material-ui/icons/Cancel.js"),b=a("../../node_modules/@material-ui/icons/Delete.js"),h=a("../../node_modules/@material-ui/icons/FileCopy.js"),y=a("../../node_modules/react/index.js"),_=a("../../node_modules/react-router/esm/react-router.js"),g=a("../../node_modules/react-scroll-locky/dist/es2015/component.js"),v=a("../app/model/index.ts"),x=a("./components/AddFab.tsx"),j=a("./components/AppHeader.tsx"),E=a("./components/Menu.tsx"),k=a("./components/TemperatureAvatar.tsx"),C=a("./i18n/Translation.tsx"),w=a("./layouts/Page.tsx"),P=a("./state/planHooks.tsx"),S=a("./state/PlanProvider.tsx");const T=y.lazy((()=>Promise.all([a.e("vendors-node_modules_material-ui_core_esm_Dialog_Dialog_js-node_modules_material-ui_core_esm_-633b1f"),a.e("vendors-node_modules_material-ui_core_esm_Checkbox_Checkbox_js-node_modules_material-ui_core_-59d411"),a.e("node_modules_material-ui_core_esm_internal_SwitchBase_js-dialogs_CopyDayDialog_tsx")]).then(a.bind(a,"./dialogs/CopyDayDialog.tsx")))),D=y.lazy((()=>Promise.all([a.e("vendors-node_modules_material-ui_core_esm_Select_Select_js"),a.e("vendors-node_modules_material-ui_core_esm_TextField_TextField_js"),a.e("vendors-node_modules_material-ui_core_esm_Dialog_Dialog_js-node_modules_material-ui_core_esm_-633b1f"),a.e("dialogs_SetPointDialog_tsx")]).then(a.bind(a,"./dialogs/SetPointDialog.tsx"))));function B(e){return e>9?e.toString():"0"+e}function A(e){return e+1>6?0:e+1}const I=(0,_.withRouter)((0,u.default)((e=>({list:{marginTop:0,marginBottom:e.spacing(2)},tab:{minWidth:"50px"},avatar:{}})))((e=>{const{classes:t,location:a,history:u}=e,_=(0,S.usePlanDispatch)(),[I,M]=y.useState(!1),[z,N]=y.useState(!1),[F,R]=y.useState(0),{plan:L,loaded:O}=(0,P.usePlan)(e.match.params.id),{undo:$,commit:G}=(0,P.useHistory)();y.useEffect((()=>{K(0),M(!1),N(!1)}),[a,O]);const{isDirty:H,setDirty:W,selectedDay:V,copyDays:U,loadSetPoint:q,newSetPoint:Z,selectDay:J,removeSetPoint:Y}=(0,P.useModifySetPoints)(),K=(0,y.useCallback)((e=>{R(e),J(A(e))}),[_]);return y.createElement(y.Fragment,null,y.createElement(T,{open:z,onConfirm:e=>{U(A(F),e),K(F),N(!1)},onCancel:()=>{N(!1)}}),y.createElement(D,{open:I,onClose:e=>{e&&(W(!0),K(F)),M(!1)}}),y.createElement(w.default,null,{header:y.createElement(j.default,null,{title:(0,C.default)("schedule.title"),button:y.createElement(E.MenuButton,{first:!0,onClick:function(){$(),u.replace({pathname:`/plans/${L.id}`,state:!0})},icon:H?y.createElement(f.default,null):y.createElement(p.default,null)}),actions:y.createElement(y.Fragment,null,y.createElement(E.MenuButton,{onClick:()=>{N(!0)},icon:y.createElement(h.default,null)}),H&&y.createElement(o.default,{color:"inherit",onClick:function(){G(),u.replace({pathname:`/plans/${L.id}`,state:!0})}},(0,C.default)("schedule.save"))),subBar:y.createElement(m.default,{value:F,onChange:(e,t)=>K(t),variant:"fullWidth"},y.createElement(c.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,C.default)("schedule.Monday")}),y.createElement(c.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,C.default)("schedule.Tuesday")}),y.createElement(c.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,C.default)("schedule.Wednesday")}),y.createElement(c.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,C.default)("schedule.Thursday")}),y.createElement(c.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,C.default)("schedule.Friday")}),y.createElement(c.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,C.default)("schedule.Saturday")}),y.createElement(c.default,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,C.default)("schedule.Sunday")}))}),paddingTop:100,paddingBottom:60,body:y.createElement(y.Fragment,null,y.createElement(g.ScrollLocky,{enabled:I||z,isolation:!1},y.createElement(r.default,{className:t.list},V.last&&y.createElement(y.Fragment,{key:"-1"},y.createElement(i.default,{button:!0,onClick:()=>{return K(0===(e=V.last&&V.last.day||0)?6:e-1);var e}},y.createElement(k.TemperatureAvatar,{value:V.last.targetTemperature}),y.createElement(d.default,{primary:`${v.Day[V.last.day]}`,secondary:`${B(V.last.hour)}:${B(V.last.minute)}`})),y.createElement(s.default,null)),V.schedules.map((e=>y.createElement(y.Fragment,{key:e.index},y.createElement(i.default,{button:!0,onClick:()=>{return t=e,a=e.index,q(Object.assign(Object.assign({},t),{index:a})),void M(!0);var t,a}},y.createElement(k.TemperatureAvatar,{value:e.targetTemperature}),y.createElement(d.default,{primary:`${B(e.hour)}:${B(e.minute)}`}),y.createElement(l.default,null,y.createElement(n.default,{className:t.menuButton,onClick:()=>{return t=e.index,Y(t),void K(F);var t}},y.createElement(b.default,null)))),y.createElement(s.default,null)))))),y.createElement(x.default,{onClick:function(){Z(A(F)),M(!0)}}))}))})))},"./state/planHooks.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{useHistory:()=>r,useModifyExceptions:()=>d,useModifyPlan:()=>i,useModifySetPoints:()=>u,usePlan:()=>m});var o=a("../../node_modules/react/index.js"),l=a("../../node_modules/uuid/v1.js"),s=a("./api/heating/index.tsx"),n=a("./state/PlanProvider.tsx");const r=()=>{const e=(0,n.usePlanDispatch)(),t=(0,n.usePlanGlobalState)("loaded"),a=(0,o.useCallback)((()=>e({type:"savePoint"})),[e]),l=(0,o.useCallback)((()=>e({type:"undo"})),[e]),s=(0,o.useCallback)((()=>e({type:"commit"})),[e]);return(0,o.useEffect)((()=>{a()}),[t]),{savePoint:a,undo:l,commit:s}},i=()=>{const e=(0,n.usePlanDispatch)();return{setName:(0,o.useCallback)((t=>e({type:"setName",name:t.target.value})),[e]),setDescription:(0,o.useCallback)((t=>e({type:"setDescription",description:t.target.value})),[e]),toggleState:(0,o.useCallback)((()=>e({type:"toggleEnabled"})),[e]),toggleZone:(0,o.useCallback)((t=>e({type:"toggleZone",zone:t})),[e]),toggleDevice:(0,o.useCallback)((t=>e({type:"toggleDevice",device:t})),[e])}},d=()=>{const e=(0,n.usePlanDispatch)(),[t,a]=(0,o.useState)(!1),l=(0,o.useCallback)(((t,o)=>{e({type:"setOverride",mode:t,temperature:o}),a(!0)}),[e]),s=(0,o.useCallback)((t=>{e({type:"clearOverride",mode:t}),a(!0)}),[e]),r=(0,o.useCallback)(((e,t)=>{0===t?s(e):l(e,t)}),[e]);return(0,o.useEffect)((()=>{a(!1)}),[]),{isDirty:t,setOverride:l,clearOverride:s,updateOverride:r}},u=()=>{const[e,t]=(0,o.useState)(!1),a=(0,n.usePlanDispatch)(),l=(0,o.useCallback)((e=>{a({type:"selectDay",day:e})}),[a]),s=(0,n.usePlanGlobalState)("selectedDay"),r=(0,n.usePlanGlobalState)("setPoint"),i=(0,o.useCallback)(((e,o)=>{null!=o&&o.length>0&&(t(!0),a({type:"copyDays",source:e,targets:o}))}),[a]),d=(0,o.useCallback)((e=>{t(!0),a({type:"removeSetPoint",index:e})}),[a]),u=(0,o.useCallback)((e=>{a({type:"loadSetPoint",setPoint:e})}),[a]),c=(0,o.useCallback)((e=>{a({type:"newSetPoint",day:e})}),[a]),m=(0,o.useCallback)((e=>{-1===e.index?a({type:"addSetPoint",setPoint:e}):a({type:"updateSetPoint",setPoint:e})}),[a]),p=(0,o.useCallback)((e=>a({type:"setStart",start:e})),[a]),f=(0,o.useCallback)((e=>a({type:"setTargetTemperature",temperature:parseFloat(e.target.value)})),[a]);return(0,o.useEffect)((()=>{t(!1)}),[]),{setDirty:t,isDirty:e,selectedDay:s,setPoint:r,copyDays:i,removeSetPoint:d,loadSetPoint:u,newSetPoint:c,selectDay:l,saveSetPoint:m,setStart:p,setTargetTemperature:f}};let c=!1;const m=(e,t=!0)=>{const a=(0,n.usePlanDispatch)(),r=(0,n.usePlanGlobalState)("plan"),i=(0,n.usePlanGlobalState)("loaded"),d=(0,n.usePlanGlobalState)("dirty");if(!i||!t)if(null!=e&&"new"!==e||c){if(!c)throw s.planAPI.fetchPlanById(e).then((e=>{c=!0,a({type:"loadPlan",plan:e})}))}else c=!0,a({type:"loadPlan",plan:{id:l(),enabled:!1,name:"",zones:[],devices:[],schedule:[],overrides:void 0}});return(0,o.useEffect)((()=>()=>{c=!1}),[e,t]),{plan:r,isDirty:d,loaded:i}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBTSxXQUFZL0QsS0FBTUMsR0FBSSxTQWhCL0N5TSxHQUFhLEVBQ2IvRSxFQUFTLENBQ0w1RCxLQUFNLFdBQVkvRCxLQUFNLENBQ3BCTCxHQUFJLElBQ0plLFNBQVMsRUFDVDNDLEtBQU0sR0FDTndCLE1BQU8sR0FDUEcsUUFBUyxHQUNUVSxTQUFVLEdBQ1Z5TSxlQUFXcE4sS0FtQjNCLE9BTkEsSUFBQXFMLFlBQVUsSUFDQyxLQUNINEIsR0FBYSxDQUFLLEdBRXZCLENBQUMvTSxFQUFJZ04sSUFFRCxDQUFFM00sT0FBTTBJLFVBQVNQLFNBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2NvbG9ycy9hbWJlci5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2NvbG9ycy9ncmVlbi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2NvbG9ycy9saWdodEJsdWUuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vRmFiL0ZhYi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9BZGQuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uL2Fzc2V0cy9pY29uX2JsYWNrLnN2ZyIsIndlYnBhY2s6Ly8vLi9hcGkvY2FsbEFQSS50c3giLCJ3ZWJwYWNrOi8vLy4vYXBpL2hlYXRpbmcvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQWRkRmFiLnRzeCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0FwcEhlYWRlci50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9MaXN0SXRlbUxpbmsudHN4Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvTWVudS50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9UZW1wZXJhdHVyZUF2YXRhci50c3giLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy90ZW1wZXJhdHVyZVRvQ29sb3IudHN4Iiwid2VicGFjazovLy8uL2xheW91dHMvUGFnZS50c3giLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvcGxhbi1zY2hlZHVsZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3RhdGUvcGxhbkhvb2tzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBhbWJlciA9IHtcbiAgNTA6ICcjZmZmOGUxJyxcbiAgMTAwOiAnI2ZmZWNiMycsXG4gIDIwMDogJyNmZmUwODInLFxuICAzMDA6ICcjZmZkNTRmJyxcbiAgNDAwOiAnI2ZmY2EyOCcsXG4gIDUwMDogJyNmZmMxMDcnLFxuICA2MDA6ICcjZmZiMzAwJyxcbiAgNzAwOiAnI2ZmYTAwMCcsXG4gIDgwMDogJyNmZjhmMDAnLFxuICA5MDA6ICcjZmY2ZjAwJyxcbiAgQTEwMDogJyNmZmU1N2YnLFxuICBBMjAwOiAnI2ZmZDc0MCcsXG4gIEE0MDA6ICcjZmZjNDAwJyxcbiAgQTcwMDogJyNmZmFiMDAnXG59O1xudmFyIF9kZWZhdWx0ID0gYW1iZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBncmVlbiA9IHtcbiAgNTA6ICcjZThmNWU5JyxcbiAgMTAwOiAnI2M4ZTZjOScsXG4gIDIwMDogJyNhNWQ2YTcnLFxuICAzMDA6ICcjODFjNzg0JyxcbiAgNDAwOiAnIzY2YmI2YScsXG4gIDUwMDogJyM0Y2FmNTAnLFxuICA2MDA6ICcjNDNhMDQ3JyxcbiAgNzAwOiAnIzM4OGUzYycsXG4gIDgwMDogJyMyZTdkMzInLFxuICA5MDA6ICcjMWI1ZTIwJyxcbiAgQTEwMDogJyNiOWY2Y2EnLFxuICBBMjAwOiAnIzY5ZjBhZScsXG4gIEE0MDA6ICcjMDBlNjc2JyxcbiAgQTcwMDogJyMwMGM4NTMnXG59O1xudmFyIF9kZWZhdWx0ID0gZ3JlZW47XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBsaWdodEJsdWUgPSB7XG4gIDUwOiAnI2UxZjVmZScsXG4gIDEwMDogJyNiM2U1ZmMnLFxuICAyMDA6ICcjODFkNGZhJyxcbiAgMzAwOiAnIzRmYzNmNycsXG4gIDQwMDogJyMyOWI2ZjYnLFxuICA1MDA6ICcjMDNhOWY0JyxcbiAgNjAwOiAnIzAzOWJlNScsXG4gIDcwMDogJyMwMjg4ZDEnLFxuICA4MDA6ICcjMDI3N2JkJyxcbiAgOTAwOiAnIzAxNTc5YicsXG4gIEExMDA6ICcjODBkOGZmJyxcbiAgQTIwMDogJyM0MGM0ZmYnLFxuICBBNDAwOiAnIzAwYjBmZicsXG4gIEE3MDA6ICcjMDA5MWVhJ1xufTtcbnZhciBfZGVmYXVsdCA9IGxpZ2h0Qmx1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB7IGNoYWluUHJvcFR5cGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCBCdXR0b25CYXNlIGZyb20gJy4uL0J1dHRvbkJhc2UnO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSAnLi4vdXRpbHMvY2FwaXRhbGl6ZSc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gICAgcm9vdDogX2V4dGVuZHMoe30sIHRoZW1lLnR5cG9ncmFwaHkuYnV0dG9uLCB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIG1pbkhlaWdodDogMzYsXG4gICAgICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoWydiYWNrZ3JvdW5kLWNvbG9yJywgJ2JveC1zaGFkb3cnLCAnYm9yZGVyJ10sIHtcbiAgICAgICAgZHVyYXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0XG4gICAgICB9KSxcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgbWluV2lkdGg6IDAsXG4gICAgICB3aWR0aDogNTYsXG4gICAgICBoZWlnaHQ6IDU2LFxuICAgICAgYm94U2hhZG93OiB0aGVtZS5zaGFkb3dzWzZdLFxuICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbMTJdXG4gICAgICB9LFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUuZ3JleVszMDBdKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5ncmV5WzMwMF0sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmdyZXkuQTEwMCxcbiAgICAgICAgLy8gUmVzZXQgb24gdG91Y2ggZGV2aWNlcywgaXQgZG9lc24ndCBhZGQgc3BlY2lmaWNpdHlcbiAgICAgICAgJ0BtZWRpYSAoaG92ZXI6IG5vbmUpJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5ncmV5WzMwMF1cbiAgICAgICAgfSxcbiAgICAgICAgJyYkZGlzYWJsZWQnOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZEJhY2tncm91bmRcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJ1xuICAgICAgfSxcbiAgICAgICcmJGZvY3VzVmlzaWJsZSc6IHtcbiAgICAgICAgYm94U2hhZG93OiB0aGVtZS5zaGFkb3dzWzZdXG4gICAgICB9LFxuICAgICAgJyYkZGlzYWJsZWQnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZCxcbiAgICAgICAgYm94U2hhZG93OiB0aGVtZS5zaGFkb3dzWzBdLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkQmFja2dyb3VuZFxuICAgICAgfVxuICAgIH0pLFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHNwYW4gZWxlbWVudCB0aGF0IHdyYXBzIHRoZSBjaGlsZHJlbi4gKi9cbiAgICBsYWJlbDoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIC8vIGFzc3VyZSB0aGUgY29ycmVjdCB3aWR0aCBmb3IgaU9TIFNhZmFyaVxuICAgICAgZGlzcGxheTogJ2luaGVyaXQnLFxuICAgICAgYWxpZ25JdGVtczogJ2luaGVyaXQnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdpbmhlcml0J1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBjb2xvcj1cInByaW1hcnlcImAuICovXG4gICAgcHJpbWFyeToge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5jb250cmFzdFRleHQsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5LmRhcmssXG4gICAgICAgIC8vIFJlc2V0IG9uIHRvdWNoIGRldmljZXMsIGl0IGRvZXNuJ3QgYWRkIHNwZWNpZmljaXR5XG4gICAgICAgICdAbWVkaWEgKGhvdmVyOiBub25lKSc6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgY29sb3I9XCJzZWNvbmRhcnlcImAuICovXG4gICAgc2Vjb25kYXJ5OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkuY29udHJhc3RUZXh0LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkuZGFyayxcbiAgICAgICAgLy8gUmVzZXQgb24gdG91Y2ggZGV2aWNlcywgaXQgZG9lc24ndCBhZGQgc3BlY2lmaWNpdHlcbiAgICAgICAgJ0BtZWRpYSAoaG92ZXI6IG5vbmUpJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHZhcmlhbnQ9XCJleHRlbmRlZFwiYC4gKi9cbiAgICBleHRlbmRlZDoge1xuICAgICAgYm9yZGVyUmFkaXVzOiA0OCAvIDIsXG4gICAgICBwYWRkaW5nOiAnMCAxNnB4JyxcbiAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICBtaW5IZWlnaHQ6ICdhdXRvJyxcbiAgICAgIG1pbldpZHRoOiA0OCxcbiAgICAgIGhlaWdodDogNDgsXG4gICAgICAnJiRzaXplU21hbGwnOiB7XG4gICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgIHBhZGRpbmc6ICcwIDhweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogMzQgLyAyLFxuICAgICAgICBtaW5XaWR0aDogMzQsXG4gICAgICAgIGhlaWdodDogMzRcbiAgICAgIH0sXG4gICAgICAnJiRzaXplTWVkaXVtJzoge1xuICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICBwYWRkaW5nOiAnMCAxNnB4JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA0MCAvIDIsXG4gICAgICAgIG1pbldpZHRoOiA0MCxcbiAgICAgICAgaGVpZ2h0OiA0MFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBQc2V1ZG8tY2xhc3MgYXBwbGllZCB0byB0aGUgQnV0dG9uQmFzZSByb290IGVsZW1lbnQgaWYgdGhlIGJ1dHRvbiBpcyBrZXlib2FyZCBmb2N1c2VkLiAqL1xuICAgIGZvY3VzVmlzaWJsZToge30sXG5cbiAgICAvKiBQc2V1ZG8tY2xhc3MgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBkaXNhYmxlZD17dHJ1ZX1gLiAqL1xuICAgIGRpc2FibGVkOiB7fSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGNvbG9yPVwiaW5oZXJpdFwiYC4gKi9cbiAgICBjb2xvckluaGVyaXQ6IHtcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCdcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgc2l6ZT1cInNtYWxsXCJgYC4gKi9cbiAgICBzaXplU21hbGw6IHtcbiAgICAgIHdpZHRoOiA0MCxcbiAgICAgIGhlaWdodDogNDBcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgc2l6ZT1cIm1lZGl1bVwiYGAuICovXG4gICAgc2l6ZU1lZGl1bToge1xuICAgICAgd2lkdGg6IDQ4LFxuICAgICAgaGVpZ2h0OiA0OFxuICAgIH1cbiAgfTtcbn07XG52YXIgRmFiID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gRmFiKHByb3BzLCByZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb2xvciA9IHByb3BzLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcHJvcHMkY29sb3IgPT09IHZvaWQgMCA/ICdkZWZhdWx0JyA6IF9wcm9wcyRjb2xvcixcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBjb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyAnYnV0dG9uJyA6IF9wcm9wcyRjb21wb25lbnQsXG4gICAgICBfcHJvcHMkZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIGRpc2FibGVkID0gX3Byb3BzJGRpc2FibGVkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXNhYmxlZCxcbiAgICAgIF9wcm9wcyRkaXNhYmxlRm9jdXNSaSA9IHByb3BzLmRpc2FibGVGb2N1c1JpcHBsZSxcbiAgICAgIGRpc2FibGVGb2N1c1JpcHBsZSA9IF9wcm9wcyRkaXNhYmxlRm9jdXNSaSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZGlzYWJsZUZvY3VzUmksXG4gICAgICBmb2N1c1Zpc2libGVDbGFzc05hbWUgPSBwcm9wcy5mb2N1c1Zpc2libGVDbGFzc05hbWUsXG4gICAgICBfcHJvcHMkc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICBzaXplID0gX3Byb3BzJHNpemUgPT09IHZvaWQgMCA/ICdsYXJnZScgOiBfcHJvcHMkc2l6ZSxcbiAgICAgIF9wcm9wcyR2YXJpYW50ID0gcHJvcHMudmFyaWFudCxcbiAgICAgIHZhcmlhbnQgPSBfcHJvcHMkdmFyaWFudCA9PT0gdm9pZCAwID8gJ2NpcmN1bGFyJyA6IF9wcm9wcyR2YXJpYW50LFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcImNsYXNzTmFtZVwiLCBcImNvbG9yXCIsIFwiY29tcG9uZW50XCIsIFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlRm9jdXNSaXBwbGVcIiwgXCJmb2N1c1Zpc2libGVDbGFzc05hbWVcIiwgXCJzaXplXCIsIFwidmFyaWFudFwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbkJhc2UsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUsIHNpemUgIT09ICdsYXJnZScgJiYgY2xhc3Nlc1tcInNpemVcIi5jb25jYXQoY2FwaXRhbGl6ZShzaXplKSldLCBkaXNhYmxlZCAmJiBjbGFzc2VzLmRpc2FibGVkLCB2YXJpYW50ID09PSAnZXh0ZW5kZWQnICYmIGNsYXNzZXMuZXh0ZW5kZWQsIHtcbiAgICAgICdwcmltYXJ5JzogY2xhc3Nlcy5wcmltYXJ5LFxuICAgICAgJ3NlY29uZGFyeSc6IGNsYXNzZXMuc2Vjb25kYXJ5LFxuICAgICAgJ2luaGVyaXQnOiBjbGFzc2VzLmNvbG9ySW5oZXJpdFxuICAgIH1bY29sb3JdKSxcbiAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgZm9jdXNSaXBwbGU6ICFkaXNhYmxlRm9jdXNSaXBwbGUsXG4gICAgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMuZm9jdXNWaXNpYmxlLCBmb2N1c1Zpc2libGVDbGFzc05hbWUpLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMubGFiZWxcbiAgfSwgY2hpbGRyZW4pKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRmFiLnByb3BUeXBlcyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgICAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBidXR0b24uXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzXG4gIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi9cbiAgLm5vZGUuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKiBTZWUgW0NTUyBBUEldKCNjc3MpIGJlbG93IGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgY29tcG9uZW50LiBJdCBzdXBwb3J0cyB0aG9zZSB0aGVtZSBjb2xvcnMgdGhhdCBtYWtlIHNlbnNlIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMub25lT2YoWydkZWZhdWx0JywgJ2luaGVyaXQnLCAncHJpbWFyeScsICdzZWNvbmRhcnknXSksXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzXG4gIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi9cbiAgLmVsZW1lbnRUeXBlLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBidXR0b24gd2lsbCBiZSBkaXNhYmxlZC5cbiAgICovXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgIGtleWJvYXJkIGZvY3VzIHJpcHBsZSB3aWxsIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgZGlzYWJsZUZvY3VzUmlwcGxlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgcmlwcGxlIGVmZmVjdCB3aWxsIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgZGlzYWJsZVJpcHBsZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGZvY3VzVmlzaWJsZUNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIFVSTCB0byBsaW5rIHRvIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKiBJZiBkZWZpbmVkLCBhbiBgYWAgZWxlbWVudCB3aWxsIGJlIHVzZWQgYXMgdGhlIHJvb3Qgbm9kZS5cbiAgICovXG4gIGhyZWY6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBidXR0b24uXG4gICAqIGBzbWFsbGAgaXMgZXF1aXZhbGVudCB0byB0aGUgZGVuc2UgYnV0dG9uIHN0eWxpbmcuXG4gICAqL1xuICBzaXplOiBQcm9wVHlwZXMub25lT2YoWydsYXJnZScsICdtZWRpdW0nLCAnc21hbGwnXSksXG5cbiAgLyoqXG4gICAqIFRoZSB2YXJpYW50IHRvIHVzZS5cbiAgICogJ3JvdW5kJyBpcyBkZXByZWNhdGVkLCB1c2UgJ2NpcmN1bGFyJyBpbnN0ZWFkLlxuICAgKi9cbiAgdmFyaWFudDogY2hhaW5Qcm9wVHlwZXMoUHJvcFR5cGVzLm9uZU9mKFsnZXh0ZW5kZWQnLCAnY2lyY3VsYXInLCAncm91bmQnXSksIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIGlmIChwcm9wcy52YXJpYW50ID09PSAncm91bmQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hdGVyaWFsLVVJOiB2YXJpYW50PVwicm91bmRcIiB3YXMgcmVuYW1lZCB2YXJpYW50PVwiY2lyY3VsYXJcIiBmb3IgY29uc2lzdGVuY3kuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0pXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aUZhYidcbn0pKEZhYik7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnpcIlxufSksICdBZGQnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaWNvbl9ibGFjay5zdmc/NTEzNjg3OWEwM2ExM2Y5ZmIxOGYyNDFiMDgxZjM4Y2JcIjsiLCJleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBjYWxsQVBJPFQ+KG1ldGhvZDogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIGJvZHk6IGFueSA9IG51bGwpOiBQcm9taXNlPFQ+IHtcbiAgICBpZiAoX19QUk9EVUNUSU9OX18pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIEhvbWV5LmFwaShtZXRob2QsIHBhdGgsIGJvZHksIChlcnI6IGFueSwgcmVzdWx0OiBhbnkpID0+ICB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgeyByZWplY3QoZXJyKTsgfSBlbHNlIHsgcmVzb2x2ZShyZXN1bHQpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uczogYW55ID0ge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgIH07XG5cbiAgICBpZiAoYm9keSAhPSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuICAgIH1cblxuICAgIC8vIGxvY2FsIGRldmVsb3BtZW50XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7X19IT01FWV9ERVZfVVJMfS9hcGkvYXBwL2FwcC5tc2tnLmhvbWV5LWhlYXRpbmcke3BhdGh9YCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCkgYXMgVDtcbn1cbiIsIlxuaW1wb3J0IHsgbWFwLCBzb3J0QnkgfSBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBJR3JvdXBlZENhbGN1bGF0ZWRUZW1wZXJhdHVyZSwgSUhlYXRpbmdQbGFuLCBJU2NoZWR1bGVJbmZvcm1hdGlvbiwgT3BlcmF0aW9uTW9kZSB9IGZyb20gXCIuLi8uLi8uLi9hcHAvbW9kZWxcIjtcbmltcG9ydCBjYWxsQVBJIGZyb20gXCIuLi9jYWxsQVBJXCI7XG5cbmNvbnN0IGZldGNoUGxhbnMgPSBhc3luYyAoKTogUHJvbWlzZTxJSGVhdGluZ1BsYW5bXT4gPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBjYWxsQVBJPElIZWF0aW5nUGxhbltdPihcIkdFVFwiLCBcIi9wbGFuc1wiKTtcblxuICByZXR1cm4gc29ydEJ5KG1hcChyZXMsIChwbGFuOiBJSGVhdGluZ1BsYW4pID0+IHtcbiAgICBwbGFuLnpvbmVzID0gcGxhbi56b25lcyB8fCBbXTtcbiAgICBwbGFuLmRldmljZXMgPSBwbGFuLmRldmljZXMgfHwgW107XG5cbiAgICByZXR1cm4gcGxhbjtcbiAgfSksIChwKSA9PiBwLm5hbWUpO1xufTtcblxuY29uc3QgdG9nZ2xlUGxhblN0YXRlID0gYXN5bmMgKHBsYW46IElIZWF0aW5nUGxhbik6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICBwbGFuLmVuYWJsZWQgPSAhcGxhbi5lbmFibGVkO1xuICBhd2FpdCB1cGRhdGVQbGFuKHBsYW4pO1xuXG4gIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgdXBkYXRlUGxhbiA9IGFzeW5jIChuZXdQbGFuOiBJSGVhdGluZ1BsYW4pOiBQcm9taXNlPElIZWF0aW5nUGxhbj4gPT4ge1xuICBjb25zdCBwbGFuQ29weSA9IHsuLi5uZXdQbGFufTtcblxuICBpZiAoIXBsYW5Db3B5LnpvbmVzIHx8IHBsYW5Db3B5LnpvbmVzLmxlbmd0aCA9PT0gMCkgeyBwbGFuQ29weS56b25lcyA9IHVuZGVmaW5lZDsgfVxuICBpZiAoIXBsYW5Db3B5LmRldmljZXMgfHwgcGxhbkNvcHkuZGV2aWNlcy5sZW5ndGggPT09IDApIHsgcGxhbkNvcHkuZGV2aWNlcyA9IHVuZGVmaW5lZDsgfVxuXG4gIHJldHVybiBhd2FpdCBjYWxsQVBJPElIZWF0aW5nUGxhbj4oXCJQVVRcIiwgYC9wbGFucy8ke25ld1BsYW4uaWR9YCwgcGxhbkNvcHkpO1xufTtcblxuY29uc3QgcmVtb3ZlUGxhbiA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTxJSGVhdGluZ1BsYW4+ID0+IHtcbiAgcmV0dXJuIGF3YWl0IGNhbGxBUEk8SUhlYXRpbmdQbGFuPihcIkRFTEVURVwiLCBgL3BsYW5zLyR7aWR9YCk7XG59O1xuXG5jb25zdCBmZXRjaFBsYW5CeUlkID0gYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPElIZWF0aW5nUGxhbj4gPT4ge1xuICBjb25zdCBwbGFuID0gYXdhaXQgY2FsbEFQSTxJSGVhdGluZ1BsYW4+KFwiR0VUXCIsIGAvcGxhbnMvJHtpZH1gKTtcbiAgaWYgKHBsYW4gPT0gbnVsbCkgeyB0aHJvdyBuZXcgRXJyb3IoYFBsYW4gJHtpZH0gbm90IGZvdW5kLmApOyB9XG5cbiAgcGxhbi56b25lcyA9IHBsYW4uem9uZXMgfHwgW107XG4gIHBsYW4uZGV2aWNlcyA9IHBsYW4uZGV2aWNlcyB8fCBbXTtcblxuICByZXR1cm4gcGxhbjtcbn07XG5cbmNvbnN0IGZldGNoU2NoZWR1bGUgPSBhc3luYyAoKTogUHJvbWlzZTxJU2NoZWR1bGVJbmZvcm1hdGlvbj4gPT4ge1xuICBjb25zdCBzY2hlZHVsZSA9IGF3YWl0IGNhbGxBUEk8SVNjaGVkdWxlSW5mb3JtYXRpb24+KFwiR0VUXCIsIGAvc2NoZWR1bGVgKTtcbiAgc2NoZWR1bGUudGVtcGVyYXR1cmVzID0gc29ydEJ5KHNjaGVkdWxlLnRlbXBlcmF0dXJlcywgWyhzOiBJR3JvdXBlZENhbGN1bGF0ZWRUZW1wZXJhdHVyZSkgPT4gcy5kZXZpY2UubmFtZV0pO1xuXG4gIHJldHVybiBzY2hlZHVsZTtcbn07XG5cbmNvbnN0IGZldGNoTW9kZSA9IGFzeW5jICgpOiBQcm9taXNlPE9wZXJhdGlvbk1vZGU+ID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgY2FsbEFQSTx7bW9kZTogT3BlcmF0aW9uTW9kZX0+KFwiR0VUXCIsIFwiL21vZGVcIik7XG4gIHJldHVybiByZXMubW9kZTtcbn07XG5cbmNvbnN0IHNldE1vZGUgPSBhc3luYyAobW9kZTogT3BlcmF0aW9uTW9kZSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgcmV0dXJuIGF3YWl0IGNhbGxBUEk8dm9pZD4oXCJQVVRcIiwgYC9tb2RlYCwge21vZGV9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwbGFuQVBJID0ge1xuICBmZXRjaFBsYW5zLFxuICBmZXRjaFBsYW5CeUlkLFxuICBmZXRjaFNjaGVkdWxlLFxuICB1cGRhdGVQbGFuLFxuICByZW1vdmVQbGFuLFxuICB0b2dnbGVQbGFuU3RhdGUsXG59O1xuXG5leHBvcnQgY29uc3QgbW9kZUFQSSA9IHtcbiAgZmV0Y2hNb2RlLFxuICBzZXRNb2RlLFxufTtcbiIsImltcG9ydCBGYWIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0ZhYlwiO1xuaW1wb3J0IHsgU3R5bGVSdWxlc0NhbGxiYWNrLCB3aXRoU3R5bGVzLCBXaXRoU3R5bGVzIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL3N0eWxlc1wiO1xuaW1wb3J0IEFkZEljb24gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9BZGRcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3Qgc3R5bGVzOiBTdHlsZVJ1bGVzQ2FsbGJhY2s8YW55LCBhbnk+ID0gKHRoZW1lKSA9PiAoe1xuICAgIGZhYkJ1dHRvbjoge1xuICAgICAgICB6SW5kZXg6IDEsXG4gICAgICAgIG1hcmdpbjogXCIwIGF1dG9cIixcblxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiIGFzIFwiYWJzb2x1dGVcIixcbiAgICAgICAgYm90dG9tOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICByaWdodDogdGhlbWUuc3BhY2luZygyKSxcbiAgICB9LFxufSk7XG5cbnR5cGUgUHJvcHMgPSBXaXRoU3R5bGVzPHR5cGVvZiBzdHlsZXM+ICYge1xuICAgIG9uQ2xpY2s6ICgpID0+IHZvaWQsXG59O1xuXG5jb25zdCBBZGRGYWJDb21wb25lbnQ6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gcHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8RmFiIGNvbG9yPVwic2Vjb25kYXJ5XCIgYXJpYS1sYWJlbD1cIkFkZFwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5mYWJCdXR0b259IG9uQ2xpY2s9eygpID0+IHByb3BzLm9uQ2xpY2soKX0+XG4gICAgICAgICAgICA8QWRkSWNvbiAvPlxuICAgICAgICA8L0ZhYj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMpKEFkZEZhYkNvbXBvbmVudCk7XG4iLCJpbXBvcnQgQXBwQmFyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9BcHBCYXJcIjtcbmltcG9ydCB7IFN0eWxlUnVsZXNDYWxsYmFjaywgd2l0aFN0eWxlcywgV2l0aFN0eWxlcyB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXNcIjtcbmltcG9ydCBUb29sYmFyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9Ub29sYmFyXCI7XG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeVwiO1xuaW1wb3J0IFJlYWN0LCB7IEZyYWdtZW50LCBSZWFjdENoaWxkIH0gZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IHN0eWxlczogU3R5bGVSdWxlc0NhbGxiYWNrPGFueSwgYW55PiA9IChfdGhlbWUpID0+ICh7XG4gICAgYXBwQmFyOiB7XG4gICAgfSxcblxuICAgIGdyb3c6IHtcbiAgICAgICAgZmxleEdyb3c6IDEsXG4gICAgfSxcblxuICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIgYXMgXCJmbGV4XCIsXG4gICAgfSxcblxuICAgIHRvb2xiYXI6IHtcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgIH0sXG59KTtcblxudHlwZSBOYW1lZFNsb3RzID0ge1xuICAgIHRpdGxlPzogc3RyaW5nLFxuICAgIGJ1dHRvbj86IFJlYWN0Q2hpbGQsXG4gICAgYWN0aW9ucz86IFJlYWN0Q2hpbGQsXG4gICAgc3ViQmFyPzogUmVhY3RDaGlsZCxcbn07XG5cbnR5cGUgUHJvcHMgPSBXaXRoU3R5bGVzPHR5cGVvZiBzdHlsZXM+ICYge1xuICAgIHRpdGxlPzogc3RyaW5nLFxuICAgIGJ1dHRvbj86IFJlYWN0LlJlYWN0RWxlbWVudDxhbnk+LFxuICAgIGNoaWxkcmVuPzogTmFtZWRTbG90cyxcbn07XG5cbmNvbnN0IEFwcEhlYWRlckNvbXBvbmVudDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGJ1dHRvbiwgdGl0bGUsIGFjdGlvbnMsIHN1YkJhciB9ID0gcHJvcHMuY2hpbGRyZW4gfHwge1xuICAgICAgICBidXR0b246IG51bGwsXG4gICAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgICBhY3Rpb25zOiBudWxsLFxuICAgICAgICBzdWJCYXI6IG51bGwsXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICAgIDxBcHBCYXIgcG9zaXRpb249XCJhYnNvbHV0ZVwiIGNvbG9yPVwicHJpbWFyeVwiIGNsYXNzTmFtZT17Y2xhc3Nlcy5hcHBCYXJ9PlxuICAgICAgICAgICAgICAgIDxUb29sYmFyIGNsYXNzTmFtZT17Y2xhc3Nlcy50b29sYmFyfT5cbiAgICAgICAgICAgICAgICAgICAge3Byb3BzLmJ1dHRvbiB8fCBidXR0b259XG5cbiAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImg2XCIgY29sb3I9XCJpbmhlcml0XCIgbm9XcmFwPXt0cnVlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wcy50aXRsZSB8fCB0aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5ncm93fSAvPlxuICAgICAgICAgICAgICAgICAgICB7YWN0aW9ucyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5idXR0b25zfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC9Ub29sYmFyPlxuXG4gICAgICAgICAgICAgICAge3N1YkJhciAhPSBudWxsICYmIHN1YkJhcn1cbiAgICAgICAgICAgIDwvQXBwQmFyPlxuICAgICAgICA8L0ZyYWdtZW50PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoQXBwSGVhZGVyQ29tcG9uZW50KTtcbiIsImltcG9ydCB7IExpc3RJdGVtIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgeyBMaXN0SXRlbVByb3BzIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0xpc3RJdGVtXCI7XG5pbXBvcnQgeyBMb2NhdGlvbkRlc2NyaXB0b3IgfSBmcm9tIFwiaGlzdG9yeVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbnR5cGUgUHJvcHMgPSAge1xuICAgIC8vIExpc3RJdGVtUHJvcHMgYW5kIExpbmtQcm9wcyBib3RoIGRlZmluZSBhbiAnaW5uZXJSZWYnIHByb3BlcnR5IHdoaWNoIGFyZSBpbmNvbXBhdGlibGUuXG5cbiAgICB0bzogTG9jYXRpb25EZXNjcmlwdG9yXG4gICAgcmVwbGFjZT86IGJvb2xlYW4sXG59ICYgTGlzdEl0ZW1Qcm9wcztcblxuZnVuY3Rpb24gY3JlYXRlTGluayh7aW5uZXJSZWYsIC4uLnByb3BzfTogUHJvcHMpIHtcbiAgICAvLyBSZW1vdmUgYGlubmVyUmVmYCBmcm9tIHByb3BlcnRpZXMgYXMgdGhlIGludGVyZmFjZSBpcyBpbmNvbXBhdGlibGUuXG5cbiAgICBpZiAocHJvcHMudG8udG9TdHJpbmcoKS5tYXRjaCgvaHR0cHMvKSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiA8YSBvbkNsaWNrPXsoKSA9PiBIb21leS5vcGVuVVJMKHByb3BzLnRvLnRvU3RyaW5nKCkpfSB7Li4ucHJvcHN9Pntwcm9wcy5jaGlsZHJlbn08L2E+O1xuICAgIH1cblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gPExpbmsgey4uLnByb3BzfSAvPjtcbn1cblxuY29uc3QgTGlzdEl0ZW1MaW5rOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIDxMaXN0SXRlbSB7Li4ucHJvcHN9IGNvbXBvbmVudD17Y3JlYXRlTGluayBhcyB1bmtub3duIGFzIFwiYVwifT5cbiAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPC9MaXN0SXRlbT5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdEl0ZW1MaW5rO1xuIiwiaW1wb3J0IHsgRGl2aWRlciwgSWNvbkJ1dHRvbiwgTGlzdCwgTGlzdEl0ZW1UZXh0LCBTdHlsZVJ1bGVzQ2FsbGJhY2ssIFR5cG9ncmFwaHksIFdpdGhTdHlsZXMsIHdpdGhTdHlsZXMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmVcIjtcbmltcG9ydCBEcmF3ZXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RyYXdlclwiO1xuaW1wb3J0IHsgSWNvbkJ1dHRvblByb3BzIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b25cIjtcbmltcG9ydCBNZW51SWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL01lbnVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJvdXRlQ29tcG9uZW50UHJvcHMsIHdpdGhSb3V0ZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHRyYW5zbGF0ZSBmcm9tIFwiLi4vaTE4bi9UcmFuc2xhdGlvblwiO1xuaW1wb3J0IExpc3RJdGVtTGluayBmcm9tIFwiLi9MaXN0SXRlbUxpbmtcIjtcblxuY29uc3Qgc3R5bGVzOiBTdHlsZVJ1bGVzQ2FsbGJhY2s8YW55LCBhbnk+ID0gKHRoZW1lKSA9PiAoe1xuICAgIHRleHQ6IHtcbiAgICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogMCxcbiAgICB9LFxuXG4gICAgdmVyc2lvbjoge1xuICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBwYWRkaW5nVG9wOiAwLFxuICAgIH0sXG5cbiAgICBub3JtYWw6IHtcbiAgICB9LFxuXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgIH0sXG5cbiAgICBvdGhlckJ1dHRvbjoge1xuXG4gICAgfSxcblxuICAgIGZpcnN0QnV0dG9uOiB7XG4gICAgICAgIG1hcmdpbkxlZnQ6IC0xMixcbiAgICAgICAgLy8gbWFyZ2luUmlnaHQ6IDIwLFxuICAgIH0sXG59KTtcblxudHlwZSBQcm9wcyA9IHtcbiAgICBvcGVuOiBib29sZWFuO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG59ICYgV2l0aFN0eWxlczx0eXBlb2Ygc3R5bGVzPiAmIFJvdXRlQ29tcG9uZW50UHJvcHM7XG5cbmNvbnN0IEFwcE1lbnVCYXNlOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7Y2xhc3Nlc30gPSBwcm9wcztcblxuICAgIGNvbnN0IGVsZW1lbnRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBcImVudHJ5XCIsXG4gICAgICAgICAgICB0bzogXCIvXCIsXG4gICAgICAgICAgICB0ZXh0OiB0cmFuc2xhdGUoXCJtZW51LnBsYW5zXCIpLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0bzogXCIvdGVtcGVyYXR1cmVzXCIsXG4gICAgICAgICAgICB0ZXh0OiB0cmFuc2xhdGUoXCJtZW51LnRlbXBlcmF0dXJlc1wiKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdG86IFwiL3NjaGVkdWxlc1wiLFxuICAgICAgICAgICAgdGV4dDogdHJhbnNsYXRlKFwibWVudS5zY2hlZHVsZXNcIiksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvOiBcIi9zZXR0aW5nc1wiLFxuICAgICAgICAgICAgdGV4dDogdHJhbnNsYXRlKFwibWVudS5zZXR0aW5nc1wiKSxcbiAgICAgICAgfSxcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdHlwZTogXCJEaXZpZGVyXCJcbiAgICAgICAgLy8gfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdG86IFwiaHR0cHM6Ly9ob21leS1oZWF0aW5nLm1za2cuYXBwXCIsXG4gICAgICAgICAgICB0ZXh0OiB0cmFuc2xhdGUoXCJtZW51LmhlbHBcIiksXG4gICAgICAgIH0sXG4gICAgXTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxEcmF3ZXIgb3Blbj17cHJvcHMub3Blbn0gb25DbG9zZT17cHJvcHMub25DbG9zZX0+XG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMudGV4dH0gdmFyaWFudD1cImg1XCIgZ3V0dGVyQm90dG9tPXt0cnVlfT5cbiAgICAgICAgICAgICAgICB7dHJhbnNsYXRlKFwibWVudS50aXRsZVwiKX1cbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNsYXNzTmFtZT17Y2xhc3Nlcy52ZXJzaW9ufSB2YXJpYW50PVwiYm9keTJcIiBjb2xvcj1cInRleHRTZWNvbmRhcnlcIiBndXR0ZXJCb3R0b209e3RydWV9PlxuICAgICAgICAgICAgICAgIFZlcnNpb24ge19fVkVSU0lPTn0gKHtfX0JVSUxEfSlcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cblxuICAgICAgICAgICAgPERpdmlkZXIgLz5cbiAgICAgICAgICAgIDxMaXN0PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLm1hcCgoZSkgPT4gKGUudHlwZSA9PT0gXCJEaXZpZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgPyA8RGl2aWRlciAvPlxuICAgICAgICAgICAgICAgICAgICA6IDxMaXN0SXRlbUxpbmsga2V5PXtlLnRvfSB0bz17ZS50b30gZGlzYWJsZWQ9e3Byb3BzLm1hdGNoLnVybCA9PT0gZS50b30gYnV0dG9uPXt0cnVlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaXN0SXRlbVRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5PXtlLnRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcz17e3ByaW1hcnk6IHByb3BzLm1hdGNoLnVybCAhPT0gZS50byA/IGNsYXNzZXMubm9ybWFsIDogY2xhc3Nlcy5zZWxlY3RlZH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtTGluaz5cbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9MaXN0PlxuICAgICAgICA8L0RyYXdlcj5cbiAgICApO1xufTtcblxudHlwZSBNZW51QnV0dG9uUHJvcHMgPSB7XG4gICAgaWNvbjogUmVhY3QuUmVhY3RFbGVtZW50PGFueT4sXG4gICAgZmlyc3Q/OiBib29sZWFuLFxufSAmIFdpdGhTdHlsZXM8dHlwZW9mIHN0eWxlcz4gJiBJY29uQnV0dG9uUHJvcHM7XG5cbmNvbnN0IE1lbnVCdXR0b25CYXNlOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxNZW51QnV0dG9uUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc2VzLCBmaXJzdCwgaWNvbiwgLi4ub3RoZXJQcm9wcyB9ID0gcHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8SWNvbkJ1dHRvbiBjbGFzc05hbWU9e2ZpcnN0ID8gY2xhc3Nlcy5maXJzdEJ1dHRvbiA6IGNsYXNzZXMub3RoZXJCdXR0b259IGNvbG9yPVwiaW5oZXJpdFwiIHsuLi5vdGhlclByb3BzfT5cbiAgICAgICAgICAgIHtpY29ufVxuICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBBcHBNZW51QnV0dG9uOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudCA9IChfcHJvcHMpID0+IHtcbiAgICBjb25zdCBbb3Blbk1lbnUsIHNldE9wZW5NZW51XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxBcHBNZW51IG9wZW49e29wZW5NZW51fSBvbkNsb3NlPXsoKSA9PiB7IHNldE9wZW5NZW51KGZhbHNlKTsgfX0gLz5cbiAgICAgICAgICAgIDxNZW51QnV0dG9uIGZpcnN0PXt0cnVlfSBvbkNsaWNrPXsoKSA9PiB7IHNldE9wZW5NZW51KHRydWUpOyB9fSBpY29uPXs8TWVudUljb24gLz59IC8+XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbn07XG5cbmNvbnN0IEFwcE1lbnUgPSB3aXRoUm91dGVyKHdpdGhTdHlsZXMoc3R5bGVzKShBcHBNZW51QmFzZSkpO1xuZXhwb3J0IGNvbnN0IE1lbnVCdXR0b24gPSB3aXRoU3R5bGVzKHN0eWxlcykoTWVudUJ1dHRvbkJhc2UpO1xuXG5leHBvcnQgZGVmYXVsdCBBcHBNZW51O1xuIiwiaW1wb3J0IHsgU3R5bGVSdWxlc0NhbGxiYWNrLCBUeXBvZ3JhcGh5LCBXaXRoU3R5bGVzLCB3aXRoU3R5bGVzIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlXCI7XG5pbXBvcnQgQXZhdGFyIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9BdmF0YXJcIjtcbmltcG9ydCBkZWVwT3JhbmdlIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMvZGVlcE9yYW5nZVwiO1xuaW1wb3J0IGJsdWUgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL2NvbG9ycy9saWdodEJsdWVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHRlbXBlcmF0dXJlVG9Db2xvciB9IGZyb20gXCIuL3RlbXBlcmF0dXJlVG9Db2xvclwiO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXZhci1yZXF1aXJlc1xuY29uc3QgSWNvbiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9hc3NldHMvaWNvbl9ibGFjay5zdmdcIik7XG5cbmNvbnN0IEFWQVRBUl9ESU1FTlNJT04gPSAzNTtcbmNvbnN0IHN0eWxlczogU3R5bGVSdWxlc0NhbGxiYWNrPGFueSwgYW55PiA9IChfdGhlbWUpID0+ICh7XG4gICAgcm9vdDoge1xuICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgZmxvYXQ6IFwibGVmdFwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG5cbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG5cbiAgICAgICAgd2lkdGg6IEFWQVRBUl9ESU1FTlNJT04gKyAxMCxcbiAgICAgICAgLy8gaGVpZ2h0OiBBVkFUQVJfRElNRU5TSU9OLFxuICAgICAgICAvLyBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICB9LFxuXG4gICAgYXZhdGFyOiB7XG4gICAgICAgIHdpZHRoOiBBVkFUQVJfRElNRU5TSU9OLFxuICAgICAgICBoZWlnaHQ6IEFWQVRBUl9ESU1FTlNJT04sXG4gICAgICAgIGxpbmVIZWlnaHQ6IEFWQVRBUl9ESU1FTlNJT04sXG5cbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgfSxcblxuICAgIGltZzoge1xuICAgICAgICB3aWR0aDogQVZBVEFSX0RJTUVOU0lPTixcbiAgICAgICAgaGVpZ2h0OiBBVkFUQVJfRElNRU5TSU9OLFxuXG4gICAgICAgIHpJbmRleDogMixcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgIH0sXG5cbiAgICBmaWxsOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcblxuICAgICAgICB3aWR0aDogQVZBVEFSX0RJTUVOU0lPTixcbiAgICAgICAgaGVpZ2h0OiBBVkFUQVJfRElNRU5TSU9OIC0gMixcblxuICAgICAgICB6SW5kZXg6IDEsXG5cbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgYm90dG9tOiAxLFxuICAgIH0sXG5cbiAgICAvLyByb290OiB7XG4gICAgLy8gICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuXG4gICAgLy8gICAgIHdpZHRoOiBoZWlnaHQsXG4gICAgLy8gICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIC8vICAgICBsaW5lSGVpZ2h0OiBoZWlnaHQsXG5cbiAgICAvLyAgICAgekluZGV4OiAyLFxuXG4gICAgLy8gICAgIGZsb2F0OiBcImxlZnRcIixcbiAgICAvLyAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgIC8vICAgICBib3JkZXI6IFwiMXB4IHNvbGlkXCIsXG4gICAgLy8gICAgIGJvcmRlclJhZGl1czogXCIxMDAlXCIsXG4gICAgLy8gICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cbiAgICAvLyAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgLy8gfSxcblxuICAgIC8vIGZpbGw6IHtcbiAgICAvLyAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuXG4gICAgLy8gICAgIHdpZHRoOiBoZWlnaHQsXG4gICAgLy8gICAgIGhlaWdodDogaGVpZ2h0LFxuXG4gICAgLy8gICAgIHpJbmRleDogMSxcbiAgICAvLyAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAvLyAgICAgbGVmdDogMCxcbiAgICAvLyAgICAgYm90dG9tOiAwLFxuICAgIC8vIH1cbn0pO1xuXG50eXBlIEZpbGxlZFByb3BzID0ge1xuICAgIGRpZ2l0cz86IG51bWJlcjtcbiAgICB2YWx1ZTogbnVtYmVyO1xuICAgIGZpbGw6IG51bWJlcjtcbn0gJiBXaXRoU3R5bGVzPHR5cGVvZiBzdHlsZXM+O1xuXG5mdW5jdGlvbiBGaXhlZERpZ2l0cyh2YWx1ZTogbnVtYmVyLCBkaWdpdHM6IG51bWJlcikge1xuICAgIHJldHVybiAoTWF0aC5yb3VuZCh2YWx1ZSAqIE1hdGgucG93KDEwLCBkaWdpdHMpKSAvIE1hdGgucG93KDEwLCBkaWdpdHMpKS50b0ZpeGVkKGRpZ2l0cyk7XG59XG5cbmNvbnN0IEJhc2VGaWxsZWRUZW1wZXJhdHVyZUF2YXRhcjogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8RmlsbGVkUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZSwgY2xhc3NlcywgZmlsbCB9ID0gcHJvcHM7XG4gICAgbGV0IHsgZGlnaXRzIH0gPSBwcm9wcztcblxuICAgIGNvbnN0IGNvbG9yID0gKGZpbGwgPT09IDEwMCA/IGJsdWUgOiBkZWVwT3JhbmdlKVs1MDBdO1xuICAgIGlmIChkaWdpdHMgPT0gbnVsbCkgeyBkaWdpdHMgPSAyOyB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmF2YXRhcn0gPlxuICAgICAgICAgICAgICAgIDxvYmplY3QgY2xhc3NOYW1lPXtjbGFzc2VzLmltZ30gZGF0YT17SWNvbn0gdHlwZT1cImltYWdlL3N2Zyt4bWxcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGhlaWdodDogYGNhbGMoJHtmaWxsfSUgLSA1cHgpYCwgYmFja2dyb3VuZDogY29sb3IgfX0gY2xhc3NOYW1lPXtjbGFzc2VzLmZpbGx9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImJvZHkxXCIgY29sb3I9XCJ0ZXh0U2Vjb25kYXJ5XCIgY29tcG9uZW50PVwiZGl2XCI+e0ZpeGVkRGlnaXRzKHZhbHVlLCBkaWdpdHMpfcKwPC9UeXBvZ3JhcGh5PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxudHlwZSBQcm9wcyA9IHtcbiAgICB2YWx1ZTogbnVtYmVyO1xufTtcblxuY29uc3QgQmFzZVRlbXBlcmF0dXJlQXZhdGFyOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBwcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxBdmF0YXIgc3R5bGU9e3sgcGFkZGluZzogXCIyNXB4XCIsIGJhY2tncm91bmQ6IHRlbXBlcmF0dXJlVG9Db2xvcih2YWx1ZSksIGZvbnRTaXplOiBcIjFlbVwiIH19PntGaXhlZERpZ2l0cyh2YWx1ZSwgMSl9wrA8L0F2YXRhcj5cbiAgICApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHg6IG51bWJlcikge1xuICAgIHJldHVybiAoeCAtIG1pbikgLyAobWF4IC0gbWluKTtcbn1cblxuZXhwb3J0IGNvbnN0IEZpbGxlZFRlbXBlcmF0dXJlQXZhdGFyID0gd2l0aFN0eWxlcyhzdHlsZXMpKEJhc2VGaWxsZWRUZW1wZXJhdHVyZUF2YXRhcik7XG5leHBvcnQgY29uc3QgVGVtcGVyYXR1cmVBdmF0YXIgPSB3aXRoU3R5bGVzKHN0eWxlcykoQmFzZVRlbXBlcmF0dXJlQXZhdGFyKTtcbiIsImltcG9ydCBhbWJlciBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzL2FtYmVyXCI7XG5pbXBvcnQgYmx1ZSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvY29sb3JzL2JsdWVcIjtcbmltcG9ydCBkZWVwT3JhbmdlIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMvZGVlcE9yYW5nZVwiO1xuaW1wb3J0IGdyZWVuIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9jb2xvcnMvZ3JlZW5cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNsb3RUZW1wZXJhdHVyZSh2YWw6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIC8vICAgICAgICAoYi1hKSh4IC0gbWluKVxuICAgIC8vIGYoeCkgPSAtLS0tLS0tLS0tLS0tLSArICBhXG4gICAgLy8gICAgICAgIG1heCAtIG1pblxuICAgIC8vXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoXG4gICAgICAgICgoKGIgLSBhKSAqICh2YWwgLSBtaW4pKSAvXG4gICAgICAgIChtYXggLSBtaW4pKVxuICAgICAgICArIGEsXG4gICAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IHRlbXBlcmF0dXJlVG9Db2xvciA9IChuOiBudW1iZXIpID0+IHtcbiAgICAvLyBwcm9qZWN0IDE2IC4uLiAyNCB0byAyMDAgLi4uIDkwMFxuICAgIGNvbnN0IHNoYWRlID0gTWF0aC5yb3VuZChzbG90VGVtcGVyYXR1cmUoXG4gICAgICAgIE1hdGgubWluKE1hdGgubWF4KDE2LCBuKSwgMjQpLFxuICAgICAgICAxNiwgMjQsXG4gICAgICAgIDEsIDgpICogMTAwICsgMTAwKTtcblxuICAgIGlmIChuIDw9IDE2KSB7XG4gICAgICAgIHJldHVybiBibHVlW3NoYWRlXTtcbiAgICB9XG5cbiAgICBpZiAobiA8PSAxOC41KSB7XG4gICAgICAgIHJldHVybiBncmVlbltzaGFkZV07XG4gICAgfVxuXG4gICAgaWYgKG4gPD0gMjAuNSkge1xuICAgICAgICByZXR1cm4gYW1iZXJbc2hhZGVdO1xuICAgIH1cblxuICAgIHJldHVybiBkZWVwT3JhbmdlW3NoYWRlXTtcbn07XG4iLCJpbXBvcnQgeyBTdHlsZVJ1bGVzQ2FsbGJhY2ssIHdpdGhTdHlsZXMsIFdpdGhTdHlsZXMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzXCI7XG5pbXBvcnQgUmVhY3QsIHsgUmVhY3RDaGlsZCB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBzdHlsZXM6IFN0eWxlUnVsZXNDYWxsYmFjazxhbnksIGFueT4gPSAoX3RoZW1lKSA9PiAoe1xuICAgIHJvb3Q6IHtcbiAgICAgICAgd2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6IFwidG91Y2hcIixcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhGbG93OiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwdndcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZcIixcbiAgICB9LFxuXG4gICAgYm9keToge1xuICAgICAgICBmbGV4IDogXCIxIDAgMTAwJVwiLFxuICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgIG1heFdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgb3ZlcmZsb3dZOiBcInNjcm9sbFwiLFxuICAgIH0sXG59KTtcblxudHlwZSBOYW1lZFNsb3RzID0ge1xuICAgIGhlYWRlcjogUmVhY3RDaGlsZCxcbiAgICBib2R5OiBSZWFjdENoaWxkLFxuICAgIHBhZGRpbmdUb3A6IG51bWJlciB8IHN0cmluZyxcbiAgICBwYWRkaW5nQm90dG9tPzogbnVtYmVyIHwgc3RyaW5nLFxufTtcblxudHlwZSBQcm9wcyA9IFdpdGhTdHlsZXM8dHlwZW9mIHN0eWxlcz4gJiB7XG4gICAgY2hpbGRyZW46IE5hbWVkU2xvdHMsXG59O1xuXG5jb25zdCBQYWdlQ29tcG9uZW50OiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgaGVhZGVyLCBib2R5LCBwYWRkaW5nVG9wLCBwYWRkaW5nQm90dG9tIH0gPSBwcm9wcy5jaGlsZHJlbjtcblxuICAgIGNvbnN0IG5ld1BhZGRpbmcgPSBwYWRkaW5nQm90dG9tIHx8IFwiYXV0b1wiO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMucm9vdH0+XG4gICAgICAgICAgICAgICAge2hlYWRlcn1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5ib2R5fSBzdHlsZT17e3BhZGRpbmdUb3AsIHBhZGRpbmdCb3R0b206IG5ld1BhZGRpbmd9fT5cbiAgICAgICAgICAgICAgICAgICAge2JvZHl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMpKFBhZ2VDb21wb25lbnQpO1xuIiwiaW1wb3J0IHsgQnV0dG9uLCBMaXN0SXRlbVNlY29uZGFyeUFjdGlvbiB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZVwiO1xuaW1wb3J0IERpdmlkZXIgZnJvbSBcIkBtYXRlcmlhbC11aS9jb3JlL0RpdmlkZXJcIjtcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9JY29uQnV0dG9uXCI7XG5pbXBvcnQgTGlzdCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvTGlzdFwiO1xuaW1wb3J0IExpc3RJdGVtIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9MaXN0SXRlbVwiO1xuaW1wb3J0IExpc3RJdGVtVGV4dCBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvTGlzdEl0ZW1UZXh0XCI7XG5pbXBvcnQgeyBTdHlsZVJ1bGVzQ2FsbGJhY2ssIHdpdGhTdHlsZXMsIFdpdGhTdHlsZXMgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzXCI7XG5pbXBvcnQgVGFiIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9UYWJcIjtcbmltcG9ydCBUYWJzIGZyb20gXCJAbWF0ZXJpYWwtdWkvY29yZS9UYWJzXCI7XG5pbXBvcnQgQmFja0ljb24gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9BcnJvd0JhY2tJb3NcIjtcbmltcG9ydCBDYW5jZWxJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvQ2FuY2VsXCI7XG5pbXBvcnQgVHJhc2hJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvRGVsZXRlXCI7XG5pbXBvcnQgQ29weUljb24gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29ucy9GaWxlQ29weVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSb3V0ZUNvbXBvbmVudFByb3BzLCB3aXRoUm91dGVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IFNjcm9sbExvY2t5IH0gZnJvbSBcInJlYWN0LXNjcm9sbC1sb2NreVwiO1xuaW1wb3J0IHsgRGF5LCBJU2V0UG9pbnQgfSBmcm9tIFwiLi4vLi4vYXBwL21vZGVsXCI7XG5pbXBvcnQgQWRkRmFiIGZyb20gXCIuLi9jb21wb25lbnRzL0FkZEZhYlwiO1xuaW1wb3J0IEFwcEhlYWRlciBmcm9tIFwiLi4vY29tcG9uZW50cy9BcHBIZWFkZXJcIjtcbmltcG9ydCB7IE1lbnVCdXR0b24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9NZW51XCI7XG5pbXBvcnQgeyBUZW1wZXJhdHVyZUF2YXRhciB9IGZyb20gXCIuLi9jb21wb25lbnRzL1RlbXBlcmF0dXJlQXZhdGFyXCI7XG5pbXBvcnQgdHJhbnNsYXRlIGZyb20gXCIuLi9pMThuL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGFnZSBmcm9tIFwiLi4vbGF5b3V0cy9QYWdlXCI7XG5pbXBvcnQgeyB1c2VIaXN0b3J5LCB1c2VNb2RpZnlTZXRQb2ludHMsIHVzZVBsYW4gfSBmcm9tIFwiLi4vc3RhdGUvcGxhbkhvb2tzXCI7XG5pbXBvcnQgeyB1c2VQbGFuRGlzcGF0Y2ggfSBmcm9tIFwiLi4vc3RhdGUvUGxhblByb3ZpZGVyXCI7XG5cbmNvbnN0IENvcHlEYXlEaWFsb2cgPSBSZWFjdC5sYXp5KCgpID0+IGltcG9ydChcIi4uL2RpYWxvZ3MvQ29weURheURpYWxvZ1wiKSk7XG5jb25zdCBTZXRQb2ludERpYWxvZyA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KFwiLi4vZGlhbG9ncy9TZXRQb2ludERpYWxvZ1wiKSk7XG5cbmNvbnN0IHN0eWxlczogU3R5bGVSdWxlc0NhbGxiYWNrPGFueSwgYW55PiA9ICh0aGVtZSkgPT4gKHtcbiAgICBsaXN0OiB7XG4gICAgICAgIG1hcmdpblRvcDogMCxcbiAgICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgIH0sXG5cbiAgICB0YWI6IHtcbiAgICAgICAgbWluV2lkdGg6IFwiNTBweFwiLFxuICAgIH0sXG5cbiAgICBhdmF0YXI6IHtcblxuICAgIH0sXG59KTtcblxuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKGk6IG51bWJlcikge1xuICAgIHJldHVybiBpID4gOSA/IGkudG9TdHJpbmcoKSA6IFwiMFwiICsgaTtcbn1cblxuZnVuY3Rpb24gdGFiVG9EYXRlKGRhdGVEYXk6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIGRhdGVEYXkgKyAxID4gNiA/IDAgOiBkYXRlRGF5ICsgMTtcbn1cblxuZnVuY3Rpb24gZGF0ZVRvVGFiKGRhdGVEYXk6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIGRhdGVEYXkgPT09IDAgPyA2IDogZGF0ZURheSAtIDE7XG59XG5cbnR5cGUgSW5kZXhlZFNldFBvaW50ID0ge1xuICAgIGluZGV4OiBudW1iZXIsXG59ICYgSVNldFBvaW50O1xuXG50eXBlIFBhcmFtcyA9IHtcbiAgICBpZDogc3RyaW5nO1xufTtcblxudHlwZSBQcm9wcyA9IFdpdGhTdHlsZXM8dHlwZW9mIHN0eWxlcz4gJiBSb3V0ZUNvbXBvbmVudFByb3BzPFBhcmFtcywge30sIGJvb2xlYW4+O1xuXG5jb25zdCBTY2hlZHVsZVBhZ2U6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PFByb3BzPiA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzZXMsIGxvY2F0aW9uLCBoaXN0b3J5IH0gPSBwcm9wcztcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlUGxhbkRpc3BhdGNoKCk7XG5cbiAgICBjb25zdCBbaXNTZXRQb2ludERpYWxvZ09wZW4sIHNldFNldFBvaW50RGlhbG9nT3Blbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2lzQ29weURheURpYWxvZ09wZW4sIHNldElzQ29weURheURpYWxvZ09wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzZWxlY3RlZFRhYiwgc2V0VGFiXSA9IFJlYWN0LnVzZVN0YXRlKDApO1xuXG4gICAgY29uc3QgeyBwbGFuLCBsb2FkZWQgfSA9IHVzZVBsYW4ocHJvcHMubWF0Y2gucGFyYW1zLmlkKTtcbiAgICBjb25zdCB7IHVuZG8sIGNvbW1pdCB9ID0gdXNlSGlzdG9yeSgpO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2VsZWN0VGFiKDApO1xuXG4gICAgICAgIHNldFNldFBvaW50RGlhbG9nT3BlbihmYWxzZSk7XG4gICAgICAgIHNldElzQ29weURheURpYWxvZ09wZW4oZmFsc2UpO1xuICAgIH0sIFtsb2NhdGlvbiwgbG9hZGVkXSk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGlzRGlydHksIHNldERpcnR5LFxuICAgICAgICBzZWxlY3RlZERheSwgY29weURheXMsIGxvYWRTZXRQb2ludCwgbmV3U2V0UG9pbnQsIHNlbGVjdERheSwgcmVtb3ZlU2V0UG9pbnQ6IHJlbW92ZVNldFBvaW50RnVuYyxcbiAgICB9ID0gdXNlTW9kaWZ5U2V0UG9pbnRzKCk7XG5cbiAgICBjb25zdCBzZWxlY3RUYWIgPSB1c2VDYWxsYmFjaygodGFiKSA9PiB7XG4gICAgICAgIHNldFRhYih0YWIpO1xuICAgICAgICBzZWxlY3REYXkodGFiVG9EYXRlKHRhYikpO1xuICAgIH0sIFtkaXNwYXRjaF0pO1xuXG4gICAgLy8gZGVwZW5kcyBvbiBsb2NhbCB2YXJpYWJsZXNcbiAgICBjb25zdCByZW1vdmVTZXRQb2ludCA9IChpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICByZW1vdmVTZXRQb2ludEZ1bmMoaWR4KTtcbiAgICAgICAgc2VsZWN0VGFiKHNlbGVjdGVkVGFiKTtcbiAgICB9O1xuXG4gICAgLy8gZGVwZW5kcyBvbiBsb2NhbCB2YXJpYWJsZXNcbiAgICBjb25zdCBjb3B5RGF5ID0gKGRheXM6IERheVtdKSA9PiB7XG4gICAgICAgIGNvcHlEYXlzKHRhYlRvRGF0ZShzZWxlY3RlZFRhYiksIGRheXMpO1xuICAgICAgICBzZWxlY3RUYWIoc2VsZWN0ZWRUYWIpO1xuICAgICAgICBzZXRJc0NvcHlEYXlEaWFsb2dPcGVuKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25DYW5jZWxEaWFsb2coKSB7XG4gICAgICAgIHVuZG8oKTtcblxuICAgICAgICBoaXN0b3J5LnJlcGxhY2Uoe1xuICAgICAgICAgICAgcGF0aG5hbWU6IGAvcGxhbnMvJHtwbGFuLmlkfWAsXG4gICAgICAgICAgICBzdGF0ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TYXZlRGlhbG9nKCkge1xuICAgICAgICBjb21taXQoKTtcblxuICAgICAgICBoaXN0b3J5LnJlcGxhY2Uoe1xuICAgICAgICAgICAgcGF0aG5hbWU6IGAvcGxhbnMvJHtwbGFuLmlkfWAsXG4gICAgICAgICAgICBzdGF0ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25FZGl0U2V0UG9pbnQoc3A6IElTZXRQb2ludCwgaW5kZXg6IG51bWJlcikge1xuICAgICAgICBsb2FkU2V0UG9pbnQoeyAuLi5zcCwgaW5kZXggfSk7XG4gICAgICAgIHNldFNldFBvaW50RGlhbG9nT3Blbih0cnVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRTZXRQb2ludCgpIHtcbiAgICAgICAgbmV3U2V0UG9pbnQodGFiVG9EYXRlKHNlbGVjdGVkVGFiKSk7XG4gICAgICAgIHNldFNldFBvaW50RGlhbG9nT3Blbih0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8Q29weURheURpYWxvZ1xuICAgICAgICAgICAgICAgIG9wZW49e2lzQ29weURheURpYWxvZ09wZW59XG4gICAgICAgICAgICAgICAgb25Db25maXJtPXtjb3B5RGF5fVxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7IHNldElzQ29weURheURpYWxvZ09wZW4oZmFsc2UpOyB9fVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPFNldFBvaW50RGlhbG9nXG4gICAgICAgICAgICAgICAgb3Blbj17aXNTZXRQb2ludERpYWxvZ09wZW59XG4gICAgICAgICAgICAgICAgb25DbG9zZT17KGQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZCkgeyBzZXREaXJ0eSh0cnVlKTsgc2VsZWN0VGFiKHNlbGVjdGVkVGFiKTsgfVxuICAgICAgICAgICAgICAgICAgICBzZXRTZXRQb2ludERpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8UGFnZT5cbiAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcHBIZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRyYW5zbGF0ZShcInNjaGVkdWxlLnRpdGxlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51QnV0dG9uIGZpcnN0PXt0cnVlfSBvbkNsaWNrPXtvbkNhbmNlbERpYWxvZ30gaWNvbj17aXNEaXJ0eSA/IDxDYW5jZWxJY29uIC8+IDogPEJhY2tJY29uIC8+fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVCdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRJc0NvcHlEYXlEaWFsb2dPcGVuKHRydWUpOyB9fSBpY29uPXs8Q29weUljb24gLz59IC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNEaXJ0eSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNvbG9yPVwiaW5oZXJpdFwiIG9uQ2xpY2s9e29uU2F2ZURpYWxvZ30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNsYXRlKFwic2NoZWR1bGUuc2F2ZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViQmFyOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFicyB2YWx1ZT17c2VsZWN0ZWRUYWJ9IG9uQ2hhbmdlPXsoX2UsIHYpID0+IHNlbGVjdFRhYih2KX0gdmFyaWFudD1cImZ1bGxXaWR0aFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyByb290OiBwcm9wcy5jbGFzc2VzLnRhYiB9fSBkaXNhYmxlUmlwcGxlPXt0cnVlfSBsYWJlbD17dHJhbnNsYXRlKFwic2NoZWR1bGUuTW9uZGF5XCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyByb290OiBwcm9wcy5jbGFzc2VzLnRhYiB9fSBkaXNhYmxlUmlwcGxlPXt0cnVlfSBsYWJlbD17dHJhbnNsYXRlKFwic2NoZWR1bGUuVHVlc2RheVwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGNsYXNzZXM9e3sgcm9vdDogcHJvcHMuY2xhc3Nlcy50YWIgfX0gZGlzYWJsZVJpcHBsZT17dHJ1ZX0gbGFiZWw9e3RyYW5zbGF0ZShcInNjaGVkdWxlLldlZG5lc2RheVwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiIGNsYXNzZXM9e3sgcm9vdDogcHJvcHMuY2xhc3Nlcy50YWIgfX0gZGlzYWJsZVJpcHBsZT17dHJ1ZX0gbGFiZWw9e3RyYW5zbGF0ZShcInNjaGVkdWxlLlRodXJzZGF5XCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyByb290OiBwcm9wcy5jbGFzc2VzLnRhYiB9fSBkaXNhYmxlUmlwcGxlPXt0cnVlfSBsYWJlbD17dHJhbnNsYXRlKFwic2NoZWR1bGUuRnJpZGF5XCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWIgY2xhc3Nlcz17eyByb290OiBwcm9wcy5jbGFzc2VzLnRhYiB9fSBkaXNhYmxlUmlwcGxlPXt0cnVlfSBsYWJlbD17dHJhbnNsYXRlKFwic2NoZWR1bGUuU2F0dXJkYXlcIil9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYiBjbGFzc2VzPXt7IHJvb3Q6IHByb3BzLmNsYXNzZXMudGFiIH19IGRpc2FibGVSaXBwbGU9e3RydWV9IGxhYmVsPXt0cmFuc2xhdGUoXCJzY2hlZHVsZS5TdW5kYXlcIil9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYnM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQXBwSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDYwLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNjcm9sbExvY2t5IGVuYWJsZWQ9e2lzU2V0UG9pbnREaWFsb2dPcGVuIHx8IGlzQ29weURheURpYWxvZ09wZW59IGlzb2xhdGlvbj17ZmFsc2V9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdCBjbGFzc05hbWU9e2NsYXNzZXMubGlzdH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREYXkubGFzdCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9XCItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW0gYnV0dG9uPXt0cnVlfSBvbkNsaWNrPXsoKSA9PiBzZWxlY3RUYWIoZGF0ZVRvVGFiKChzZWxlY3RlZERheS5sYXN0ICYmIHNlbGVjdGVkRGF5Lmxhc3QuZGF5KSB8fCAwKSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRlbXBlcmF0dXJlQXZhdGFyIHZhbHVlPXtzZWxlY3RlZERheS5sYXN0LnRhcmdldFRlbXBlcmF0dXJlfSAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1UZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeT17YCR7RGF5W3NlbGVjdGVkRGF5Lmxhc3QuZGF5XX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeT17YCR7Zm9ybWF0TnVtYmVyKHNlbGVjdGVkRGF5Lmxhc3QuaG91cil9OiR7Zm9ybWF0TnVtYmVyKHNlbGVjdGVkRGF5Lmxhc3QubWludXRlKX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaXN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpdmlkZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF5LnNjaGVkdWxlcy5tYXAoKHNjaGVkdWxlOiBJbmRleGVkU2V0UG9pbnQpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e3NjaGVkdWxlLmluZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaXN0SXRlbSBidXR0b249e3RydWV9IG9uQ2xpY2s9eygpID0+IG9uRWRpdFNldFBvaW50KHNjaGVkdWxlLCBzY2hlZHVsZS5pbmRleCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZW1wZXJhdHVyZUF2YXRhciB2YWx1ZT17c2NoZWR1bGUudGFyZ2V0VGVtcGVyYXR1cmV9IC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1UZXh0IHByaW1hcnk9e2Ake2Zvcm1hdE51bWJlcihzY2hlZHVsZS5ob3VyKX06JHtmb3JtYXROdW1iZXIoc2NoZWR1bGUubWludXRlKX1gfSAvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpc3RJdGVtU2Vjb25kYXJ5QWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzZXMubWVudUJ1dHRvbn0gb25DbGljaz17KCkgPT4gcmVtb3ZlU2V0UG9pbnQoc2NoZWR1bGUuaW5kZXgpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaEljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGlzdEl0ZW1TZWNvbmRhcnlBY3Rpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpc3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpdmlkZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TY3JvbGxMb2NreT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBZGRGYWIgb25DbGljaz17YWRkU2V0UG9pbnR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA8L1BhZ2U+XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIod2l0aFN0eWxlcyhzdHlsZXMpKFNjaGVkdWxlUGFnZSkpO1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIHV1aWR2MSBmcm9tIFwidXVpZC92MVwiO1xuaW1wb3J0IHsgT3ZlcnJpZGVNb2RlIH0gZnJvbSBcIi4uLy4uL2FwcC9tb2RlbFwiO1xuaW1wb3J0IHsgcGxhbkFQSSB9IGZyb20gXCIuLi9hcGkvaGVhdGluZ1wiO1xuaW1wb3J0IHsgdXNlUGxhbkRpc3BhdGNoLCB1c2VQbGFuR2xvYmFsU3RhdGUgfSBmcm9tIFwiLi9QbGFuUHJvdmlkZXJcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUhpc3RvcnkgPSAoKSA9PiB7XG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VQbGFuRGlzcGF0Y2goKTtcbiAgICBjb25zdCBsb2FkZWQgPSB1c2VQbGFuR2xvYmFsU3RhdGUoXCJsb2FkZWRcIik7XG5cbiAgICBjb25zdCBzYXZlUG9pbnQgPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwic2F2ZVBvaW50XCIgfSksIFtkaXNwYXRjaF0pO1xuICAgIGNvbnN0IHVuZG8gPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwidW5kb1wiIH0pLCBbZGlzcGF0Y2hdKTtcbiAgICBjb25zdCBjb21taXQgPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiY29tbWl0XCIgfSksIFtkaXNwYXRjaF0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2F2ZVBvaW50KCk7XG4gICAgfSwgW2xvYWRlZF0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2F2ZVBvaW50LCB1bmRvLCBjb21taXQsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VNb2RpZnlQbGFuID0gKCkgPT4ge1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlUGxhbkRpc3BhdGNoKCk7XG5cbiAgICBjb25zdCBzZXROYW1lID0gdXNlQ2FsbGJhY2soKGV2dCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInNldE5hbWVcIiwgbmFtZTogZXZ0LnRhcmdldC52YWx1ZSB9KSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3Qgc2V0RGVzY3JpcHRpb24gPSB1c2VDYWxsYmFjaygoZXZ0KSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwic2V0RGVzY3JpcHRpb25cIiwgZGVzY3JpcHRpb246IGV2dC50YXJnZXQudmFsdWUgfSksIFtkaXNwYXRjaF0pO1xuXG4gICAgY29uc3QgdG9nZ2xlU3RhdGUgPSB1c2VDYWxsYmFjaygoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwidG9nZ2xlRW5hYmxlZFwiIH0pLCBbZGlzcGF0Y2hdKTtcbiAgICBjb25zdCB0b2dnbGVab25lID0gdXNlQ2FsbGJhY2soKGlkKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwidG9nZ2xlWm9uZVwiLCB6b25lOiBpZCB9KSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3QgdG9nZ2xlRGV2aWNlID0gdXNlQ2FsbGJhY2soKGlkKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwidG9nZ2xlRGV2aWNlXCIsIGRldmljZTogaWQgfSksIFtkaXNwYXRjaF0pO1xuXG4gICAgcmV0dXJuIHsgc2V0TmFtZSwgc2V0RGVzY3JpcHRpb24sIHRvZ2dsZVN0YXRlLCB0b2dnbGVab25lLCB0b2dnbGVEZXZpY2UgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VNb2RpZnlFeGNlcHRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlUGxhbkRpc3BhdGNoKCk7XG4gICAgY29uc3QgW2lzRGlydHksIHNldERpcnR5XSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAgIGNvbnN0IHNldE92ZXJyaWRlID0gdXNlQ2FsbGJhY2soKG1vZGUsIHRlbXApID0+IHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcInNldE92ZXJyaWRlXCIsIG1vZGUsIHRlbXBlcmF0dXJlOiB0ZW1wIH0pO1xuICAgICAgICBzZXREaXJ0eSh0cnVlKTtcbiAgICB9LCBbZGlzcGF0Y2hdKTtcblxuICAgIGNvbnN0IGNsZWFyT3ZlcnJpZGUgPSB1c2VDYWxsYmFjaygobW9kZSkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiY2xlYXJPdmVycmlkZVwiLCBtb2RlIH0pO1xuICAgICAgICBzZXREaXJ0eSh0cnVlKTtcbiAgICB9LCBbZGlzcGF0Y2hdKTtcblxuICAgIGNvbnN0IHVwZGF0ZU92ZXJyaWRlID0gdXNlQ2FsbGJhY2soKG1vZGU6IE92ZXJyaWRlTW9kZSwgdGFyZ2V0OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gMCkgeyBjbGVhck92ZXJyaWRlKG1vZGUpOyB9IGVsc2UgeyBzZXRPdmVycmlkZShtb2RlLCB0YXJnZXQpOyB9XG4gICAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXREaXJ0eShmYWxzZSk7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIHsgaXNEaXJ0eSwgc2V0T3ZlcnJpZGUsIGNsZWFyT3ZlcnJpZGUsIHVwZGF0ZU92ZXJyaWRlIH07XG59O1xuXG5leHBvcnQgY29uc3QgdXNlTW9kaWZ5U2V0UG9pbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IFtpc0RpcnR5LCBzZXREaXJ0eV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZVBsYW5EaXNwYXRjaCgpO1xuXG4gICAgY29uc3Qgc2VsZWN0RGF5ID0gdXNlQ2FsbGJhY2soKGRheSkgPT4geyBkaXNwYXRjaCh7IHR5cGU6IFwic2VsZWN0RGF5XCIsIGRheSB9KTsgfSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3Qgc2VsZWN0ZWREYXkgPSB1c2VQbGFuR2xvYmFsU3RhdGUoXCJzZWxlY3RlZERheVwiKTtcbiAgICBjb25zdCBzZXRQb2ludCA9IHVzZVBsYW5HbG9iYWxTdGF0ZShcInNldFBvaW50XCIpO1xuXG4gICAgY29uc3QgY29weURheXMgPSB1c2VDYWxsYmFjaygoc291cmNlLCBkYXlzKSA9PiB7XG4gICAgICAgIGlmIChkYXlzICE9IG51bGwgJiYgZGF5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXREaXJ0eSh0cnVlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJjb3B5RGF5c1wiLCBzb3VyY2UsIHRhcmdldHM6IGRheXMgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbZGlzcGF0Y2hdKTtcblxuICAgIGNvbnN0IHJlbW92ZVNldFBvaW50ID0gdXNlQ2FsbGJhY2soKGlkeCkgPT4geyBzZXREaXJ0eSh0cnVlKTsgZGlzcGF0Y2goeyB0eXBlOiBcInJlbW92ZVNldFBvaW50XCIsIGluZGV4OiBpZHggfSk7IH0sIFtkaXNwYXRjaF0pO1xuXG4gICAgY29uc3QgbG9hZFNldFBvaW50ID0gdXNlQ2FsbGJhY2soKHBvaW50KSA9PiB7IGRpc3BhdGNoKHsgdHlwZTogXCJsb2FkU2V0UG9pbnRcIiwgc2V0UG9pbnQ6IHBvaW50IH0pOyB9LCBbZGlzcGF0Y2hdKTtcbiAgICBjb25zdCBuZXdTZXRQb2ludCA9IHVzZUNhbGxiYWNrKChkYXkpID0+IHsgZGlzcGF0Y2goeyB0eXBlOiBcIm5ld1NldFBvaW50XCIsIGRheSB9KTsgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgICBjb25zdCBzYXZlU2V0UG9pbnQgPSB1c2VDYWxsYmFjaygocykgPT4ge1xuICAgICAgICBpZiAocy5pbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJhZGRTZXRQb2ludFwiLCBzZXRQb2ludDogcyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJ1cGRhdGVTZXRQb2ludFwiLCBzZXRQb2ludDogcyB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtkaXNwYXRjaF0pO1xuXG4gICAgY29uc3Qgc2V0U3RhcnQgPSB1c2VDYWxsYmFjaygoZGF0ZTogRGF0ZSB8IHN0cmluZykgPT4gZGlzcGF0Y2goeyB0eXBlOiBcInNldFN0YXJ0XCIsIHN0YXJ0OiBkYXRlIH0pLCBbZGlzcGF0Y2hdKTtcbiAgICBjb25zdCBzZXRUYXJnZXRUZW1wZXJhdHVyZSA9IHVzZUNhbGxiYWNrKChldnQpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJzZXRUYXJnZXRUZW1wZXJhdHVyZVwiLCB0ZW1wZXJhdHVyZTogcGFyc2VGbG9hdChldnQudGFyZ2V0LnZhbHVlKSB9KSwgW2Rpc3BhdGNoXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXREaXJ0eShmYWxzZSk7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIHsgc2V0RGlydHksIGlzRGlydHksIHNlbGVjdGVkRGF5LCBzZXRQb2ludCwgY29weURheXMsIHJlbW92ZVNldFBvaW50LCBsb2FkU2V0UG9pbnQsIG5ld1NldFBvaW50LCBzZWxlY3REYXksIHNhdmVTZXRQb2ludCwgc2V0U3RhcnQsIHNldFRhcmdldFRlbXBlcmF0dXJlIH07XG59O1xuXG5sZXQgY2FjaGVkUGxhbiA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IHVzZVBsYW4gPSAoaWQ6IHN0cmluZywga2VlcDogYm9vbGVhbiA9IHRydWUpID0+IHtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZVBsYW5EaXNwYXRjaCgpO1xuXG4gICAgY29uc3QgcGxhbiA9IHVzZVBsYW5HbG9iYWxTdGF0ZShcInBsYW5cIik7XG4gICAgY29uc3QgbG9hZGVkID0gdXNlUGxhbkdsb2JhbFN0YXRlKFwibG9hZGVkXCIpO1xuICAgIGNvbnN0IGlzRGlydHkgPSB1c2VQbGFuR2xvYmFsU3RhdGUoXCJkaXJ0eVwiKTtcblxuICAgIGlmICghbG9hZGVkIHx8ICFrZWVwKSB7XG4gICAgICAgIGlmICgoaWQgPT0gbnVsbCB8fCBpZCA9PT0gXCJuZXdcIikgJiYgIWNhY2hlZFBsYW4pIHtcbiAgICAgICAgICAgIGNhY2hlZFBsYW4gPSB0cnVlO1xuICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibG9hZFBsYW5cIiwgcGxhbjoge1xuICAgICAgICAgICAgICAgICAgICBpZDogdXVpZHYxKCksXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICB6b25lczogW10sXG4gICAgICAgICAgICAgICAgICAgIGRldmljZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZTogW10sXG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghY2FjaGVkUGxhbikge1xuICAgICAgICAgICAgICAgIHRocm93IHBsYW5BUEkuZmV0Y2hQbGFuQnlJZChpZCkudGhlbigocCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZWRQbGFuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcImxvYWRQbGFuXCIsIHBsYW46IHAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2FjaGVkUGxhbiA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgIH0sIFtpZCwga2VlcF0pO1xuXG4gICAgcmV0dXJuIHsgcGxhbiwgaXNEaXJ0eSwgbG9hZGVkIH07XG59O1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsInN0eWxlcyIsInRoZW1lIiwicm9vdCIsInR5cG9ncmFwaHkiLCJidXR0b24iLCJib3hTaXppbmciLCJtaW5IZWlnaHQiLCJ0cmFuc2l0aW9uIiwidHJhbnNpdGlvbnMiLCJjcmVhdGUiLCJkdXJhdGlvbiIsInNob3J0IiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyIsIm1pbldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJib3hTaGFkb3ciLCJzaGFkb3dzIiwiY29sb3IiLCJwYWxldHRlIiwiZ2V0Q29udHJhc3RUZXh0IiwiZ3JleSIsImJhY2tncm91bmRDb2xvciIsImFjdGlvbiIsImRpc2FibGVkQmFja2dyb3VuZCIsInRleHREZWNvcmF0aW9uIiwiZGlzYWJsZWQiLCJsYWJlbCIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJwcmltYXJ5IiwiY29udHJhc3RUZXh0IiwibWFpbiIsImRhcmsiLCJzZWNvbmRhcnkiLCJleHRlbmRlZCIsImZvY3VzVmlzaWJsZSIsImNvbG9ySW5oZXJpdCIsInNpemVTbWFsbCIsInNpemVNZWRpdW0iLCJGYWIiLCJwcm9wcyIsInJlZiIsImNoaWxkcmVuIiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsIl9wcm9wcyRjb2xvciIsIl9wcm9wcyRjb21wb25lbnQiLCJjb21wb25lbnQiLCJfcHJvcHMkZGlzYWJsZWQiLCJfcHJvcHMkZGlzYWJsZUZvY3VzUmkiLCJkaXNhYmxlRm9jdXNSaXBwbGUiLCJmb2N1c1Zpc2libGVDbGFzc05hbWUiLCJfcHJvcHMkc2l6ZSIsInNpemUiLCJfcHJvcHMkdmFyaWFudCIsInZhcmlhbnQiLCJvdGhlciIsImNvbmNhdCIsImZvY3VzUmlwcGxlIiwicHJvcFR5cGVzIiwiZGlzYWJsZVJpcHBsZSIsImhyZWYiLCJFcnJvciIsIm5hbWUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJSZWFjdCIsIl9kZWZhdWx0IiwiZGVmYXVsdCIsImNyZWF0ZUVsZW1lbnQiLCJkIiwibW9kdWxlIiwiY2FsbEFQSSIsIm1ldGhvZCIsInBhdGgiLCJib2R5Iiwib3B0aW9ucyIsImhlYWRlcnMiLCJjYWNoZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXMiLCJmZXRjaCIsImpzb24iLCJ1cGRhdGVQbGFuIiwibmV3UGxhbiIsInBsYW5Db3B5Iiwiem9uZXMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJkZXZpY2VzIiwiaWQiLCJwbGFuQVBJIiwiZmV0Y2hQbGFucyIsInNvcnRCeSIsIm1hcCIsInBsYW4iLCJwIiwiZmV0Y2hQbGFuQnlJZCIsImZldGNoU2NoZWR1bGUiLCJzY2hlZHVsZSIsInRlbXBlcmF0dXJlcyIsInMiLCJkZXZpY2UiLCJyZW1vdmVQbGFuIiwidG9nZ2xlUGxhblN0YXRlIiwiZW5hYmxlZCIsIm1vZGVBUEkiLCJmZXRjaE1vZGUiLCJtb2RlIiwic2V0TW9kZSIsImZhYkJ1dHRvbiIsInpJbmRleCIsIm1hcmdpbiIsInBvc2l0aW9uIiwiYm90dG9tIiwic3BhY2luZyIsInJpZ2h0Iiwib25DbGljayIsIl90aGVtZSIsImFwcEJhciIsImdyb3ciLCJmbGV4R3JvdyIsImJ1dHRvbnMiLCJ0b29sYmFyIiwidGl0bGUiLCJhY3Rpb25zIiwic3ViQmFyIiwiRnJhZ21lbnQiLCJub1dyYXAiLCJjcmVhdGVMaW5rIiwiaW5uZXJSZWYiLCJ0byIsInRvU3RyaW5nIiwibWF0Y2giLCJIb21leSIsIm9wZW5VUkwiLCJMaW5rIiwidGV4dCIsInBhZGRpbmdCb3R0b20iLCJ2ZXJzaW9uIiwicGFkZGluZ1RvcCIsIm5vcm1hbCIsInNlbGVjdGVkIiwib3RoZXJCdXR0b24iLCJmaXJzdEJ1dHRvbiIsIm1hcmdpbkxlZnQiLCJBcHBNZW51QnV0dG9uIiwiX3Byb3BzIiwib3Blbk1lbnUiLCJzZXRPcGVuTWVudSIsIkFwcE1lbnUiLCJvcGVuIiwib25DbG9zZSIsIk1lbnVCdXR0b24iLCJmaXJzdCIsImljb24iLCJ3aXRoUm91dGVyIiwiZWxlbWVudHMiLCJ0eXBlIiwiZ3V0dGVyQm90dG9tIiwiZSIsImtleSIsInVybCIsIm90aGVyUHJvcHMiLCJJY29uIiwiQVZBVEFSX0RJTUVOU0lPTiIsImZvbnRTaXplIiwiZmxvYXQiLCJ0ZXh0QWxpZ24iLCJmbGV4RGlyZWN0aW9uIiwiYXZhdGFyIiwibGluZUhlaWdodCIsIm92ZXJmbG93IiwiaW1nIiwibGVmdCIsImZpbGwiLCJGaXhlZERpZ2l0cyIsImRpZ2l0cyIsIk1hdGgiLCJyb3VuZCIsInBvdyIsInRvRml4ZWQiLCJub3JtYWxpemUiLCJtaW4iLCJtYXgiLCJ4IiwiRmlsbGVkVGVtcGVyYXR1cmVBdmF0YXIiLCJkYXRhIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiVGVtcGVyYXR1cmVBdmF0YXIiLCJ0ZW1wZXJhdHVyZVRvQ29sb3IiLCJzbG90VGVtcGVyYXR1cmUiLCJ2YWwiLCJhIiwiYiIsImZsb29yIiwibiIsInNoYWRlIiwid2Via2l0T3ZlcmZsb3dTY3JvbGxpbmciLCJmbGV4RmxvdyIsImZsZXgiLCJtYXhXaWR0aCIsIm92ZXJmbG93WSIsImhlYWRlciIsIm5ld1BhZGRpbmciLCJDb3B5RGF5RGlhbG9nIiwiU2V0UG9pbnREaWFsb2ciLCJmb3JtYXROdW1iZXIiLCJpIiwidGFiVG9EYXRlIiwiZGF0ZURheSIsImxpc3QiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJ0YWIiLCJsb2NhdGlvbiIsImhpc3RvcnkiLCJkaXNwYXRjaCIsInVzZVBsYW5EaXNwYXRjaCIsImlzU2V0UG9pbnREaWFsb2dPcGVuIiwic2V0U2V0UG9pbnREaWFsb2dPcGVuIiwiaXNDb3B5RGF5RGlhbG9nT3BlbiIsInNldElzQ29weURheURpYWxvZ09wZW4iLCJzZWxlY3RlZFRhYiIsInNldFRhYiIsImxvYWRlZCIsInVzZVBsYW4iLCJwYXJhbXMiLCJ1bmRvIiwiY29tbWl0IiwidXNlSGlzdG9yeSIsInNlbGVjdFRhYiIsImlzRGlydHkiLCJzZXREaXJ0eSIsInNlbGVjdGVkRGF5IiwiY29weURheXMiLCJsb2FkU2V0UG9pbnQiLCJuZXdTZXRQb2ludCIsInNlbGVjdERheSIsInJlbW92ZVNldFBvaW50IiwicmVtb3ZlU2V0UG9pbnRGdW5jIiwidXNlTW9kaWZ5U2V0UG9pbnRzIiwidXNlQ2FsbGJhY2siLCJvbkNvbmZpcm0iLCJkYXlzIiwib25DYW5jZWwiLCJyZXBsYWNlIiwicGF0aG5hbWUiLCJzdGF0ZSIsIm9uQ2hhbmdlIiwiX2UiLCJ2IiwiU2Nyb2xsTG9ja3kiLCJpc29sYXRpb24iLCJsYXN0IiwiZGF5IiwidGFyZ2V0VGVtcGVyYXR1cmUiLCJEYXkiLCJob3VyIiwibWludXRlIiwic2NoZWR1bGVzIiwiaW5kZXgiLCJvbkVkaXRTZXRQb2ludCIsInNwIiwibWVudUJ1dHRvbiIsImlkeCIsInVzZVBsYW5HbG9iYWxTdGF0ZSIsInNhdmVQb2ludCIsInVzZUVmZmVjdCIsInVzZU1vZGlmeVBsYW4iLCJzZXROYW1lIiwiZXZ0IiwidGFyZ2V0Iiwic2V0RGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInRvZ2dsZVN0YXRlIiwidG9nZ2xlWm9uZSIsInpvbmUiLCJ0b2dnbGVEZXZpY2UiLCJ1c2VNb2RpZnlFeGNlcHRpb25zIiwidXNlU3RhdGUiLCJzZXRPdmVycmlkZSIsInRlbXAiLCJ0ZW1wZXJhdHVyZSIsImNsZWFyT3ZlcnJpZGUiLCJ1cGRhdGVPdmVycmlkZSIsInNldFBvaW50Iiwic291cmNlIiwidGFyZ2V0cyIsInBvaW50Iiwic2F2ZVNldFBvaW50Iiwic2V0U3RhcnQiLCJkYXRlIiwic3RhcnQiLCJzZXRUYXJnZXRUZW1wZXJhdHVyZSIsInBhcnNlRmxvYXQiLCJjYWNoZWRQbGFuIiwia2VlcCIsInRoZW4iLCJvdmVycmlkZXMiXSwic291cmNlUm9vdCI6IiJ9