{"version":3,"file":"577.js","mappings":"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","sources":["webpack:///./api/callAPI.tsx","webpack:///./api/devices/index.tsx","webpack:///./api/heating/index.tsx","webpack:///./api/suspendableState.tsx","webpack:///./api/hooks.tsx","webpack:///./api/settings/index.tsx","webpack:///./api/zones/index.tsx","webpack:///./components/AppHeader.tsx","webpack:///./components/BodyText.tsx","webpack:///./components/FormTextField.tsx","webpack:///./components/InputContainer.tsx","webpack:///./components/ListItemLink.tsx","webpack:///./components/Menu.tsx","webpack:///./components/SubHeader.tsx","webpack:///./layouts/Page.tsx","webpack:///./pages/settings.tsx"],"sourcesContent":["export default async function callAPI<T>(method: string, path: string, body: any = null): Promise<T> {\n    if (__PRODUCTION__) {\n        return await new Promise<T>((resolve, reject) => {\n            Homey.api(method, path, body, (err: any, result: any) =>  {\n                if (err) { reject(err); } else { resolve(result); }\n            });\n        });\n    }\n\n    const options: any = {\n        method,\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        cache: \"no-store\",\n    };\n\n    if (body != null) {\n        options.body = JSON.stringify(body);\n    }\n\n    // local development\n    const res = await fetch(`${__HOMEY_DEV_URL}/api/app/app.mskg.homey-heating${path}`, options);\n    return await res.json() as T;\n}\n","\nimport { sortBy } from \"lodash\";\nimport { IHeatingDevice } from \"../../../app/model\";\nimport callAPI from \"../callAPI\";\n\nexport type HashType = {\n  [key: string]: IHeatingDevice;\n} & ArrayLike<IHeatingDevice>;\n\n// Homey.api( String method, String path, Mixed body, Function callback )\nconst fetchHeatingDevices = async (): Promise<HashType> => {\n  const devices = await callAPI<any[]>(\"GET\", \"/devices\");\n\n  const result = sortBy(devices, \"name\").reduce((map, obj, idx) => {\n    map[idx] = obj;\n    map[obj.id] = obj;\n    return map;\n  }, {});\n  result.length = devices.length;\n\n  return result;\n};\n\nexport const deviceAPI = {\n  fetchHeatingDevices,\n};\n","\nimport { map, sortBy } from \"lodash\";\nimport { IGroupedCalculatedTemperature, IHeatingPlan, IScheduleInformation, OperationMode } from \"../../../app/model\";\nimport callAPI from \"../callAPI\";\n\nconst fetchPlans = async (): Promise<IHeatingPlan[]> => {\n  const res = await callAPI<IHeatingPlan[]>(\"GET\", \"/plans\");\n\n  return sortBy(map(res, (plan: IHeatingPlan) => {\n    plan.zones = plan.zones || [];\n    plan.devices = plan.devices || [];\n\n    return plan;\n  }), (p) => p.name);\n};\n\nconst togglePlanState = async (plan: IHeatingPlan): Promise<boolean> => {\n  plan.enabled = !plan.enabled;\n  await updatePlan(plan);\n\n  return true;\n};\n\nconst updatePlan = async (newPlan: IHeatingPlan): Promise<IHeatingPlan> => {\n  const planCopy = {...newPlan};\n\n  if (!planCopy.zones || planCopy.zones.length === 0) { planCopy.zones = undefined; }\n  if (!planCopy.devices || planCopy.devices.length === 0) { planCopy.devices = undefined; }\n\n  return await callAPI<IHeatingPlan>(\"PUT\", `/plans/${newPlan.id}`, planCopy);\n};\n\nconst removePlan = async (id: string): Promise<IHeatingPlan> => {\n  return await callAPI<IHeatingPlan>(\"DELETE\", `/plans/${id}`);\n};\n\nconst fetchPlanById = async (id: string): Promise<IHeatingPlan> => {\n  const plan = await callAPI<IHeatingPlan>(\"GET\", `/plans/${id}`);\n  if (plan == null) { throw new Error(`Plan ${id} not found.`); }\n\n  plan.zones = plan.zones || [];\n  plan.devices = plan.devices || [];\n\n  return plan;\n};\n\nconst fetchSchedule = async (): Promise<IScheduleInformation> => {\n  const schedule = await callAPI<IScheduleInformation>(\"GET\", `/schedule`);\n  schedule.temperatures = sortBy(schedule.temperatures, [(s: IGroupedCalculatedTemperature) => s.device.name]);\n\n  return schedule;\n};\n\nconst fetchMode = async (): Promise<OperationMode> => {\n  const res = await callAPI<{mode: OperationMode}>(\"GET\", \"/mode\");\n  return res.mode;\n};\n\nconst setMode = async (mode: OperationMode): Promise<void> => {\n   return await callAPI<void>(\"PUT\", `/mode`, {mode});\n};\n\nexport const planAPI = {\n  fetchPlans,\n  fetchPlanById,\n  fetchSchedule,\n  updatePlan,\n  removePlan,\n  togglePlanState,\n};\n\nexport const modeAPI = {\n  fetchMode,\n  setMode,\n};\n","import React, { Dispatch, SetStateAction, useEffect } from \"react\";\n\nexport type MapType = {[key: string]: any};\n\nexport type HookSetType<T> = Dispatch<SetStateAction<T>>;\nexport type HookReturnType = () => void;\nexport type ProvideState<T extends MapType> = (provideState?: boolean, provideFailed?: boolean) => T;\n\ntype Async<T> = () => Promise<T>;\n\n/***\n * Call the apiMethod asynchronously.\n *\n * If the method fails, throw the exception inside set SetStateAction of the hook.\n * This allows to catch the error \"in the ErrorBoundary.\"\n */\nasync function tryMethod<T>(apiMethod: () => Promise<T>, setStateAction: Dispatch<SetStateAction<T>>): Promise<void> {\n    try {\n        setStateAction(await apiMethod());\n    } catch (e) {\n        // required for the error to popup the hierarchy\n        setStateAction(() => { throw e; });\n    }\n}\n\nconst cache = new Map<string, any>();\nconst LOADING: any = \"Loading...\";\n\n/**\n * Create a \"hook\" that is able to suspend.\n *\n * @param name Must be unique\n * @param method The async method to wait for\n */\nexport function useSuspendableState<T extends MapType>(name: string, method: Async<any>): ProvideState<T> {\n    return (provideState = false, provideFailed = false) => {\n        // this is imporant as it sets the state after the promise resolves\n        const val = cache.get(name);\n        let [state, setState] = [null, null];\n        if (provideState) {\n            // we use instance compare on LOADING to determine non existing value\n            // @ts-ignore\n            [state, setState] = React.useState<any>(val !== LOADING ? val : null);\n        }\n\n        const [failed, setFailed] = React.useState(false);\n\n        function loadValue(force: boolean = false) {\n            if (cache.get(name) == null || force) {\n                cache.set(name, LOADING);\n\n                // this unloads the component and waits for the promise to resolve\n                throw tryMethod(method, (r) => {\n                    if (typeof r === \"function\") {\n                        cache.set(name, (r as any)(cache.get(name)));\n                    } else {\n                        cache.set(name, r);\n                    }\n                }).catch((e) => {\n                    if (!provideFailed) {\n                        // console.error(e);\n                        // check me - this doesn't work\n                        setFailed(() => { throw e; });\n                    } else {\n                        setFailed(true);\n                    }\n                });\n            }\n        }\n\n        loadValue();\n\n        useEffect(() => {\n            // console.log(\"killed value\");\n            return () => { cache.delete(name); };\n        }, []);\n\n        // we tell the DEV that this is not the way to go\n        function failOnNoState() {\n            if (!__PRODUCTION__) {\n                throw new Error(`You must use hooks to save the value ${name}`);\n            }\n        }\n\n        return {\n            [name]: provideState ? state : val,\n            [`set${name.charAt(0).toUpperCase() + name.slice(1)}`]: provideState ? setState : failOnNoState,\n            [`load${name.charAt(0).toUpperCase() + name.slice(1)}`]: loadValue,\n            [`load${name.charAt(0).toUpperCase() + name.slice(1)}Failed`]: failed,\n        } as T;\n    };\n}\n","import { IHeatingDevice, IHeatingPlan, IHeatingZone, IScheduleInformation, OperationMode } from \"../../app/model\";\nimport { deviceAPI } from \"./devices\";\nimport { modeAPI, planAPI } from \"./heating\";\nimport { settingsAPI, SettingsHashMap } from \"./settings\";\nimport { HookReturnType, HookSetType, useSuspendableState } from \"./suspendableState\";\nimport { zoneAPI } from \"./zones\";\n\ntype PlansType = {\n    plans: IHeatingPlan[],\n    setPlans: HookSetType<IHeatingPlan[]>,\n    loadPlans(force?: boolean): HookReturnType,\n};\n\ntype DevicesType = {\n    devices: IHeatingDevice[],\n    setDevices: HookSetType<IHeatingDevice[]>,\n    loadDevices: HookReturnType,\n};\n\ntype ZonesType = {\n    zones: IHeatingZone[],\n    setZones: HookSetType<IHeatingZone[]>,\n    loadZones: HookReturnType,\n};\n\ntype ScheduleInformationType = {\n    scheduleInformation: IScheduleInformation,\n    setScheduleInformation: HookSetType<IScheduleInformation>,\n    loadScheduleInformation: HookReturnType,\n};\n\ntype SettingsType = {\n    settings: SettingsHashMap,\n    setSettings: HookSetType<SettingsHashMap>,\n    loadSettings: HookReturnType,\n};\n\ntype ModeType = {\n    mode: OperationMode,\n    setMode: HookSetType<OperationMode>,\n    loadMode: HookReturnType,\n};\n\nexport const usePlans = useSuspendableState<PlansType>(\"plans\", planAPI.fetchPlans);\nexport const useDevices = useSuspendableState<DevicesType>(\"devices\", deviceAPI.fetchHeatingDevices);\nexport const useZones = useSuspendableState<ZonesType>(\"zones\", zoneAPI.fetchHeatingZones);\nexport const useScheduleInformation = useSuspendableState<ScheduleInformationType>(\"scheduleInformation\", planAPI.fetchSchedule);\nexport const useSettings = useSuspendableState<SettingsType>(\"settings\", settingsAPI.fetchSettings);\nexport const useMode = useSuspendableState<ModeType>(\"mode\", modeAPI.fetchMode);\n","import { Settings } from \"../../../app/services/settings-manager/types\";\nimport callAPI from \"../callAPI\";\n\nexport type SettingsHashMap = {\n  [key in keyof typeof Settings]?: string | boolean;\n};\n\nconst fetchSettings = async (): Promise<SettingsHashMap> => {\n  return await callAPI<SettingsHashMap>(\"GET\", \"/settings\");\n};\n\nconst updateSettings = async (settings: {}): Promise<void> => {\n  return await callAPI<any>(\"PUT\", `/settings`, settings);\n};\n\nexport const settingsAPI = {\n  fetchSettings,\n  updateSettings,\n};\n","import { sortBy } from \"lodash\";\nimport { IHeatingZone } from \"../../../app/model\";\nimport callAPI from \"../callAPI\";\n\nexport type HashType = {\n  [key: string]: IHeatingZone;\n} & ArrayLike<IHeatingZone>;\n\nconst fetchHeatingZones = async (): Promise<HashType> => {\n  const zones = await callAPI<any[]>(\"GET\", \"/zones\");\n\n  const result = sortBy(zones, \"name\").reduce((map, obj, idx) => {\n    map[idx] = obj;\n    map[obj.id] = obj;\n    return map;\n  }, {});\n\n  result.length = zones.length;\n  return result;\n};\n\nexport const zoneAPI = {\n  fetchHeatingZones,\n};\n","import AppBar from \"@material-ui/core/AppBar\";\nimport { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { Fragment, ReactChild } from \"react\";\n\nconst styles: StyleRulesCallback<any, any> = (_theme) => ({\n    appBar: {\n    },\n\n    grow: {\n        flexGrow: 1,\n    },\n\n    buttons: {\n        display: \"flex\" as \"flex\",\n    },\n\n    toolbar: {\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    },\n});\n\ntype NamedSlots = {\n    title?: string,\n    button?: ReactChild,\n    actions?: ReactChild,\n    subBar?: ReactChild,\n};\n\ntype Props = WithStyles<typeof styles> & {\n    title?: string,\n    button?: React.ReactElement<any>,\n    children?: NamedSlots,\n};\n\nconst AppHeaderComponent: React.FunctionComponent<Props> = (props) => {\n    const { classes } = props;\n    const { button, title, actions, subBar } = props.children || {\n        button: null,\n        title: null,\n        actions: null,\n        subBar: null,\n    };\n\n    return (\n        <Fragment>\n            <AppBar position=\"absolute\" color=\"primary\" className={classes.appBar}>\n                <Toolbar className={classes.toolbar}>\n                    {props.button || button}\n\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap={true}>\n                        {props.title || title}\n                    </Typography>\n\n                     <div className={classes.grow} />\n                    {actions != null &&\n                        <div className={classes.buttons}>\n                            {actions}\n                        </div>\n                    }\n                </Toolbar>\n\n                {subBar != null && subBar}\n            </AppBar>\n        </Fragment>\n    );\n};\n\nexport default withStyles(styles)(AppHeaderComponent);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Typography, { TypographyProps } from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback<any, any> = (theme) => ({\n    text: {\n        // marginTop: theme.spacing(4),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n});\n\ntype Props = {\n    text: string,\n} & WithStyles<typeof styles> & TypographyProps;\n\nconst BodyText: React.FunctionComponent<Props> = (props) => {\n    const {classes, text, ...otherProps} = props;\n\n    return (\n        <Typography className={classes.text} color=\"textSecondary\"  {...otherProps}>\n            {text}\n        </Typography>\n    );\n};\n\nexport default withStyles(styles)(BodyText);\n","import TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\nimport React from \"react\";\nimport InputContainer from \"./InputContainer\";\n\nconst FormTextField = ({ classes, ...otherProps }: TextFieldProps) => {\n    return (\n        <InputContainer>\n            <TextField\n                fullWidth={true}\n                margin=\"normal\"\n                {...otherProps}\n            />\n        </InputContainer>\n    );\n};\n\nexport default FormTextField;\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback<any, any> = (theme) => ({\n    inputContainer: {\n        width: \"100%\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(3),\n    },\n});\n\ntype Props = {\n    children: React.ReactElement<any>,\n} & WithStyles<typeof styles>;\n\nconst InputContainer: React.FunctionComponent<Props> = (props) => {\n    return (<div className={props.classes.inputContainer}>{props.children}</div>);\n};\n\nexport default withStyles(styles)(InputContainer);\n","import { ListItem } from \"@material-ui/core\";\nimport { ListItemProps } from \"@material-ui/core/ListItem\";\nimport { LocationDescriptor } from \"history\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\ntype Props =  {\n    // ListItemProps and LinkProps both define an 'innerRef' property which are incompatible.\n\n    to: LocationDescriptor\n    replace?: boolean,\n} & ListItemProps;\n\nfunction createLink({innerRef, ...props}: Props) {\n    // Remove `innerRef` from properties as the interface is incompatible.\n\n    if (props.to.toString().match(/https/)) {\n        // @ts-ignore\n        return <a onClick={() => Homey.openURL(props.to.toString())} {...props}>{props.children}</a>;\n    }\n\n    // @ts-ignore\n    return <Link {...props} />;\n}\n\nconst ListItemLink: React.FunctionComponent<Props> = (props) => {\n    return (\n        // @ts-ignore\n        <ListItem {...props} component={createLink as unknown as \"a\"}>\n            {props.children}\n        </ListItem>\n    );\n};\n\nexport default ListItemLink;\n","import { Divider, IconButton, List, ListItemText, StyleRulesCallback, Typography, WithStyles, withStyles } from \"@material-ui/core\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport { IconButtonProps } from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport React from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport translate from \"../i18n/Translation\";\nimport ListItemLink from \"./ListItemLink\";\n\nconst styles: StyleRulesCallback<any, any> = (theme) => ({\n    text: {\n        padding: theme.spacing(2),\n        paddingBottom: 0,\n    },\n\n    version: {\n        padding: theme.spacing(2),\n        paddingTop: 0,\n    },\n\n    normal: {\n    },\n\n    selected: {\n        color: theme.palette.primary.main,\n    },\n\n    otherButton: {\n\n    },\n\n    firstButton: {\n        marginLeft: -12,\n        // marginRight: 20,\n    },\n});\n\ntype Props = {\n    open: boolean;\n    onClose: () => void;\n} & WithStyles<typeof styles> & RouteComponentProps;\n\nconst AppMenuBase: React.FunctionComponent<Props> = (props) => {\n    const {classes} = props;\n\n    const elements = [\n        {\n            type: \"entry\",\n            to: \"/\",\n            text: translate(\"menu.plans\"),\n        },\n        {\n            to: \"/temperatures\",\n            text: translate(\"menu.temperatures\"),\n        },\n        {\n            to: \"/schedules\",\n            text: translate(\"menu.schedules\"),\n        },\n        {\n            to: \"/settings\",\n            text: translate(\"menu.settings\"),\n        },\n        // {\n        //     type: \"Divider\"\n        // },\n        {\n            to: \"https://homey-heating.mskg.app\",\n            text: translate(\"menu.help\"),\n        },\n    ];\n\n    return (\n        <Drawer open={props.open} onClose={props.onClose}>\n            <Typography className={classes.text} variant=\"h5\" gutterBottom={true}>\n                {translate(\"menu.title\")}\n            </Typography>\n            <Typography className={classes.version} variant=\"body2\" color=\"textSecondary\" gutterBottom={true}>\n                Version {__VERSION} ({__BUILD})\n            </Typography>\n\n            <Divider />\n            <List>\n            {\n                elements.map((e) => (e.type === \"Divider\"\n                    ? <Divider />\n                    : <ListItemLink key={e.to} to={e.to} disabled={props.match.url === e.to} button={true}>\n                        <ListItemText\n                            primary={e.text}\n                            classes={{primary: props.match.url !== e.to ? classes.normal : classes.selected}}\n                        />\n                    </ListItemLink>\n                ))\n            }\n            </List>\n        </Drawer>\n    );\n};\n\ntype MenuButtonProps = {\n    icon: React.ReactElement<any>,\n    first?: boolean,\n} & WithStyles<typeof styles> & IconButtonProps;\n\nconst MenuButtonBase: React.FunctionComponent<MenuButtonProps> = (props) => {\n    const { classes, first, icon, ...otherProps } = props;\n\n    return (\n        <IconButton className={first ? classes.firstButton : classes.otherButton} color=\"inherit\" {...otherProps}>\n            {icon}\n        </IconButton>\n    );\n};\n\nexport const AppMenuButton: React.FunctionComponent = (_props) => {\n    const [openMenu, setOpenMenu] = React.useState<boolean>(false);\n\n    return (\n        <React.Fragment>\n            <AppMenu open={openMenu} onClose={() => { setOpenMenu(false); }} />\n            <MenuButton first={true} onClick={() => { setOpenMenu(true); }} icon={<MenuIcon />} />\n        </React.Fragment>\n    );\n};\n\nconst AppMenu = withRouter(withStyles(styles)(AppMenuBase));\nexport const MenuButton = withStyles(styles)(MenuButtonBase);\n\nexport default AppMenu;\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Typography, { TypographyProps } from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst styles: StyleRulesCallback<any, any> = (theme) => ({\n    headline: {\n        marginTop: theme.spacing(4),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n});\n\ntype SubHeaderProps = {\n    text: string | undefined,\n} & WithStyles<typeof styles> & TypographyProps;\n\nconst SubHeader: React.FunctionComponent<SubHeaderProps> = (props) => {\n    const { classes, text, ...otherProps } = props;\n\n    return (\n        <Typography className={classes.headline} variant=\"h5\" color=\"textSecondary\" gutterBottom={true} {...otherProps}>\n            {text}\n        </Typography>\n    );\n};\n\nexport default withStyles(styles)(SubHeader);\n","import { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport React, { ReactChild } from \"react\";\n\nconst styles: StyleRulesCallback<any, any> = (_theme) => ({\n    root: {\n        webkitOverflowScrolling: \"touch\",\n        display: \"flex\",\n        flexFlow: \"column\",\n        height: \"100vh\",\n        width: \"100vw\",\n        backgroundColor: \"#fff\",\n    },\n\n    body: {\n        flex : \"1 0 100%\",\n        margin: 0,\n        maxWidth: \"100%\",\n        overflowY: \"scroll\",\n    },\n});\n\ntype NamedSlots = {\n    header: ReactChild,\n    body: ReactChild,\n    paddingTop: number | string,\n    paddingBottom?: number | string,\n};\n\ntype Props = WithStyles<typeof styles> & {\n    children: NamedSlots,\n};\n\nconst PageComponent: React.FunctionComponent<Props> = (props) => {\n    const { classes } = props;\n    const { header, body, paddingTop, paddingBottom } = props.children;\n\n    const newPadding = paddingBottom || \"auto\";\n\n    return (\n        <React.Fragment>\n            <div className={classes.root}>\n                {header}\n                <div className={classes.body} style={{paddingTop, paddingBottom: newPadding}}>\n                    {body}\n                </div>\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default withStyles(styles)(PageComponent);\n","import { Button } from \"@material-ui/core\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { StyleRulesCallback, withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { withSnackbar, WithSnackbarProps } from \"notistack\";\nimport React, { ChangeEvent } from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { Settings } from \"../../app/services/settings-manager/types\";\nimport { useSettings } from \"../api/hooks\";\nimport { settingsAPI, SettingsHashMap } from \"../api/settings\";\nimport AppHeader from \"../components/AppHeader\";\nimport BodyText from \"../components/BodyText\";\nimport FormTextField from \"../components/FormTextField\";\nimport InputContainer from \"../components/InputContainer\";\nimport { AppMenuButton, MenuButton } from \"../components/Menu\";\nimport SubHeader from \"../components/SubHeader\";\nimport translate from \"../i18n/Translation\";\nimport Page from \"../layouts/Page\";\n\nconst styles: StyleRulesCallback<any, any> = (_theme) => ({\n});\n\ntype Params = {\n    id: string;\n};\n\ntype SettingsName = keyof typeof Settings;\ntype Props = WithStyles<typeof styles> & RouteComponentProps<Params> & WithSnackbarProps;\n\nconst SettingsPage: React.FunctionComponent<Props> = (props) => {\n    const { settings, setSettings, loadSettings } = useSettings(true);\n    const [isDirty, setDirty] = React.useState<boolean>(false);\n\n    function getFieldValue(name: SettingsName, def: any = null) {\n        const val = settings[name];\n        return val == null ? def : val;\n    }\n\n    const updateField = (name: SettingsName, field: \"value\" | \"checked\" = \"value\") => (event: ChangeEvent) => {\n        const val = event.target[field];\n\n        setSettings((old) => {\n            return { ...old, [name]: val } as SettingsHashMap;\n        });\n        setDirty(true);\n    };\n\n    const save = () => {\n        settingsAPI.updateSettings(settings).then((_p) => {\n            props.enqueueSnackbar(translate(\"settings.saved\"));\n            setDirty(false);\n        });\n    };\n\n    return (\n        <Page>\n            {{\n                header: (\n                    <AppHeader>\n                        {{\n                            title: translate(\"settings.title\"),\n                            button: (\n                                <React.Fragment>\n                                    {!isDirty && <AppMenuButton />}\n                                    {isDirty &&\n                                        <MenuButton\n                                            first={true}\n                                            onClick={async () => {\n                                                await loadSettings();\n                                                setDirty(false);\n                                            }}\n                                            icon={<CancelIcon />}\n                                        />\n                                    }\n                                </React.Fragment>\n                            ),\n                            actions: (\n                                <React.Fragment>\n                                    {isDirty &&\n                                        <Button color=\"inherit\" onClick={save}>\n                                            save\n                                        </Button>\n                                    }\n                                </React.Fragment>\n                            ),\n                        }}\n                    </AppHeader>\n                ),\n                paddingTop: 50,\n                paddingBottom: 50,\n                body: (\n                    <React.Fragment>\n                        <SubHeader text={translate(\"settings.notifications.category\")} />\n                        <BodyText text={translate(\"settings.notifications.text\")} />\n                        <InputContainer>\n                            <FormControlLabel\n                                control={\n                                    <Switch\n                                        checked={getFieldValue(\"NotifyModeChange\", true) === true}\n                                        onChange={updateField(\"NotifyModeChange\", \"checked\")}\n                                    />\n                                }\n                                label={translate(\"settings.notifications.NotifyModeChange\")}\n                                labelPlacement=\"end\"\n                            />\n                        </InputContainer>\n                        <InputContainer>\n                            <FormControlLabel\n                                control={\n                                    <Switch\n                                        checked={getFieldValue(\"NotifySetError\", true) === true}\n                                        onChange={updateField(\"NotifySetError\", \"checked\")}\n                                    />\n                                }\n                                label={translate(\"settings.notifications.NotifySetError\")}\n                                labelPlacement=\"end\"\n                            />\n                        </InputContainer>\n                        <InputContainer>\n                            <FormControlLabel\n                                control={\n                                    <Switch\n                                        checked={getFieldValue(\"NotifySetSuccess\", true) === true}\n                                        onChange={updateField(\"NotifySetSuccess\", \"checked\")}\n                                    />\n                                }\n                                label={translate(\"settings.notifications.NotifySetSuccess\")}\n                                labelPlacement=\"end\"\n                            />\n                        </InputContainer>\n\n                        <SubHeader text={translate(\"settings.sentry.category\")} />\n                        <BodyText text={translate(\"settings.sentry.text\")} />\n\n                        <InputContainer>\n                            <FormControlLabel\n                                control={\n                                    <Switch\n                                        checked={getFieldValue(\"SentryEnabled\", true) === true}\n                                        onChange={updateField(\"SentryEnabled\", \"checked\")}\n                                    />\n                                }\n                                label={translate(\"settings.enabled.label\")}\n                                labelPlacement=\"end\"\n                            />\n                        </InputContainer>\n\n                        <SubHeader text={translate(\"settings.log.category\")} />\n                        <BodyText text={translate(\"settings.log.text\")} />\n\n                        <InputContainer>\n                            <FormControlLabel\n                                control={\n                                    <Switch\n                                        checked={getFieldValue(\"ConsoleReLogEnabled\") === true}\n                                        onChange={updateField(\"ConsoleReLogEnabled\", \"checked\")}\n                                    />\n                                }\n                                label={translate(\"settings.enabled.label\")}\n                                labelPlacement=\"end\"\n                            />\n                        </InputContainer>\n\n                        <FormTextField\n                            label={translate(\"settings.category.label\")}\n                            placeholder={translate(\"settings.category.placeholder\")}\n\n                            required={getFieldValue(\"ConsoleReLogEnabled\") === true}\n                            value={getFieldValue(\"ConsoleReLogCategory\", \"\")}\n                            onChange={updateField(\"ConsoleReLogCategory\")}\n                        />\n\n                        <SubHeader text={translate(\"settings.backup.title\")} />\n                        <BodyText text={translate(\"settings.backup.text\")} />\n                        <FormTextField\n                            label={translate(\"settings.backup.label\")}\n                            placeholder={translate(\"settings.backup.placeholder\")}\n\n                            multiline={true}\n                            rowsMax=\"10\"\n\n                            value={getFieldValue(\"Plans\", \"\")}\n                            onChange={updateField(\"Plans\")}\n                        />\n                    </React.Fragment>\n                ),\n            }}\n        </Page>\n    );\n};\n\n// @ts-ignore\nexport default withSnackbar(withRouter(withStyles(styles)(SettingsPage)));\n"],"names":["callAPI","method","path","body","Promise","resolve","reject","Homey","api","err","result","deviceAPI","fetchHeatingDevices","devices","sortBy","reduce","map","obj","idx","id","length","updatePlan","newPlan","planCopy","zones","undefined","planAPI","fetchPlans","res","plan","p","name","fetchPlanById","Error","fetchSchedule","schedule","temperatures","s","device","removePlan","togglePlanState","enabled","modeAPI","fetchMode","mode","setMode","cache","Map","LOADING","useSuspendableState","provideState","provideFailed","val","get","state","setState","failed","setFailed","loadValue","force","set","apiMethod","setStateAction","e","tryMethod","r","catch","useEffect","delete","charAt","toUpperCase","slice","usePlans","useDevices","useZones","useScheduleInformation","useSettings","settings","useMode","settingsAPI","fetchSettings","updateSettings","zoneAPI","fetchHeatingZones","_theme","appBar","grow","flexGrow","buttons","display","toolbar","alignItems","justifyContent","props","classes","button","title","actions","subBar","children","Fragment","position","color","className","variant","noWrap","theme","text","paddingLeft","spacing","paddingRight","otherProps","fullWidth","margin","inputContainer","width","createLink","innerRef","to","toString","match","onClick","openURL","ListItem","component","styles","padding","paddingBottom","version","paddingTop","normal","selected","palette","primary","main","otherButton","firstButton","marginLeft","AppMenuButton","_props","openMenu","setOpenMenu","AppMenu","open","onClose","MenuButton","first","icon","Menu","withStyles","elements","type","Drawer","Typography","gutterBottom","Divider","List","key","disabled","url","ListItemText","IconButton","headline","marginTop","root","webkitOverflowScrolling","flexFlow","height","backgroundColor","flex","maxWidth","overflowY","header","newPadding","style","setSettings","loadSettings","isDirty","setDirty","getFieldValue","def","updateField","field","event","target","old","then","_p","enqueueSnackbar","control","checked","onChange","label","labelPlacement","placeholder","required","value","multiline","rowsMax"],"sourceRoot":""}