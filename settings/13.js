(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(101);function c(e,t,n=null){return Object(a.b)(this,void 0,void 0,(function*(){return yield new Promise((a,c)=>{Homey.api(e,t,n,(e,t)=>{e?c(e):a(t)})})}))}},105:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(101),c=n(9),o=n(102);const l=e=>Object(a.b)(void 0,void 0,void 0,(function*(){const t=Object.assign({},e);return t.zones&&0!==t.zones.length||(t.zones=void 0),t.devices&&0!==t.devices.length||(t.devices=void 0),yield Object(o.a)("PUT","/plans/"+e.id,t)})),i={fetchPlans:()=>Object(a.b)(void 0,void 0,void 0,(function*(){const e=yield Object(o.a)("GET","/plans");return Object(c.sortBy)(Object(c.map)(e,e=>(e.zones=e.zones||[],e.devices=e.devices||[],e)),e=>e.name)})),fetchPlanById:e=>Object(a.b)(void 0,void 0,void 0,(function*(){const t=yield Object(o.a)("GET","/plans/"+e);if(null==t)throw new Error(`Plan ${e} not found.`);return t.zones=t.zones||[],t.devices=t.devices||[],t})),fetchSchedule:()=>Object(a.b)(void 0,void 0,void 0,(function*(){const e=yield Object(o.a)("GET","/schedule");return e.temperatures=Object(c.sortBy)(e.temperatures,[e=>e.device.name]),e})),updatePlan:l,removePlan:e=>Object(a.b)(void 0,void 0,void 0,(function*(){return yield Object(o.a)("DELETE","/plans/"+e)})),togglePlanState:e=>Object(a.b)(void 0,void 0,void 0,(function*(){return e.enabled=!e.enabled,yield l(e),!0}))},r={fetchMode:()=>Object(a.b)(void 0,void 0,void 0,(function*(){return(yield Object(o.a)("GET","/mode")).mode})),setMode:e=>Object(a.b)(void 0,void 0,void 0,(function*(){return yield Object(o.a)("PUT","/mode",{mode:e})}))}},106:function(e,t,n){"use strict";var a=n(252),c=n(14),o=n(254),l=n(255),i=n(0),r=n.n(i);t.a=Object(c.a)(e=>({appBar:{},grow:{flexGrow:1},buttons:{display:"flex"},toolbar:{alignItems:"center",justifyContent:"space-between"}}))(e=>{const{classes:t}=e,{button:n,title:c,actions:s,subBar:d}=e.children||{button:null,title:null,actions:null,subBar:null};return r.a.createElement(i.Fragment,null,r.a.createElement(a.a,{position:"absolute",color:"primary",className:t.appBar},r.a.createElement(o.a,{className:t.toolbar},e.button||n,r.a.createElement(l.a,{variant:"h6",color:"inherit",noWrap:!0},e.title||c),r.a.createElement("div",{className:t.grow}),null!=s&&r.a.createElement("div",{className:t.buttons},s)),null!=d&&d))})},107:function(e,t,n){"use strict";var a=n(14),c=n(0),o=n.n(c);t.a=Object(a.a)(e=>({inputContainer:{width:"100%",paddingLeft:e.spacing(2),paddingRight:e.spacing(3)}}))(e=>o.a.createElement("div",{className:e.classes.inputContainer},e.children))},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C}));var a=n(101),c=n(255),o=n(264),l=n(261),i=n(265),r=n(266),s=n(14),d=n(263),u=n(122),b=n.n(u),m=n(0),g=n.n(m),f=n(3),h=n(41),v=n(262),p=n(42);function j(e){var{innerRef:t}=e,n=Object(a.d)(e,["innerRef"]);return n.to.toString().match(/https/)?g.a.createElement("a",Object.assign({onClick:()=>Homey.openURL(n.to.toString())},n),n.children):g.a.createElement(p.b,Object.assign({},n))}var O=e=>g.a.createElement(v.a,Object.assign({},e,{component:j}),e.children);const E=e=>({text:{padding:e.spacing(2),paddingBottom:0},version:{padding:e.spacing(2),paddingTop:0},normal:{},selected:{color:e.palette.primary.main},otherButton:{},firstButton:{marginLeft:-12}}),y=e=>{const[t,n]=g.a.useState(!1);return g.a.createElement(g.a.Fragment,null,g.a.createElement(x,{open:t,onClose:()=>{n(!1)}}),g.a.createElement(C,{first:!0,onClick:()=>{n(!0)},icon:g.a.createElement(b.a,null)}))},x=Object(f.f)(Object(s.a)(E)(e=>{const{classes:t}=e,n=[{type:"entry",to:"/",text:Object(h.a)("menu.plans")},{to:"/temperatures",text:Object(h.a)("menu.temperatures")},{to:"/schedules",text:Object(h.a)("menu.schedules")},{to:"/settings",text:Object(h.a)("menu.settings")},{to:"https://homey-heating.mskg.app",text:Object(h.a)("menu.help")}];return g.a.createElement(d.a,{open:e.open,onClose:e.onClose},g.a.createElement(c.a,{className:t.text,variant:"h5",gutterBottom:!0},Object(h.a)("menu.title")),g.a.createElement(c.a,{className:t.version,variant:"body2",color:"textSecondary",gutterBottom:!0},"Version ","2.0.0-rc6"," (",void 0,")"),g.a.createElement(o.a,null),g.a.createElement(l.a,null,n.map(n=>"Divider"===n.type?g.a.createElement(o.a,null):g.a.createElement(O,{key:n.to,to:n.to,disabled:e.match.url===n.to,button:!0},g.a.createElement(i.a,{primary:n.text,classes:{primary:e.match.url!==n.to?t.normal:t.selected}})))))})),C=Object(s.a)(E)(e=>{const{classes:t,first:n,icon:c}=e,o=Object(a.d)(e,["classes","first","icon"]);return g.a.createElement(r.a,Object.assign({className:n?t.firstButton:t.otherButton,color:"inherit"},o),c)})},112:function(e,t,n){"use strict";var a=n(14),c=n(0),o=n.n(c);t.a=Object(a.a)(e=>({root:{webkitOverflowScrolling:"touch",display:"flex",flexFlow:"column",height:"100vh",width:"100vw",backgroundColor:"#fff"},body:{flex:"1 0 100%",margin:0,maxWidth:"100%",overflowY:"scroll"}}))(e=>{const{classes:t}=e,{header:n,body:a,paddingTop:c,paddingBottom:l}=e.children,i=l||"auto";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.root},n,o.a.createElement("div",{className:t.body,style:{paddingTop:c,paddingBottom:i}},a)))})},113:function(e,t,n){"use strict";var a=n(101),c=n(14),o=n(255),l=n(0),i=n.n(l);t.a=Object(c.a)(e=>({text:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}))(e=>{const{classes:t,text:n}=e,c=Object(a.d)(e,["classes","text"]);return i.a.createElement(o.a,Object.assign({className:t.text,color:"textSecondary"},c),n)})},114:function(e,t,n){"use strict";var a=n(101),c=n(14),o=n(255),l=n(0),i=n.n(l);t.a=Object(c.a)(e=>({headline:{marginTop:e.spacing(4),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}))(e=>{const{classes:t,text:n}=e,c=Object(a.d)(e,["classes","text"]);return i.a.createElement(o.a,Object.assign({className:t.headline,variant:"h5",color:"textSecondary",gutterBottom:!0},c),n)})},116:function(e,t,n){"use strict";var a=n(101),c=n(279),o=n(0),l=n.n(o),i=n(107);t.a=e=>{var{classes:t}=e,n=Object(a.d)(e,["classes"]);return l.a.createElement(i.a,null,l.a.createElement(c.a,Object.assign({fullWidth:!0,margin:"normal"},n)))}},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(101),c=n(9),o=n(102);const l={fetchHeatingDevices:()=>Object(a.b)(void 0,void 0,void 0,(function*(){const e=yield Object(o.a)("GET","/devices"),t=Object(c.sortBy)(e,"name").reduce((e,t,n)=>(e[n]=t,e[t.id]=t,e),{});return t.length=e.length,t}))}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(101),c=n(9),o=n(102);const l={fetchHeatingZones:()=>Object(a.b)(void 0,void 0,void 0,(function*(){const e=yield Object(o.a)("GET","/zones"),t=Object(c.sortBy)(e,"name").reduce((e,t,n)=>(e[n]=t,e[t.id]=t,e),{});return t.length=e.length,t}))}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(101),c=n(102);const o={fetchSettings:()=>Object(a.b)(void 0,void 0,void 0,(function*(){return yield Object(c.a)("GET","/settings")})),updateSettings:e=>Object(a.b)(void 0,void 0,void 0,(function*(){return yield Object(c.a)("PUT","/settings",e)}))}},123:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return v}));var a=n(118),c=n(105),o=n(120),l=n(101),i=n(0),r=n.n(i);const s=new Map;function d(e,t){return(n=!1,a=!1)=>{const c=s.get(e);let[o,d]=[null,null];n&&([o,d]=r.a.useState("Loading..."!==c?c:null));const[u,b]=r.a.useState(!1);function m(n=!1){if(null==s.get(e)||n)throw s.set(e,"Loading..."),function(e,t){return Object(l.b)(this,void 0,void 0,(function*(){try{t(yield e())}catch(e){t(()=>{throw e})}}))}(t,t=>{"function"==typeof t?s.set(e,t(s.get(e))):s.set(e,t)}).catch(e=>{b(!!a||(()=>{throw e}))})}return m(),Object(i.useEffect)(()=>()=>{s.delete(e)},[]),{[e]:n?o:c,["set"+(e.charAt(0).toUpperCase()+e.slice(1))]:n?d:function(){0},["load"+(e.charAt(0).toUpperCase()+e.slice(1))]:m,[`load${e.charAt(0).toUpperCase()+e.slice(1)}Failed`]:u}}}var u=n(119);const b=d("plans",c.b.fetchPlans),m=d("devices",a.a.fetchHeatingDevices),g=d("zones",u.a.fetchHeatingZones),f=d("scheduleInformation",c.b.fetchSchedule),h=d("settings",o.a.fetchSettings),v=d("mode",c.a.fetchMode)},271:function(e,t,n){"use strict";n.r(t);var a=n(101),c=n(224),o=n(267),l=n(14),i=n(226),r=n(144),s=n.n(r),d=n(48),u=n(0),b=n.n(u),m=n(3),g=n(123),f=n(120),h=n(106),v=n(113),p=n(116),j=n(107),O=n(108),E=n(114),y=n(41),x=n(112);t.default=Object(d.b)(Object(m.f)(Object(l.a)(e=>({}))(e=>{const{settings:t,setSettings:n,loadSettings:l}=Object(g.e)(!0),[r,d]=b.a.useState(!1);function u(e,n=null){const a=t[e];return null==a?n:a}const m=(e,t="value")=>a=>{const c=a.target[t];n(t=>Object.assign(Object.assign({},t),{[e]:c})),d(!0)};return b.a.createElement(x.a,null,{header:b.a.createElement(h.a,null,{title:Object(y.a)("settings.title"),button:b.a.createElement(b.a.Fragment,null,!r&&b.a.createElement(O.a,null),r&&b.a.createElement(O.b,{first:!0,onClick:()=>Object(a.b)(void 0,void 0,void 0,(function*(){yield l(),d(!1)})),icon:b.a.createElement(s.a,null)})),actions:b.a.createElement(b.a.Fragment,null,r&&b.a.createElement(c.a,{color:"inherit",onClick:()=>{f.a.updateSettings(t).then(t=>{e.enqueueSnackbar(Object(y.a)("settings.saved")),d(!1)})}},"save"))}),paddingTop:50,paddingBottom:50,body:b.a.createElement(b.a.Fragment,null,b.a.createElement(E.a,{text:Object(y.a)("settings.notifications.category")}),b.a.createElement(v.a,{text:Object(y.a)("settings.notifications.text")}),b.a.createElement(j.a,null,b.a.createElement(o.a,{control:b.a.createElement(i.a,{checked:!0===u("NotifyModeChange",!0),onChange:m("NotifyModeChange","checked")}),label:Object(y.a)("settings.notifications.NotifyModeChange"),labelPlacement:"end"})),b.a.createElement(j.a,null,b.a.createElement(o.a,{control:b.a.createElement(i.a,{checked:!0===u("NotifySetError",!0),onChange:m("NotifySetError","checked")}),label:Object(y.a)("settings.notifications.NotifySetError"),labelPlacement:"end"})),b.a.createElement(j.a,null,b.a.createElement(o.a,{control:b.a.createElement(i.a,{checked:!0===u("NotifySetSuccess",!0),onChange:m("NotifySetSuccess","checked")}),label:Object(y.a)("settings.notifications.NotifySetSuccess"),labelPlacement:"end"})),b.a.createElement(E.a,{text:Object(y.a)("settings.sentry.category")}),b.a.createElement(v.a,{text:Object(y.a)("settings.sentry.text")}),b.a.createElement(j.a,null,b.a.createElement(o.a,{control:b.a.createElement(i.a,{checked:!0===u("SentryEnabled",!0),onChange:m("SentryEnabled","checked")}),label:Object(y.a)("settings.enabled.label"),labelPlacement:"end"})),b.a.createElement(E.a,{text:Object(y.a)("settings.log.category")}),b.a.createElement(v.a,{text:Object(y.a)("settings.log.text")}),b.a.createElement(j.a,null,b.a.createElement(o.a,{control:b.a.createElement(i.a,{checked:!0===u("ConsoleReLogEnabled"),onChange:m("ConsoleReLogEnabled","checked")}),label:Object(y.a)("settings.enabled.label"),labelPlacement:"end"})),b.a.createElement(p.a,{label:Object(y.a)("settings.category.label"),placeholder:Object(y.a)("settings.category.placeholder"),required:!0===u("ConsoleReLogEnabled"),value:u("ConsoleReLogCategory",""),onChange:m("ConsoleReLogCategory")}),b.a.createElement(E.a,{text:Object(y.a)("settings.backup.title")}),b.a.createElement(v.a,{text:Object(y.a)("settings.backup.text")}),b.a.createElement(p.a,{label:Object(y.a)("settings.backup.label"),placeholder:Object(y.a)("settings.backup.placeholder"),multiline:!0,rowsMax:"10",value:u("Plans",""),onChange:m("Plans")}))})})))}}]);
//# sourceMappingURL=https://raw.githubusercontent.com/mskg/homey-heating/release/v2.0.0-rc6/settings/13.js.map