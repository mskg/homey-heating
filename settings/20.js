/*! For license information please see 20.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[20],{"../app/services/homey-api/declarations.ts":(e,t,a)=>{var s;a.d(t,{L6:()=>r,zq:()=>n}),function(e){e.TargetTemperature="target_temperature",e.MeasureTemperature="measure_temperature",e.ThermostatOverride="thermostat_override"}(s||(s={}));const r=4,n=35},"./components/FormTextField.tsx":(e,t,a)=>{a.d(t,{Z:()=>o});var s=a("../../node_modules/tslib/tslib.es6.js"),r=a("../../node_modules/@material-ui/core/esm/TextField/TextField.js"),n=a("../../node_modules/react/index.js"),l=a("./components/InputContainer.tsx");const o=e=>{var{classes:t}=e,a=(0,s._T)(e,["classes"]);return n.createElement(l.Z,null,n.createElement(r.Z,Object.assign({fullWidth:!0,margin:"normal"},a)))}},"./components/InputContainer.tsx":(e,t,a)=>{a.d(t,{Z:()=>n});var s=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),r=a("../../node_modules/react/index.js");const n=(0,s.Z)((e=>({inputContainer:{width:"100%",paddingLeft:e.spacing(2),paddingRight:e.spacing(3)}})))((e=>r.createElement("div",{className:e.classes.inputContainer},e.children)))},"./pages/plan-exceptions.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var s=a("../../node_modules/@material-ui/core/esm/Button/Button.js"),r=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),n=a("../../node_modules/@material-ui/icons/ArrowBackIos.js"),l=a("../../node_modules/@material-ui/icons/Cancel.js"),o=a("../../node_modules/react/index.js"),i=a("../../node_modules/react-router/esm/react-router.js"),d=a("../app/model/index.ts"),c=a("./components/AppHeader.tsx"),u=a("./components/BodyText.tsx"),m=a("./components/Menu.tsx"),p=a("../../node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js"),g=a("../../node_modules/@material-ui/core/esm/Switch/Switch.js"),v=a("../app/services/homey-api/declarations.ts"),y=a("./i18n/Translation.tsx"),b=a("./components/FormTextField.tsx");const x=(0,r.Z)((e=>({planOverride:{marginBottom:e.spacing(2)}})))((e=>o.createElement(o.Fragment,null,o.createElement("div",{className:e.classes.planOverride},o.createElement(p.Z,{style:{marginLeft:0},control:o.createElement(g.Z,{checked:e.enabled,onChange:(t,a)=>{e.setOverride(e.mode,a?0===e.targetTemperature?16:e.targetTemperature:0)}}),label:e.text,labelPlacement:"end"}),o.createElement(b.Z,{label:(0,y.Z)("plan.target.label"),placeholder:(0,y.Z)("plan.target.placeholder"),disabled:!e.enabled,hidden:!e.enabled,type:"number",InputProps:{inputProps:{min:v.L6,max:v.zq,step:.5}},value:e.targetTemperature,onChange:t=>{e.setOverride(e.mode,parseFloat(t.target.value))}})))));var h=a("./components/SubHeader.tsx"),k=a("./layouts/Page.tsx"),C=a("./state/planHooks.tsx");const Z=(0,i.EN)((0,r.Z)((e=>({resetPadding:{paddingBottom:100,paddingLeft:0,paddingRight:0}})))((e=>{const{history:t,classes:a}=e,{plan:r}=(0,C.g0)(e.match.params.id),{isDirty:i,updateOverride:p}=(0,C._b)(),{undo:g,commit:v}=(0,C.k6)(),b=e=>{const t=null!=r.overrides?r.overrides[d.pl[e]]||r.overrides[e]:null;return{mode:e,enabled:null!=t&&0!==t.targetTemperature,targetTemperature:null!=t?t.targetTemperature:0}};return o.createElement(k.Z,null,{header:o.createElement(c.Z,null,{title:(0,y.Z)("overrides.title"),button:o.createElement(m.j2,{first:!0,onClick:function(){g(),t.replace({pathname:`/plans/${r.id}`,state:!0})},icon:i?o.createElement(l.Z,null):o.createElement(n.Z,null)}),actions:o.createElement(o.Fragment,null,i&&o.createElement(s.Z,{color:"inherit",onClick:function(){v(),t.replace({pathname:`/plans/${r.id}`,state:!0})}},(0,y.Z)("schedule.save")))}),paddingTop:50,body:o.createElement("div",{className:a.resetPadding},o.createElement(h.Z,{text:(0,y.Z)("overrides.section")}),o.createElement(u.Z,{text:(0,y.Z)("overrides.text")}),o.createElement(x,Object.assign({text:(0,y.Z)("overrides.athome"),setOverride:p},b(d.pl.DayAtHome))),o.createElement(x,Object.assign({text:(0,y.Z)("overrides.away"),setOverride:p},b(d.pl.DayAway))),o.createElement(x,Object.assign({text:(0,y.Z)("overrides.sleeping"),setOverride:p},b(d.pl.Sleep))),o.createElement(x,Object.assign({text:(0,y.Z)("overrides.holiday"),setOverride:p},b(d.pl.Holiday))),o.createElement(x,Object.assign({text:(0,y.Z)("overrides.outofseason"),setOverride:p},b(d.pl.OutOfSeason))))})})))},"./state/planHooks.tsx":(e,t,a)=>{a.d(t,{P5:()=>i,Zk:()=>c,_b:()=>d,g0:()=>m,k6:()=>o});var s=a("../../node_modules/react/index.js"),r=a("../../node_modules/uuid/v1.js"),n=a("./api/heating/index.tsx"),l=a("./state/PlanProvider.tsx");const o=()=>{const e=(0,l.dr)(),t=(0,l.QG)("loaded"),a=(0,s.useCallback)((()=>e({type:"savePoint"})),[e]),r=(0,s.useCallback)((()=>e({type:"undo"})),[e]),n=(0,s.useCallback)((()=>e({type:"commit"})),[e]);return(0,s.useEffect)((()=>{a()}),[t]),{savePoint:a,undo:r,commit:n}},i=()=>{const e=(0,l.dr)();return{setName:(0,s.useCallback)((t=>e({type:"setName",name:t.target.value})),[e]),setDescription:(0,s.useCallback)((t=>e({type:"setDescription",description:t.target.value})),[e]),toggleState:(0,s.useCallback)((()=>e({type:"toggleEnabled"})),[e]),toggleZone:(0,s.useCallback)((t=>e({type:"toggleZone",zone:t})),[e]),toggleDevice:(0,s.useCallback)((t=>e({type:"toggleDevice",device:t})),[e])}},d=()=>{const e=(0,l.dr)(),[t,a]=(0,s.useState)(!1),r=(0,s.useCallback)(((t,s)=>{e({type:"setOverride",mode:t,temperature:s}),a(!0)}),[e]),n=(0,s.useCallback)((t=>{e({type:"clearOverride",mode:t}),a(!0)}),[e]),o=(0,s.useCallback)(((e,t)=>{0===t?n(e):r(e,t)}),[e]);return(0,s.useEffect)((()=>{a(!1)}),[]),{isDirty:t,setOverride:r,clearOverride:n,updateOverride:o}},c=()=>{const[e,t]=(0,s.useState)(!1),a=(0,l.dr)(),r=(0,s.useCallback)((e=>{a({type:"selectDay",day:e})}),[a]),n=(0,l.QG)("selectedDay"),o=(0,l.QG)("setPoint"),i=(0,s.useCallback)(((e,s)=>{null!=s&&s.length>0&&(t(!0),a({type:"copyDays",source:e,targets:s}))}),[a]),d=(0,s.useCallback)((e=>{t(!0),a({type:"removeSetPoint",index:e})}),[a]),c=(0,s.useCallback)((e=>{a({type:"loadSetPoint",setPoint:e})}),[a]),u=(0,s.useCallback)((e=>{a({type:"newSetPoint",day:e})}),[a]),m=(0,s.useCallback)((e=>{-1===e.index?a({type:"addSetPoint",setPoint:e}):a({type:"updateSetPoint",setPoint:e})}),[a]),p=(0,s.useCallback)((e=>a({type:"setStart",start:e})),[a]),g=(0,s.useCallback)((e=>a({type:"setTargetTemperature",temperature:parseFloat(e.target.value)})),[a]);return(0,s.useEffect)((()=>{t(!1)}),[]),{setDirty:t,isDirty:e,selectedDay:n,setPoint:o,copyDays:i,removeSetPoint:d,loadSetPoint:c,newSetPoint:u,selectDay:r,saveSetPoint:m,setStart:p,setTargetTemperature:g}};let u=!1;const m=(e,t=!0)=>{const a=(0,l.dr)(),o=(0,l.QG)("plan"),i=(0,l.QG)("loaded"),d=(0,l.QG)("dirty");if(!i||!t)if(null!=e&&"new"!==e||u){if(!u)throw n.M.fetchPlanById(e).then((e=>{u=!0,a({type:"loadPlan",plan:e})}))}else u=!0,a({type:"loadPlan",plan:{id:r(),enabled:!1,name:"",zones:[],devices:[],schedule:[],overrides:void 0}});return(0,s.useEffect)((()=>()=>{u=!1}),[e,t]),{plan:o,isDirty:d,loaded:i}}}}]);
//# sourceMappingURL=https://raw.githubusercontent.com/mskg/homey-heating/release/v2.0.0-rc11/settings/20.js.map