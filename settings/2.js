/*! For license information please see 2.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[2],{"../../node_modules/@material-ui/core/colors/amber.js":(e,t)=>{"use strict";t.Z=void 0;t.Z={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"}},"../../node_modules/@material-ui/core/colors/green.js":(e,t)=>{"use strict";t.Z=void 0;t.Z={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},"../../node_modules/@material-ui/core/colors/lightBlue.js":(e,t)=>{"use strict";t.Z=void 0;t.Z={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},"../../node_modules/@material-ui/core/esm/Fab/Fab.js":(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var o=a("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=a("../../node_modules/@babel/runtime/helpers/esm/extends.js"),l=a("../../node_modules/react/index.js"),n=a("../../node_modules/prop-types/index.js"),r=a.n(n),i=a("../../node_modules/clsx/dist/clsx.m.js"),d=a("../../node_modules/@material-ui/utils/esm/chainPropTypes.js"),c=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),u=a("../../node_modules/@material-ui/core/esm/ButtonBase/ButtonBase.js"),m=a("../../node_modules/@material-ui/core/esm/utils/capitalize.js"),p=l.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,d=e.color,c=void 0===d?"default":d,p=e.component,b=void 0===p?"button":p,h=e.disabled,y=void 0!==h&&h,g=e.disableFocusRipple,f=void 0!==g&&g,v=e.focusVisibleClassName,Z=e.size,x=void 0===Z?"large":Z,j=e.variant,E=void 0===j?"circular":j,_=(0,o.Z)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(u.Z,(0,s.Z)({className:(0,i.Z)(n.root,r,"large"!==x&&n["size".concat((0,m.Z)(x))],y&&n.disabled,"extended"===E&&n.extended,{primary:n.primary,secondary:n.secondary,inherit:n.colorInherit}[c]),component:b,disabled:y,focusRipple:!f,focusVisibleClassName:(0,i.Z)(n.focusVisible,v),ref:t},_),l.createElement("span",{className:n.label},a))}));p.propTypes={children:r().node.isRequired,classes:r().object,className:r().string,color:r().oneOf(["default","inherit","primary","secondary"]),component:r().elementType,disabled:r().bool,disableFocusRipple:r().bool,disableRipple:r().bool,focusVisibleClassName:r().string,href:r().string,size:r().oneOf(["large","medium","small"]),variant:(0,d.Z)(r().oneOf(["extended","circular","round"]),(function(e){if("round"===e.variant)throw new Error('Material-UI: variant="round" was renamed variant="circular" for consistency.');return null}))};const b=(0,c.Z)((function(e){return{root:(0,s.Z)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(p)},"../../node_modules/@material-ui/icons/Add.js":(e,t,a)=>{"use strict";var o=a("../../node_modules/@babel/runtime/helpers/interopRequireDefault.js"),s=a("../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js");t.Z=void 0;var l=s(a("../../node_modules/react/index.js")),n=(0,o(a("../../node_modules/@material-ui/icons/utils/createSvgIcon.js")).default)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=n},"../../assets/icon_black.svg":(e,t,a)=>{e.exports=a.p+"icon_black.svg?5136879a03a13f9fb18f241b081f38cb"},"./api/callAPI.tsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var o=a("../../node_modules/tslib/tslib.es6.js");function s(e,t,a=null){return(0,o.mG)(this,void 0,void 0,(function*(){return yield new Promise(((o,s)=>{Homey.api(e,t,a,((e,t)=>{e?s(e):o(t)}))}))}))}},"./api/heating/index.tsx":(e,t,a)=>{"use strict";a.d(t,{M:()=>r,X:()=>i});var o=a("../../node_modules/tslib/tslib.es6.js"),s=a("../../node_modules/lodash/lodash.js"),l=a("./api/callAPI.tsx");const n=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const t=Object.assign({},e);return t.zones&&0!==t.zones.length||(t.zones=void 0),t.devices&&0!==t.devices.length||(t.devices=void 0),yield(0,l.Z)("PUT",`/plans/${e.id}`,t)})),r={fetchPlans:()=>(0,o.mG)(void 0,void 0,void 0,(function*(){const e=yield(0,l.Z)("GET","/plans");return(0,s.sortBy)((0,s.map)(e,(e=>(e.zones=e.zones||[],e.devices=e.devices||[],e))),(e=>e.name))})),fetchPlanById:e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const t=yield(0,l.Z)("GET",`/plans/${e}`);if(null==t)throw new Error(`Plan ${e} not found.`);return t.zones=t.zones||[],t.devices=t.devices||[],t})),fetchSchedule:()=>(0,o.mG)(void 0,void 0,void 0,(function*(){const e=yield(0,l.Z)("GET","/schedule");return e.temperatures=(0,s.sortBy)(e.temperatures,[e=>e.device.name]),e})),updatePlan:n,removePlan:e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return yield(0,l.Z)("DELETE",`/plans/${e}`)})),togglePlanState:e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return e.enabled=!e.enabled,yield n(e),!0}))},i={fetchMode:()=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield(0,l.Z)("GET","/mode")).mode})),setMode:e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return yield(0,l.Z)("PUT","/mode",{mode:e})}))}},"./components/AddFab.tsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var o=a("../../node_modules/@material-ui/core/esm/Fab/Fab.js"),s=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),l=a("../../node_modules/@material-ui/icons/Add.js"),n=a("../../node_modules/react/index.js");const r=(0,s.Z)((e=>({fabButton:{zIndex:1,margin:"0 auto",position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})))((e=>{const{classes:t}=e;return n.createElement(o.Z,{color:"secondary","aria-label":"Add",className:t.fabButton,onClick:()=>e.onClick()},n.createElement(l.Z,null))}))},"./components/AppHeader.tsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var o=a("../../node_modules/@material-ui/core/esm/AppBar/AppBar.js"),s=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),l=a("../../node_modules/@material-ui/core/esm/Toolbar/Toolbar.js"),n=a("../../node_modules/@material-ui/core/esm/Typography/Typography.js"),r=a("../../node_modules/react/index.js");const i=(0,s.Z)((e=>({appBar:{},grow:{flexGrow:1},buttons:{display:"flex"},toolbar:{alignItems:"center",justifyContent:"space-between"}})))((e=>{const{classes:t}=e,{button:a,title:s,actions:i,subBar:d}=e.children||{button:null,title:null,actions:null,subBar:null};return r.createElement(r.Fragment,null,r.createElement(o.Z,{position:"absolute",color:"primary",className:t.appBar},r.createElement(l.Z,{className:t.toolbar},e.button||a,r.createElement(n.Z,{variant:"h6",color:"inherit",noWrap:!0},e.title||s),r.createElement("div",{className:t.grow}),null!=i&&r.createElement("div",{className:t.buttons},i)),null!=d&&d))}))},"./components/Menu.tsx":(e,t,a)=>{"use strict";a.d(t,{T2:()=>Z,j2:()=>j});var o=a("../../node_modules/tslib/tslib.es6.js"),s=a("../../node_modules/@material-ui/core/esm/Typography/Typography.js"),l=a("../../node_modules/@material-ui/core/esm/Divider/Divider.js"),n=a("../../node_modules/@material-ui/core/esm/List/List.js"),r=a("../../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),i=a("../../node_modules/@material-ui/core/esm/IconButton/IconButton.js"),d=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),c=a("../../node_modules/@material-ui/core/esm/Drawer/Drawer.js"),u=a("../../node_modules/@material-ui/icons/Menu.js"),m=a("../../node_modules/react/index.js"),p=a("../../node_modules/react-router/esm/react-router.js"),b=a("./i18n/Translation.tsx"),h=a("../../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),y=a("../../node_modules/react-router-dom/esm/react-router-dom.js");function g(e){var{innerRef:t}=e,a=(0,o._T)(e,["innerRef"]);return a.to.toString().match(/https/)?m.createElement("a",Object.assign({onClick:()=>Homey.openURL(a.to.toString())},a),a.children):m.createElement(y.rU,Object.assign({},a))}const f=e=>m.createElement(h.Z,Object.assign({},e,{component:g}),e.children),v=e=>({text:{padding:e.spacing(2),paddingBottom:0},version:{padding:e.spacing(2),paddingTop:0},normal:{},selected:{color:e.palette.primary.main},otherButton:{},firstButton:{marginLeft:-12}}),Z=e=>{const[t,a]=m.useState(!1);return m.createElement(m.Fragment,null,m.createElement(x,{open:t,onClose:()=>{a(!1)}}),m.createElement(j,{first:!0,onClick:()=>{a(!0)},icon:m.createElement(u.Z,null)}))},x=(0,p.EN)((0,d.Z)(v)((e=>{const{classes:t}=e,a=[{type:"entry",to:"/",text:(0,b.Z)("menu.plans")},{to:"/temperatures",text:(0,b.Z)("menu.temperatures")},{to:"/schedules",text:(0,b.Z)("menu.schedules")},{to:"/settings",text:(0,b.Z)("menu.settings")},{to:"https://homey-heating.mskg.app",text:(0,b.Z)("menu.help")}];return m.createElement(c.ZP,{open:e.open,onClose:e.onClose},m.createElement(s.Z,{className:t.text,variant:"h5",gutterBottom:!0},(0,b.Z)("menu.title")),m.createElement(s.Z,{className:t.version,variant:"body2",color:"textSecondary",gutterBottom:!0},"Version ","2.0.0-rc11"," (","v2.0.0-rc11",")"),m.createElement(l.Z,null),m.createElement(n.Z,null,a.map((a=>"Divider"===a.type?m.createElement(l.Z,null):m.createElement(f,{key:a.to,to:a.to,disabled:e.match.url===a.to,button:!0},m.createElement(r.Z,{primary:a.text,classes:{primary:e.match.url!==a.to?t.normal:t.selected}}))))))}))),j=(0,d.Z)(v)((e=>{const{classes:t,first:a,icon:s}=e,l=(0,o._T)(e,["classes","first","icon"]);return m.createElement(i.Z,Object.assign({className:a?t.firstButton:t.otherButton,color:"inherit"},l),s)}))},"./components/TemperatureAvatar.tsx":(e,t,a)=>{"use strict";a.d(t,{lt:()=>h,xj:()=>b});var o=a("../../node_modules/@material-ui/core/esm/Typography/Typography.js"),s=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),l=a("../../node_modules/@material-ui/core/esm/Avatar/Avatar.js"),n=a("../../node_modules/@material-ui/core/colors/deepOrange.js"),r=a("../../node_modules/@material-ui/core/colors/lightBlue.js"),i=a("../../node_modules/react/index.js"),d=a("./components/temperatureToColor.tsx");const c=a("../../assets/icon_black.svg"),u=35,m=e=>({root:{fontSize:"1em",float:"left",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",width:45},avatar:{width:u,height:u,lineHeight:u,position:"relative",overflow:"hidden"},img:{width:u,height:u,zIndex:2,position:"absolute",left:0,bottom:0},fill:{display:"block",width:u,height:33,zIndex:1,position:"absolute",left:0,bottom:1}});function p(e,t){return(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)}const b=(0,s.Z)(m)((e=>{const{value:t,classes:a,fill:s}=e;let{digits:l}=e;const d=(100===s?r.Z:n.Z)[500];return null==l&&(l=2),i.createElement("div",{className:a.root},i.createElement("div",{className:a.avatar},i.createElement("object",{className:a.img,data:c,type:"image/svg+xml"}),i.createElement("span",{style:{height:`calc(${s}% - 5px)`,background:d},className:a.fill})),i.createElement(o.Z,{variant:"body1",color:"textSecondary",component:"div"},p(t,l),"°"))})),h=(0,s.Z)(m)((e=>{const{value:t}=e;return i.createElement(l.Z,{style:{padding:"25px",background:(0,d.h)(t),fontSize:"1em"}},p(t,1),"°")}))},"./components/temperatureToColor.tsx":(e,t,a)=>{"use strict";a.d(t,{h:()=>r});var o=a("../../node_modules/@material-ui/core/colors/amber.js"),s=a("../../node_modules/@material-ui/core/colors/blue.js"),l=a("../../node_modules/@material-ui/core/colors/deepOrange.js"),n=a("../../node_modules/@material-ui/core/colors/green.js");const r=e=>{const t=Math.round(100*(a=Math.min(Math.max(16,e),24),16,24,1,8,Math.floor(7*(a-16)/8+1))+100);var a;return e<=16?s.Z[t]:e<=18.5?n.Z[t]:e<=20.5?o.Z[t]:l.Z[t]}},"./layouts/Page.tsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var o=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),s=a("../../node_modules/react/index.js");const l=(0,o.Z)((e=>({root:{webkitOverflowScrolling:"touch",display:"flex",flexFlow:"column",height:"100vh",width:"100vw",backgroundColor:"#fff"},body:{flex:"1 0 100%",margin:0,maxWidth:"100%",overflowY:"scroll"}})))((e=>{const{classes:t}=e,{header:a,body:o,paddingTop:l,paddingBottom:n}=e.children,r=n||"auto";return s.createElement(s.Fragment,null,s.createElement("div",{className:t.root},a,s.createElement("div",{className:t.body,style:{paddingTop:l,paddingBottom:r}},o)))}))},"./pages/plan-schedule.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var o=a("../../node_modules/@material-ui/core/esm/Button/Button.js"),s=a("../../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js"),l=a("../../node_modules/@material-ui/core/esm/Divider/Divider.js"),n=a("../../node_modules/@material-ui/core/esm/IconButton/IconButton.js"),r=a("../../node_modules/@material-ui/core/esm/List/List.js"),i=a("../../node_modules/@material-ui/core/esm/ListItem/ListItem.js"),d=a("../../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js"),c=a("../../node_modules/@material-ui/core/esm/styles/withStyles.js"),u=a("../../node_modules/@material-ui/core/esm/Tab/Tab.js"),m=a("../../node_modules/@material-ui/core/esm/Tabs/Tabs.js"),p=a("../../node_modules/@material-ui/icons/ArrowBackIos.js"),b=a("../../node_modules/@material-ui/icons/Cancel.js"),h=a("../../node_modules/@material-ui/icons/Delete.js"),y=a("../../node_modules/@material-ui/icons/FileCopy.js"),g=a("../../node_modules/react/index.js"),f=a("../../node_modules/react-router/esm/react-router.js"),v=a("../../node_modules/react-scroll-locky/dist/es2015/component.js"),Z=a("../app/model/index.ts"),x=a("./components/AddFab.tsx"),j=a("./components/AppHeader.tsx"),E=a("./components/Menu.tsx"),_=a("./components/TemperatureAvatar.tsx"),k=a("./i18n/Translation.tsx"),C=a("./layouts/Page.tsx"),w=a("./state/planHooks.tsx"),S=a("./state/PlanProvider.tsx");const T=g.lazy((()=>Promise.all([a.e(10),a.e(9),a.e(14)]).then(a.bind(a,"./dialogs/CopyDayDialog.tsx")))),P=g.lazy((()=>Promise.all([a.e(12),a.e(13),a.e(10),a.e(18)]).then(a.bind(a,"./dialogs/SetPointDialog.tsx"))));function B(e){return e>9?e.toString():"0"+e}function D(e){return e+1>6?0:e+1}const A=(0,f.EN)((0,c.Z)((e=>({list:{marginTop:0,marginBottom:e.spacing(2)},tab:{minWidth:"50px"},avatar:{}})))((e=>{const{classes:t,location:a,history:c}=e,f=(0,S.dr)(),[A,I]=g.useState(!1),[N,z]=g.useState(!1),[F,R]=g.useState(0),{plan:G,loaded:M}=(0,w.g0)(e.match.params.id),{undo:O,commit:L}=(0,w.k6)();g.useEffect((()=>{X(0),I(!1),z(!1)}),[a,M]);const{isDirty:$,setDirty:W,selectedDay:H,copyDays:V,loadSetPoint:Q,newSetPoint:U,selectDay:q,removeSetPoint:J}=(0,w.Zk)(),X=(0,g.useCallback)((e=>{R(e),q(D(e))}),[f]);return g.createElement(g.Fragment,null,g.createElement(T,{open:N,onConfirm:e=>{V(D(F),e),X(F),z(!1)},onCancel:()=>{z(!1)}}),g.createElement(P,{open:A,onClose:e=>{e&&(W(!0),X(F)),I(!1)}}),g.createElement(C.Z,null,{header:g.createElement(j.Z,null,{title:(0,k.Z)("schedule.title"),button:g.createElement(E.j2,{first:!0,onClick:function(){O(),c.replace({pathname:`/plans/${G.id}`,state:!0})},icon:$?g.createElement(b.Z,null):g.createElement(p.Z,null)}),actions:g.createElement(g.Fragment,null,g.createElement(E.j2,{onClick:()=>{z(!0)},icon:g.createElement(y.Z,null)}),$&&g.createElement(o.Z,{color:"inherit",onClick:function(){L(),c.replace({pathname:`/plans/${G.id}`,state:!0})}},(0,k.Z)("schedule.save"))),subBar:g.createElement(m.Z,{value:F,onChange:(e,t)=>X(t),variant:"fullWidth"},g.createElement(u.Z,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,k.Z)("schedule.Monday")}),g.createElement(u.Z,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,k.Z)("schedule.Tuesday")}),g.createElement(u.Z,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,k.Z)("schedule.Wednesday")}),g.createElement(u.Z,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,k.Z)("schedule.Thursday")}),g.createElement(u.Z,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,k.Z)("schedule.Friday")}),g.createElement(u.Z,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,k.Z)("schedule.Saturday")}),g.createElement(u.Z,{classes:{root:e.classes.tab},disableRipple:!0,label:(0,k.Z)("schedule.Sunday")}))}),paddingTop:100,paddingBottom:60,body:g.createElement(g.Fragment,null,g.createElement(v.Jk,{enabled:A||N,isolation:!1},g.createElement(r.Z,{className:t.list},H.last&&g.createElement(g.Fragment,{key:"-1"},g.createElement(i.Z,{button:!0,onClick:()=>{return X(0===(e=H.last&&H.last.day||0)?6:e-1);var e}},g.createElement(_.lt,{value:H.last.targetTemperature}),g.createElement(d.Z,{primary:`${Z.Jc[H.last.day]}`,secondary:`${B(H.last.hour)}:${B(H.last.minute)}`})),g.createElement(l.Z,null)),H.schedules.map((e=>g.createElement(g.Fragment,{key:e.index},g.createElement(i.Z,{button:!0,onClick:()=>{return t=e,a=e.index,Q(Object.assign(Object.assign({},t),{index:a})),void I(!0);var t,a}},g.createElement(_.lt,{value:e.targetTemperature}),g.createElement(d.Z,{primary:`${B(e.hour)}:${B(e.minute)}`}),g.createElement(s.Z,null,g.createElement(n.Z,{className:t.menuButton,onClick:()=>{return t=e.index,J(t),void X(F);var t}},g.createElement(h.Z,null)))),g.createElement(l.Z,null)))))),g.createElement(x.Z,{onClick:function(){U(D(F)),I(!0)}}))}))})))},"./state/planHooks.tsx":(e,t,a)=>{"use strict";a.d(t,{P5:()=>i,Zk:()=>c,_b:()=>d,g0:()=>m,k6:()=>r});var o=a("../../node_modules/react/index.js"),s=a("../../node_modules/uuid/v1.js"),l=a("./api/heating/index.tsx"),n=a("./state/PlanProvider.tsx");const r=()=>{const e=(0,n.dr)(),t=(0,n.QG)("loaded"),a=(0,o.useCallback)((()=>e({type:"savePoint"})),[e]),s=(0,o.useCallback)((()=>e({type:"undo"})),[e]),l=(0,o.useCallback)((()=>e({type:"commit"})),[e]);return(0,o.useEffect)((()=>{a()}),[t]),{savePoint:a,undo:s,commit:l}},i=()=>{const e=(0,n.dr)();return{setName:(0,o.useCallback)((t=>e({type:"setName",name:t.target.value})),[e]),setDescription:(0,o.useCallback)((t=>e({type:"setDescription",description:t.target.value})),[e]),toggleState:(0,o.useCallback)((()=>e({type:"toggleEnabled"})),[e]),toggleZone:(0,o.useCallback)((t=>e({type:"toggleZone",zone:t})),[e]),toggleDevice:(0,o.useCallback)((t=>e({type:"toggleDevice",device:t})),[e])}},d=()=>{const e=(0,n.dr)(),[t,a]=(0,o.useState)(!1),s=(0,o.useCallback)(((t,o)=>{e({type:"setOverride",mode:t,temperature:o}),a(!0)}),[e]),l=(0,o.useCallback)((t=>{e({type:"clearOverride",mode:t}),a(!0)}),[e]),r=(0,o.useCallback)(((e,t)=>{0===t?l(e):s(e,t)}),[e]);return(0,o.useEffect)((()=>{a(!1)}),[]),{isDirty:t,setOverride:s,clearOverride:l,updateOverride:r}},c=()=>{const[e,t]=(0,o.useState)(!1),a=(0,n.dr)(),s=(0,o.useCallback)((e=>{a({type:"selectDay",day:e})}),[a]),l=(0,n.QG)("selectedDay"),r=(0,n.QG)("setPoint"),i=(0,o.useCallback)(((e,o)=>{null!=o&&o.length>0&&(t(!0),a({type:"copyDays",source:e,targets:o}))}),[a]),d=(0,o.useCallback)((e=>{t(!0),a({type:"removeSetPoint",index:e})}),[a]),c=(0,o.useCallback)((e=>{a({type:"loadSetPoint",setPoint:e})}),[a]),u=(0,o.useCallback)((e=>{a({type:"newSetPoint",day:e})}),[a]),m=(0,o.useCallback)((e=>{-1===e.index?a({type:"addSetPoint",setPoint:e}):a({type:"updateSetPoint",setPoint:e})}),[a]),p=(0,o.useCallback)((e=>a({type:"setStart",start:e})),[a]),b=(0,o.useCallback)((e=>a({type:"setTargetTemperature",temperature:parseFloat(e.target.value)})),[a]);return(0,o.useEffect)((()=>{t(!1)}),[]),{setDirty:t,isDirty:e,selectedDay:l,setPoint:r,copyDays:i,removeSetPoint:d,loadSetPoint:c,newSetPoint:u,selectDay:s,saveSetPoint:m,setStart:p,setTargetTemperature:b}};let u=!1;const m=(e,t=!0)=>{const a=(0,n.dr)(),r=(0,n.QG)("plan"),i=(0,n.QG)("loaded"),d=(0,n.QG)("dirty");if(!i||!t)if(null!=e&&"new"!==e||u){if(!u)throw l.M.fetchPlanById(e).then((e=>{u=!0,a({type:"loadPlan",plan:e})}))}else u=!0,a({type:"loadPlan",plan:{id:s(),enabled:!1,name:"",zones:[],devices:[],schedule:[],overrides:void 0}});return(0,o.useEffect)((()=>()=>{u=!1}),[e,t]),{plan:r,isDirty:d,loaded:i}}}}]);
//# sourceMappingURL=https://raw.githubusercontent.com/mskg/homey-heating/release/v2.0.0-rc11/settings/2.js.map